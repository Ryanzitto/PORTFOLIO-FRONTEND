function X9(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function sc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jI={exports:{}},kv={},$I={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=Symbol.for("react.element"),K9=Symbol.for("react.portal"),Y9=Symbol.for("react.fragment"),Q9=Symbol.for("react.strict_mode"),q9=Symbol.for("react.profiler"),Z9=Symbol.for("react.provider"),eU=Symbol.for("react.context"),tU=Symbol.for("react.forward_ref"),nU=Symbol.for("react.suspense"),rU=Symbol.for("react.memo"),iU=Symbol.for("react.lazy"),aT=Symbol.iterator;function sU(n){return n===null||typeof n!="object"?null:(n=aT&&n[aT]||n["@@iterator"],typeof n=="function"?n:null)}var JI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XI=Object.assign,KI={};function md(n,e,t){this.props=n,this.context=e,this.refs=KI,this.updater=t||JI}md.prototype.isReactComponent={};md.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};md.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function YI(){}YI.prototype=md.prototype;function UM(n,e,t){this.props=n,this.context=e,this.refs=KI,this.updater=t||JI}var GM=UM.prototype=new YI;GM.constructor=UM;XI(GM,md.prototype);GM.isPureReactComponent=!0;var lT=Array.isArray,QI=Object.prototype.hasOwnProperty,HM={current:null},qI={key:!0,ref:!0,__self:!0,__source:!0};function ZI(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)QI.call(e,r)&&!qI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:em,type:n,key:s,ref:o,props:i,_owner:HM.current}}function oU(n,e){return{$$typeof:em,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function VM(n){return typeof n=="object"&&n!==null&&n.$$typeof===em}function aU(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var uT=/\/+/g;function jx(n,e){return typeof n=="object"&&n!==null&&n.key!=null?aU(""+n.key):e.toString(36)}function sy(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case em:case K9:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+jx(o,0):r,lT(i)?(t="",n!=null&&(t=n.replace(uT,"$&/")+"/"),sy(i,e,t,"",function(u){return u})):i!=null&&(VM(i)&&(i=oU(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(uT,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",lT(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+jx(s,a);o+=sy(s,e,t,l,i)}else if(l=sU(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+jx(s,a++),o+=sy(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kg(n,e,t){if(n==null)return n;var r=[],i=0;return sy(n,r,"","",function(s){return e.call(t,s,i++)}),r}function lU(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xr={current:null},oy={transition:null},uU={ReactCurrentDispatcher:Xr,ReactCurrentBatchConfig:oy,ReactCurrentOwner:HM};bt.Children={map:kg,forEach:function(n,e,t){kg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return kg(n,function(){e++}),e},toArray:function(n){return kg(n,function(e){return e})||[]},only:function(n){if(!VM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};bt.Component=md;bt.Fragment=Y9;bt.Profiler=q9;bt.PureComponent=UM;bt.StrictMode=Q9;bt.Suspense=nU;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uU;bt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=XI({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=HM.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)QI.call(e,l)&&!qI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:em,type:n.type,key:i,ref:s,props:r,_owner:o}};bt.createContext=function(n){return n={$$typeof:eU,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Z9,_context:n},n.Consumer=n};bt.createElement=ZI;bt.createFactory=function(n){var e=ZI.bind(null,n);return e.type=n,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(n){return{$$typeof:tU,render:n}};bt.isValidElement=VM;bt.lazy=function(n){return{$$typeof:iU,_payload:{_status:-1,_result:n},_init:lU}};bt.memo=function(n,e){return{$$typeof:rU,type:n,compare:e===void 0?null:e}};bt.startTransition=function(n){var e=oy.transition;oy.transition={};try{n()}finally{oy.transition=e}};bt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};bt.useCallback=function(n,e){return Xr.current.useCallback(n,e)};bt.useContext=function(n){return Xr.current.useContext(n)};bt.useDebugValue=function(){};bt.useDeferredValue=function(n){return Xr.current.useDeferredValue(n)};bt.useEffect=function(n,e){return Xr.current.useEffect(n,e)};bt.useId=function(){return Xr.current.useId()};bt.useImperativeHandle=function(n,e,t){return Xr.current.useImperativeHandle(n,e,t)};bt.useInsertionEffect=function(n,e){return Xr.current.useInsertionEffect(n,e)};bt.useLayoutEffect=function(n,e){return Xr.current.useLayoutEffect(n,e)};bt.useMemo=function(n,e){return Xr.current.useMemo(n,e)};bt.useReducer=function(n,e,t){return Xr.current.useReducer(n,e,t)};bt.useRef=function(n){return Xr.current.useRef(n)};bt.useState=function(n){return Xr.current.useState(n)};bt.useSyncExternalStore=function(n,e,t){return Xr.current.useSyncExternalStore(n,e,t)};bt.useTransition=function(){return Xr.current.useTransition()};bt.version="18.2.0";$I.exports=bt;var P=$I.exports;const J=sc(P),cU=X9({__proto__:null,default:J},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fU=P,dU=Symbol.for("react.element"),hU=Symbol.for("react.fragment"),pU=Object.prototype.hasOwnProperty,mU=fU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gU={key:!0,ref:!0,__self:!0,__source:!0};function eL(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)pU.call(e,r)&&!gU.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dU,type:n,key:s,ref:o,props:i,_owner:mU.current}}kv.Fragment=hU;kv.jsx=eL;kv.jsxs=eL;jI.exports=kv;var WM=jI.exports;const Fv=WM.Fragment,oe=WM.jsx,ut=WM.jsxs;var eS={},tL={exports:{}},Ni={},nL={exports:{}},rL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,z){var H=O.length;O.push(z);e:for(;0<H;){var K=H-1>>>1,ee=O[K];if(0<i(ee,z))O[K]=z,O[H]=ee,H=K;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],H=O.pop();if(H!==z){O[0]=H;e:for(var K=0,ee=O.length,ce=ee>>>1;K<ce;){var ge=2*(K+1)-1,Re=O[ge],se=ge+1,He=O[se];if(0>i(Re,H))se<ee&&0>i(He,Re)?(O[K]=He,O[se]=H,K=se):(O[K]=Re,O[ge]=H,K=ge);else if(se<ee&&0>i(He,H))O[K]=He,O[se]=H,K=se;else break e}}return z}function i(O,z){var H=O.sortIndex-z.sortIndex;return H!==0?H:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var z=t(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=O)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(u)}}function M(O){if(y=!1,S(O),!g)if(t(l)!==null)g=!0,X(C);else{var z=t(u);z!==null&&te(M,z.startTime-O)}}function C(O,z){g=!1,y&&(y=!1,x(b),b=-1),m=!0;var H=h;try{for(S(z),f=t(l);f!==null&&(!(f.expirationTime>z)||O&&!k());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var ee=K(f.expirationTime<=z);z=n.unstable_now(),typeof ee=="function"?f.callback=ee:f===t(l)&&r(l),S(z)}else r(l);f=t(l)}if(f!==null)var ce=!0;else{var ge=t(u);ge!==null&&te(M,ge.startTime-z),ce=!1}return ce}finally{f=null,h=H,m=!1}}var T=!1,R=null,b=-1,B=5,I=-1;function k(){return!(n.unstable_now()-I<B)}function j(){if(R!==null){var O=n.unstable_now();I=O;var z=!0;try{z=R(!0,O)}finally{z?G():(T=!1,R=null)}}else T=!1}var G;if(typeof _=="function")G=function(){_(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=j,G=function(){$.postMessage(null)}}else G=function(){v(j,0)};function X(O){R=O,T||(T=!0,G())}function te(O,z){b=v(function(){O(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,X(C))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var H=h;h=z;try{return O()}finally{h=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=h;h=O;try{return z()}finally{h=H}},n.unstable_scheduleCallback=function(O,z,H){var K=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,O){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=H+ee,O={id:c++,callback:z,priorityLevel:O,startTime:H,expirationTime:ee,sortIndex:-1},H>K?(O.sortIndex=H,e(u,O),t(l)===null&&O===t(u)&&(y?(x(b),b=-1):y=!0,te(M,H-K))):(O.sortIndex=ee,e(l,O),g||m||(g=!0,X(C))),O},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(O){var z=h;return function(){var H=h;h=z;try{return O.apply(this,arguments)}finally{h=H}}}})(rL);nL.exports=rL;var yU=nL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iL=P,ki=yU;function _e(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sL=new Set,up={};function oc(n,e){jf(n,e),jf(n+"Capture",e)}function jf(n,e){for(up[n]=e,n=0;n<e.length;n++)sL.add(e[n])}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tS=Object.prototype.hasOwnProperty,vU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cT={},fT={};function xU(n){return tS.call(fT,n)?!0:tS.call(cT,n)?!1:vU.test(n)?fT[n]=!0:(cT[n]=!0,!1)}function _U(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function wU(n,e,t,r){if(e===null||typeof e>"u"||_U(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){xr[n]=new Kr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];xr[e]=new Kr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){xr[n]=new Kr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){xr[n]=new Kr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){xr[n]=new Kr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){xr[n]=new Kr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){xr[n]=new Kr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){xr[n]=new Kr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){xr[n]=new Kr(n,5,!1,n.toLowerCase(),null,!1,!1)});var jM=/[\-:]([a-z])/g;function $M(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(jM,$M);xr[e]=new Kr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(jM,$M);xr[e]=new Kr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(jM,$M);xr[e]=new Kr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){xr[n]=new Kr(n,1,!1,n.toLowerCase(),null,!1,!1)});xr.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){xr[n]=new Kr(n,1,!1,n.toLowerCase(),null,!0,!0)});function JM(n,e,t,r){var i=xr.hasOwnProperty(e)?xr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wU(e,t,i,r)&&(t=null),r||i===null?xU(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ga=iL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fg=Symbol.for("react.element"),lf=Symbol.for("react.portal"),uf=Symbol.for("react.fragment"),XM=Symbol.for("react.strict_mode"),nS=Symbol.for("react.profiler"),oL=Symbol.for("react.provider"),aL=Symbol.for("react.context"),KM=Symbol.for("react.forward_ref"),rS=Symbol.for("react.suspense"),iS=Symbol.for("react.suspense_list"),YM=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),lL=Symbol.for("react.offscreen"),dT=Symbol.iterator;function Yd(n){return n===null||typeof n!="object"?null:(n=dT&&n[dT]||n["@@iterator"],typeof n=="function"?n:null)}var Mn=Object.assign,$x;function Eh(n){if($x===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);$x=e&&e[1]||""}return`
`+$x+n}var Jx=!1;function Xx(n,e){if(!n||Jx)return"";Jx=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jx=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Eh(n):""}function SU(n){switch(n.tag){case 5:return Eh(n.type);case 16:return Eh("Lazy");case 13:return Eh("Suspense");case 19:return Eh("SuspenseList");case 0:case 2:case 15:return n=Xx(n.type,!1),n;case 11:return n=Xx(n.type.render,!1),n;case 1:return n=Xx(n.type,!0),n;default:return""}}function sS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case uf:return"Fragment";case lf:return"Portal";case nS:return"Profiler";case XM:return"StrictMode";case rS:return"Suspense";case iS:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case aL:return(n.displayName||"Context")+".Consumer";case oL:return(n._context.displayName||"Context")+".Provider";case KM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case YM:return e=n.displayName||null,e!==null?e:sS(n.type)||"Memo";case ja:e=n._payload,n=n._init;try{return sS(n(e))}catch{}}return null}function AU(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sS(e);case 8:return e===XM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function uL(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MU(n){var e=uL(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Og(n){n._valueTracker||(n._valueTracker=MU(n))}function cL(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=uL(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Ry(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function oS(n,e){var t=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function hT(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=yl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fL(n,e){e=e.checked,e!=null&&JM(n,"checked",e,!1)}function aS(n,e){fL(n,e);var t=yl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?lS(n,e.type,t):e.hasOwnProperty("defaultValue")&&lS(n,e.type,yl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function pT(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function lS(n,e,t){(e!=="number"||Ry(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Th=Array.isArray;function Bf(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+yl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function uS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function mT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(_e(92));if(Th(t)){if(1<t.length)throw Error(_e(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:yl(t)}}function dL(n,e){var t=yl(e.value),r=yl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function gT(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function hL(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?hL(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ng,pL=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ng=Ng||document.createElement("div"),Ng.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ng.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function cp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Fh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bU=["Webkit","ms","Moz","O"];Object.keys(Fh).forEach(function(n){bU.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Fh[e]=Fh[n]})});function mL(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Fh.hasOwnProperty(n)&&Fh[n]?(""+e).trim():e+"px"}function gL(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=mL(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var CU=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fS(n,e){if(e){if(CU[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function dS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hS=null;function QM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var pS=null,Df=null,If=null;function yT(n){if(n=rm(n)){if(typeof pS!="function")throw Error(_e(280));var e=n.stateNode;e&&(e=Gv(e),pS(n.stateNode,n.type,e))}}function yL(n){Df?If?If.push(n):If=[n]:Df=n}function vL(){if(Df){var n=Df,e=If;if(If=Df=null,yT(n),e)for(n=0;n<e.length;n++)yT(e[n])}}function xL(n,e){return n(e)}function _L(){}var Kx=!1;function wL(n,e,t){if(Kx)return n(e,t);Kx=!0;try{return xL(n,e,t)}finally{Kx=!1,(Df!==null||If!==null)&&(_L(),vL())}}function fp(n,e){var t=n.stateNode;if(t===null)return null;var r=Gv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(_e(231,e,typeof t));return t}var mS=!1;if(oa)try{var Qd={};Object.defineProperty(Qd,"passive",{get:function(){mS=!0}}),window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{mS=!1}function EU(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var Oh=!1,By=null,Dy=!1,gS=null,TU={onError:function(n){Oh=!0,By=n}};function PU(n,e,t,r,i,s,o,a,l){Oh=!1,By=null,EU.apply(TU,arguments)}function RU(n,e,t,r,i,s,o,a,l){if(PU.apply(this,arguments),Oh){if(Oh){var u=By;Oh=!1,By=null}else throw Error(_e(198));Dy||(Dy=!0,gS=u)}}function ac(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function SL(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function vT(n){if(ac(n)!==n)throw Error(_e(188))}function BU(n){var e=n.alternate;if(!e){if(e=ac(n),e===null)throw Error(_e(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return vT(i),n;if(s===r)return vT(i),e;s=s.sibling}throw Error(_e(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(_e(189))}}if(t.alternate!==r)throw Error(_e(190))}if(t.tag!==3)throw Error(_e(188));return t.stateNode.current===t?n:e}function AL(n){return n=BU(n),n!==null?ML(n):null}function ML(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=ML(n);if(e!==null)return e;n=n.sibling}return null}var bL=ki.unstable_scheduleCallback,xT=ki.unstable_cancelCallback,DU=ki.unstable_shouldYield,IU=ki.unstable_requestPaint,zn=ki.unstable_now,LU=ki.unstable_getCurrentPriorityLevel,qM=ki.unstable_ImmediatePriority,CL=ki.unstable_UserBlockingPriority,Iy=ki.unstable_NormalPriority,kU=ki.unstable_LowPriority,EL=ki.unstable_IdlePriority,Ov=null,go=null;function FU(n){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(Ov,n,void 0,(n.current.flags&128)===128)}catch{}}var zs=Math.clz32?Math.clz32:zU,OU=Math.log,NU=Math.LN2;function zU(n){return n>>>=0,n===0?32:31-(OU(n)/NU|0)|0}var zg=64,Ug=4194304;function Ph(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ly(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Ph(a):(s&=o,s!==0&&(r=Ph(s)))}else o=t&~i,o!==0?r=Ph(o):s!==0&&(r=Ph(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-zs(e),i=1<<t,r|=n[t],e&=~i;return r}function UU(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GU(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-zs(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=UU(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function yS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function TL(){var n=zg;return zg<<=1,!(zg&4194240)&&(zg=64),n}function Yx(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function tm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-zs(e),n[e]=t}function HU(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-zs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function ZM(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-zs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Vt=0;function PL(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var RL,eb,BL,DL,IL,vS=!1,Gg=[],ol=null,al=null,ll=null,dp=new Map,hp=new Map,Ya=[],VU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _T(n,e){switch(n){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":ll=null;break;case"pointerover":case"pointerout":dp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hp.delete(e.pointerId)}}function qd(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rm(e),e!==null&&eb(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function WU(n,e,t,r,i){switch(e){case"focusin":return ol=qd(ol,n,e,t,r,i),!0;case"dragenter":return al=qd(al,n,e,t,r,i),!0;case"mouseover":return ll=qd(ll,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return dp.set(s,qd(dp.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hp.set(s,qd(hp.get(s)||null,n,e,t,r,i)),!0}return!1}function LL(n){var e=xu(n.target);if(e!==null){var t=ac(e);if(t!==null){if(e=t.tag,e===13){if(e=SL(t),e!==null){n.blockedOn=e,IL(n.priority,function(){BL(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ay(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=xS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);hS=r,t.target.dispatchEvent(r),hS=null}else return e=rm(t),e!==null&&eb(e),n.blockedOn=t,!1;e.shift()}return!0}function wT(n,e,t){ay(n)&&t.delete(e)}function jU(){vS=!1,ol!==null&&ay(ol)&&(ol=null),al!==null&&ay(al)&&(al=null),ll!==null&&ay(ll)&&(ll=null),dp.forEach(wT),hp.forEach(wT)}function Zd(n,e){n.blockedOn===e&&(n.blockedOn=null,vS||(vS=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,jU)))}function pp(n){function e(i){return Zd(i,n)}if(0<Gg.length){Zd(Gg[0],n);for(var t=1;t<Gg.length;t++){var r=Gg[t];r.blockedOn===n&&(r.blockedOn=null)}}for(ol!==null&&Zd(ol,n),al!==null&&Zd(al,n),ll!==null&&Zd(ll,n),dp.forEach(e),hp.forEach(e),t=0;t<Ya.length;t++)r=Ya[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ya.length&&(t=Ya[0],t.blockedOn===null);)LL(t),t.blockedOn===null&&Ya.shift()}var Lf=ga.ReactCurrentBatchConfig,ky=!0;function $U(n,e,t,r){var i=Vt,s=Lf.transition;Lf.transition=null;try{Vt=1,tb(n,e,t,r)}finally{Vt=i,Lf.transition=s}}function JU(n,e,t,r){var i=Vt,s=Lf.transition;Lf.transition=null;try{Vt=4,tb(n,e,t,r)}finally{Vt=i,Lf.transition=s}}function tb(n,e,t,r){if(ky){var i=xS(n,e,t,r);if(i===null)o_(n,e,r,Fy,t),_T(n,r);else if(WU(i,n,e,t,r))r.stopPropagation();else if(_T(n,r),e&4&&-1<VU.indexOf(n)){for(;i!==null;){var s=rm(i);if(s!==null&&RL(s),s=xS(n,e,t,r),s===null&&o_(n,e,r,Fy,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else o_(n,e,r,null,t)}}var Fy=null;function xS(n,e,t,r){if(Fy=null,n=QM(r),n=xu(n),n!==null)if(e=ac(n),e===null)n=null;else if(t=e.tag,t===13){if(n=SL(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Fy=n,null}function kL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LU()){case qM:return 1;case CL:return 4;case Iy:case kU:return 16;case EL:return 536870912;default:return 16}default:return 16}}var qa=null,nb=null,ly=null;function FL(){if(ly)return ly;var n,e=nb,t=e.length,r,i="value"in qa?qa.value:qa.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return ly=i.slice(n,1<r?1-r:void 0)}function uy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Hg(){return!0}function ST(){return!1}function zi(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hg:ST,this.isPropagationStopped=ST,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Hg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Hg)},persist:function(){},isPersistent:Hg}),e}var gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rb=zi(gd),nm=Mn({},gd,{view:0,detail:0}),XU=zi(nm),Qx,qx,eh,Nv=Mn({},nm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ib,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==eh&&(eh&&n.type==="mousemove"?(Qx=n.screenX-eh.screenX,qx=n.screenY-eh.screenY):qx=Qx=0,eh=n),Qx)},movementY:function(n){return"movementY"in n?n.movementY:qx}}),AT=zi(Nv),KU=Mn({},Nv,{dataTransfer:0}),YU=zi(KU),QU=Mn({},nm,{relatedTarget:0}),Zx=zi(QU),qU=Mn({},gd,{animationName:0,elapsedTime:0,pseudoElement:0}),ZU=zi(qU),e8=Mn({},gd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),t8=zi(e8),n8=Mn({},gd,{data:0}),MT=zi(n8),r8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o8(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=s8[n])?!!e[n]:!1}function ib(){return o8}var a8=Mn({},nm,{key:function(n){if(n.key){var e=r8[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=uy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?i8[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ib,charCode:function(n){return n.type==="keypress"?uy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?uy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),l8=zi(a8),u8=Mn({},Nv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bT=zi(u8),c8=Mn({},nm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ib}),f8=zi(c8),d8=Mn({},gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),h8=zi(d8),p8=Mn({},Nv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),m8=zi(p8),g8=[9,13,27,32],sb=oa&&"CompositionEvent"in window,Nh=null;oa&&"documentMode"in document&&(Nh=document.documentMode);var y8=oa&&"TextEvent"in window&&!Nh,OL=oa&&(!sb||Nh&&8<Nh&&11>=Nh),CT=String.fromCharCode(32),ET=!1;function NL(n,e){switch(n){case"keyup":return g8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var cf=!1;function v8(n,e){switch(n){case"compositionend":return zL(e);case"keypress":return e.which!==32?null:(ET=!0,CT);case"textInput":return n=e.data,n===CT&&ET?null:n;default:return null}}function x8(n,e){if(cf)return n==="compositionend"||!sb&&NL(n,e)?(n=FL(),ly=nb=qa=null,cf=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OL&&e.locale!=="ko"?null:e.data;default:return null}}var _8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!_8[n.type]:e==="textarea"}function UL(n,e,t,r){yL(r),e=Oy(e,"onChange"),0<e.length&&(t=new rb("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var zh=null,mp=null;function w8(n){QL(n,0)}function zv(n){var e=hf(n);if(cL(e))return n}function S8(n,e){if(n==="change")return e}var GL=!1;if(oa){var e_;if(oa){var t_="oninput"in document;if(!t_){var PT=document.createElement("div");PT.setAttribute("oninput","return;"),t_=typeof PT.oninput=="function"}e_=t_}else e_=!1;GL=e_&&(!document.documentMode||9<document.documentMode)}function RT(){zh&&(zh.detachEvent("onpropertychange",HL),mp=zh=null)}function HL(n){if(n.propertyName==="value"&&zv(mp)){var e=[];UL(e,mp,n,QM(n)),wL(w8,e)}}function A8(n,e,t){n==="focusin"?(RT(),zh=e,mp=t,zh.attachEvent("onpropertychange",HL)):n==="focusout"&&RT()}function M8(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return zv(mp)}function b8(n,e){if(n==="click")return zv(e)}function C8(n,e){if(n==="input"||n==="change")return zv(e)}function E8(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var js=typeof Object.is=="function"?Object.is:E8;function gp(n,e){if(js(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!tS.call(e,i)||!js(n[i],e[i]))return!1}return!0}function BT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function DT(n,e){var t=BT(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=BT(t)}}function VL(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?VL(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function WL(){for(var n=window,e=Ry();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ry(n.document)}return e}function ob(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function T8(n){var e=WL(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&VL(t.ownerDocument.documentElement,t)){if(r!==null&&ob(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=DT(t,s);var o=DT(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var P8=oa&&"documentMode"in document&&11>=document.documentMode,ff=null,_S=null,Uh=null,wS=!1;function IT(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;wS||ff==null||ff!==Ry(r)||(r=ff,"selectionStart"in r&&ob(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uh&&gp(Uh,r)||(Uh=r,r=Oy(_S,"onSelect"),0<r.length&&(e=new rb("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=ff)))}function Vg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var df={animationend:Vg("Animation","AnimationEnd"),animationiteration:Vg("Animation","AnimationIteration"),animationstart:Vg("Animation","AnimationStart"),transitionend:Vg("Transition","TransitionEnd")},n_={},jL={};oa&&(jL=document.createElement("div").style,"AnimationEvent"in window||(delete df.animationend.animation,delete df.animationiteration.animation,delete df.animationstart.animation),"TransitionEvent"in window||delete df.transitionend.transition);function Uv(n){if(n_[n])return n_[n];if(!df[n])return n;var e=df[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in jL)return n_[n]=e[t];return n}var $L=Uv("animationend"),JL=Uv("animationiteration"),XL=Uv("animationstart"),KL=Uv("transitionend"),YL=new Map,LT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pl(n,e){YL.set(n,e),oc(e,[n])}for(var r_=0;r_<LT.length;r_++){var i_=LT[r_],R8=i_.toLowerCase(),B8=i_[0].toUpperCase()+i_.slice(1);Pl(R8,"on"+B8)}Pl($L,"onAnimationEnd");Pl(JL,"onAnimationIteration");Pl(XL,"onAnimationStart");Pl("dblclick","onDoubleClick");Pl("focusin","onFocus");Pl("focusout","onBlur");Pl(KL,"onTransitionEnd");jf("onMouseEnter",["mouseout","mouseover"]);jf("onMouseLeave",["mouseout","mouseover"]);jf("onPointerEnter",["pointerout","pointerover"]);jf("onPointerLeave",["pointerout","pointerover"]);oc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oc("onBeforeInput",["compositionend","keypress","textInput","paste"]);oc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rh));function kT(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,RU(r,e,void 0,n),n.currentTarget=null}function QL(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;kT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;kT(i,a,u),s=l}}}if(Dy)throw n=gS,Dy=!1,gS=null,n}function Zt(n,e){var t=e[CS];t===void 0&&(t=e[CS]=new Set);var r=n+"__bubble";t.has(r)||(qL(e,n,2,!1),t.add(r))}function s_(n,e,t){var r=0;e&&(r|=4),qL(t,n,r,e)}var Wg="_reactListening"+Math.random().toString(36).slice(2);function yp(n){if(!n[Wg]){n[Wg]=!0,sL.forEach(function(t){t!=="selectionchange"&&(D8.has(t)||s_(t,!1,n),s_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Wg]||(e[Wg]=!0,s_("selectionchange",!1,e))}}function qL(n,e,t,r){switch(kL(e)){case 1:var i=$U;break;case 4:i=JU;break;default:i=tb}t=i.bind(null,e,t,n),i=void 0,!mS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function o_(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}wL(function(){var u=s,c=QM(t),f=[];e:{var h=YL.get(n);if(h!==void 0){var m=rb,g=n;switch(n){case"keypress":if(uy(t)===0)break e;case"keydown":case"keyup":m=l8;break;case"focusin":g="focus",m=Zx;break;case"focusout":g="blur",m=Zx;break;case"beforeblur":case"afterblur":m=Zx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=AT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=YU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f8;break;case $L:case JL:case XL:m=ZU;break;case KL:m=h8;break;case"scroll":m=XU;break;case"wheel":m=m8;break;case"copy":case"cut":case"paste":m=t8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bT}var y=(e&4)!==0,v=!y&&n==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var _=u,S;_!==null;){S=_;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,x!==null&&(M=fp(_,x),M!=null&&y.push(vp(_,M,S)))),v)break;_=_.return}0<y.length&&(h=new m(h,g,null,t,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",h&&t!==hS&&(g=t.relatedTarget||t.fromElement)&&(xu(g)||g[aa]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=u,g=g?xu(g):null,g!==null&&(v=ac(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=AT,M="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(y=bT,M="onPointerLeave",x="onPointerEnter",_="pointer"),v=m==null?h:hf(m),S=g==null?h:hf(g),h=new y(M,_+"leave",m,t,c),h.target=v,h.relatedTarget=S,M=null,xu(c)===u&&(y=new y(x,_+"enter",g,t,c),y.target=S,y.relatedTarget=v,M=y),v=M,m&&g)t:{for(y=m,x=g,_=0,S=y;S;S=Pc(S))_++;for(S=0,M=x;M;M=Pc(M))S++;for(;0<_-S;)y=Pc(y),_--;for(;0<S-_;)x=Pc(x),S--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=Pc(y),x=Pc(x)}y=null}else y=null;m!==null&&FT(f,h,m,y,!1),g!==null&&v!==null&&FT(f,v,g,y,!0)}}e:{if(h=u?hf(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=S8;else if(TT(h))if(GL)C=C8;else{C=M8;var T=A8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=b8);if(C&&(C=C(n,u))){UL(f,C,t,c);break e}T&&T(n,h,u),n==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&lS(h,"number",h.value)}switch(T=u?hf(u):window,n){case"focusin":(TT(T)||T.contentEditable==="true")&&(ff=T,_S=u,Uh=null);break;case"focusout":Uh=_S=ff=null;break;case"mousedown":wS=!0;break;case"contextmenu":case"mouseup":case"dragend":wS=!1,IT(f,t,c);break;case"selectionchange":if(P8)break;case"keydown":case"keyup":IT(f,t,c)}var R;if(sb)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else cf?NL(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(OL&&t.locale!=="ko"&&(cf||b!=="onCompositionStart"?b==="onCompositionEnd"&&cf&&(R=FL()):(qa=c,nb="value"in qa?qa.value:qa.textContent,cf=!0)),T=Oy(u,b),0<T.length&&(b=new MT(b,n,null,t,c),f.push({event:b,listeners:T}),R?b.data=R:(R=zL(t),R!==null&&(b.data=R)))),(R=y8?v8(n,t):x8(n,t))&&(u=Oy(u,"onBeforeInput"),0<u.length&&(c=new MT("onBeforeInput","beforeinput",null,t,c),f.push({event:c,listeners:u}),c.data=R))}QL(f,e)})}function vp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Oy(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fp(n,t),s!=null&&r.unshift(vp(n,s,i)),s=fp(n,e),s!=null&&r.push(vp(n,s,i))),n=n.return}return r}function Pc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function FT(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=fp(t,s),l!=null&&o.unshift(vp(t,l,a))):i||(l=fp(t,s),l!=null&&o.push(vp(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var I8=/\r\n?/g,L8=/\u0000|\uFFFD/g;function OT(n){return(typeof n=="string"?n:""+n).replace(I8,`
`).replace(L8,"")}function jg(n,e,t){if(e=OT(e),OT(n)!==e&&t)throw Error(_e(425))}function Ny(){}var SS=null,AS=null;function MS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bS=typeof setTimeout=="function"?setTimeout:void 0,k8=typeof clearTimeout=="function"?clearTimeout:void 0,NT=typeof Promise=="function"?Promise:void 0,F8=typeof queueMicrotask=="function"?queueMicrotask:typeof NT<"u"?function(n){return NT.resolve(null).then(n).catch(O8)}:bS;function O8(n){setTimeout(function(){throw n})}function a_(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),pp(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);pp(e)}function ul(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function zT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var yd=Math.random().toString(36).slice(2),fo="__reactFiber$"+yd,xp="__reactProps$"+yd,aa="__reactContainer$"+yd,CS="__reactEvents$"+yd,N8="__reactListeners$"+yd,z8="__reactHandles$"+yd;function xu(n){var e=n[fo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[aa]||t[fo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=zT(n);n!==null;){if(t=n[fo])return t;n=zT(n)}return e}n=t,t=n.parentNode}return null}function rm(n){return n=n[fo]||n[aa],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function hf(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(_e(33))}function Gv(n){return n[xp]||null}var ES=[],pf=-1;function Rl(n){return{current:n}}function nn(n){0>pf||(n.current=ES[pf],ES[pf]=null,pf--)}function qt(n,e){pf++,ES[pf]=n.current,n.current=e}var vl={},Ir=Rl(vl),ui=Rl(!1),Wu=vl;function $f(n,e){var t=n.type.contextTypes;if(!t)return vl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ci(n){return n=n.childContextTypes,n!=null}function zy(){nn(ui),nn(Ir)}function UT(n,e,t){if(Ir.current!==vl)throw Error(_e(168));qt(Ir,e),qt(ui,t)}function ZL(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_e(108,AU(n)||"Unknown",i));return Mn({},t,r)}function Uy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||vl,Wu=Ir.current,qt(Ir,n),qt(ui,ui.current),!0}function GT(n,e,t){var r=n.stateNode;if(!r)throw Error(_e(169));t?(n=ZL(n,e,Wu),r.__reactInternalMemoizedMergedChildContext=n,nn(ui),nn(Ir),qt(Ir,n)):nn(ui),qt(ui,t)}var jo=null,Hv=!1,l_=!1;function ek(n){jo===null?jo=[n]:jo.push(n)}function U8(n){Hv=!0,ek(n)}function Bl(){if(!l_&&jo!==null){l_=!0;var n=0,e=Vt;try{var t=jo;for(Vt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}jo=null,Hv=!1}catch(i){throw jo!==null&&(jo=jo.slice(n+1)),bL(qM,Bl),i}finally{Vt=e,l_=!1}}return null}var mf=[],gf=0,Gy=null,Hy=0,as=[],ls=0,ju=null,Yo=1,Qo="";function uu(n,e){mf[gf++]=Hy,mf[gf++]=Gy,Gy=n,Hy=e}function tk(n,e,t){as[ls++]=Yo,as[ls++]=Qo,as[ls++]=ju,ju=n;var r=Yo;n=Qo;var i=32-zs(r)-1;r&=~(1<<i),t+=1;var s=32-zs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yo=1<<32-zs(e)+i|t<<i|r,Qo=s+n}else Yo=1<<s|t<<i|r,Qo=n}function ab(n){n.return!==null&&(uu(n,1),tk(n,1,0))}function lb(n){for(;n===Gy;)Gy=mf[--gf],mf[gf]=null,Hy=mf[--gf],mf[gf]=null;for(;n===ju;)ju=as[--ls],as[ls]=null,Qo=as[--ls],as[ls]=null,Yo=as[--ls],as[ls]=null}var Ri=null,Ei=null,ln=!1,Fs=null;function nk(n,e){var t=hs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function HT(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ri=n,Ei=ul(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ri=n,Ei=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ju!==null?{id:Yo,overflow:Qo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=hs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ri=n,Ei=null,!0):!1;default:return!1}}function TS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function PS(n){if(ln){var e=Ei;if(e){var t=e;if(!HT(n,e)){if(TS(n))throw Error(_e(418));e=ul(t.nextSibling);var r=Ri;e&&HT(n,e)?nk(r,t):(n.flags=n.flags&-4097|2,ln=!1,Ri=n)}}else{if(TS(n))throw Error(_e(418));n.flags=n.flags&-4097|2,ln=!1,Ri=n}}}function VT(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ri=n}function $g(n){if(n!==Ri)return!1;if(!ln)return VT(n),ln=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!MS(n.type,n.memoizedProps)),e&&(e=Ei)){if(TS(n))throw rk(),Error(_e(418));for(;e;)nk(n,e),e=ul(e.nextSibling)}if(VT(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(_e(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ei=ul(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ei=null}}else Ei=Ri?ul(n.stateNode.nextSibling):null;return!0}function rk(){for(var n=Ei;n;)n=ul(n.nextSibling)}function Jf(){Ei=Ri=null,ln=!1}function ub(n){Fs===null?Fs=[n]:Fs.push(n)}var G8=ga.ReactCurrentBatchConfig;function Ls(n,e){if(n&&n.defaultProps){e=Mn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Vy=Rl(null),Wy=null,yf=null,cb=null;function fb(){cb=yf=Wy=null}function db(n){var e=Vy.current;nn(Vy),n._currentValue=e}function RS(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function kf(n,e){Wy=n,cb=yf=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ai=!0),n.firstContext=null)}function xs(n){var e=n._currentValue;if(cb!==n)if(n={context:n,memoizedValue:e,next:null},yf===null){if(Wy===null)throw Error(_e(308));yf=n,Wy.dependencies={lanes:0,firstContext:n}}else yf=yf.next=n;return e}var _u=null;function hb(n){_u===null?_u=[n]:_u.push(n)}function ik(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,hb(e)):(t.next=i.next,i.next=t),e.interleaved=t,la(n,r)}function la(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var $a=!1;function pb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sk(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ta(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function cl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,It&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,la(n,t)}return i=r.interleaved,i===null?(e.next=e,hb(r)):(e.next=i.next,i.next=e),r.interleaved=e,la(n,t)}function cy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,ZM(n,t)}}function WT(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function jy(n,e,t,r){var i=n.updateQueue;$a=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(h=e,m=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Mn({},f,h);break e;case 2:$a=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ju|=o,n.lanes=o,n.memoizedState=f}}function jT(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var ok=new iL.Component().refs;function BS(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Mn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Vv={isMounted:function(n){return(n=n._reactInternals)?ac(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Jr(),i=dl(n),s=ta(r,i);s.payload=e,t!=null&&(s.callback=t),e=cl(n,s,i),e!==null&&(Us(e,n,i,r),cy(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Jr(),i=dl(n),s=ta(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=cl(n,s,i),e!==null&&(Us(e,n,i,r),cy(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Jr(),r=dl(n),i=ta(t,r);i.tag=2,e!=null&&(i.callback=e),e=cl(n,i,r),e!==null&&(Us(e,n,r,t),cy(e,n,r))}};function $T(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gp(t,r)||!gp(i,s):!0}function ak(n,e,t){var r=!1,i=vl,s=e.contextType;return typeof s=="object"&&s!==null?s=xs(s):(i=ci(e)?Wu:Ir.current,r=e.contextTypes,s=(r=r!=null)?$f(n,i):vl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function JT(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Vv.enqueueReplaceState(e,e.state,null)}function DS(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=ok,pb(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xs(s):(s=ci(e)?Wu:Ir.current,i.context=$f(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(BS(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vv.enqueueReplaceState(i,i.state,null),jy(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function th(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(_e(309));var r=t.stateNode}if(!r)throw Error(_e(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===ok&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(_e(284));if(!t._owner)throw Error(_e(290,n))}return n}function Jg(n,e){throw n=Object.prototype.toString.call(e),Error(_e(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function XT(n){var e=n._init;return e(n._payload)}function lk(n){function e(x,_){if(n){var S=x.deletions;S===null?(x.deletions=[_],x.flags|=16):S.push(_)}}function t(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=hl(x,_),x.index=0,x.sibling=null,x}function s(x,_,S){return x.index=S,n?(S=x.alternate,S!==null?(S=S.index,S<_?(x.flags|=2,_):S):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,_,S,M){return _===null||_.tag!==6?(_=m_(S,x.mode,M),_.return=x,_):(_=i(_,S),_.return=x,_)}function l(x,_,S,M){var C=S.type;return C===uf?c(x,_,S.props.children,M,S.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ja&&XT(C)===_.type)?(M=i(_,S.props),M.ref=th(x,_,S),M.return=x,M):(M=gy(S.type,S.key,S.props,null,x.mode,M),M.ref=th(x,_,S),M.return=x,M)}function u(x,_,S,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=g_(S,x.mode,M),_.return=x,_):(_=i(_,S.children||[]),_.return=x,_)}function c(x,_,S,M,C){return _===null||_.tag!==7?(_=Bu(S,x.mode,M,C),_.return=x,_):(_=i(_,S),_.return=x,_)}function f(x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=m_(""+_,x.mode,S),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fg:return S=gy(_.type,_.key,_.props,null,x.mode,S),S.ref=th(x,null,_),S.return=x,S;case lf:return _=g_(_,x.mode,S),_.return=x,_;case ja:var M=_._init;return f(x,M(_._payload),S)}if(Th(_)||Yd(_))return _=Bu(_,x.mode,S,null),_.return=x,_;Jg(x,_)}return null}function h(x,_,S,M){var C=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(x,_,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fg:return S.key===C?l(x,_,S,M):null;case lf:return S.key===C?u(x,_,S,M):null;case ja:return C=S._init,h(x,_,C(S._payload),M)}if(Th(S)||Yd(S))return C!==null?null:c(x,_,S,M,null);Jg(x,S)}return null}function m(x,_,S,M,C){if(typeof M=="string"&&M!==""||typeof M=="number")return x=x.get(S)||null,a(_,x,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Fg:return x=x.get(M.key===null?S:M.key)||null,l(_,x,M,C);case lf:return x=x.get(M.key===null?S:M.key)||null,u(_,x,M,C);case ja:var T=M._init;return m(x,_,S,T(M._payload),C)}if(Th(M)||Yd(M))return x=x.get(S)||null,c(_,x,M,C,null);Jg(_,M)}return null}function g(x,_,S,M){for(var C=null,T=null,R=_,b=_=0,B=null;R!==null&&b<S.length;b++){R.index>b?(B=R,R=null):B=R.sibling;var I=h(x,R,S[b],M);if(I===null){R===null&&(R=B);break}n&&R&&I.alternate===null&&e(x,R),_=s(I,_,b),T===null?C=I:T.sibling=I,T=I,R=B}if(b===S.length)return t(x,R),ln&&uu(x,b),C;if(R===null){for(;b<S.length;b++)R=f(x,S[b],M),R!==null&&(_=s(R,_,b),T===null?C=R:T.sibling=R,T=R);return ln&&uu(x,b),C}for(R=r(x,R);b<S.length;b++)B=m(R,x,b,S[b],M),B!==null&&(n&&B.alternate!==null&&R.delete(B.key===null?b:B.key),_=s(B,_,b),T===null?C=B:T.sibling=B,T=B);return n&&R.forEach(function(k){return e(x,k)}),ln&&uu(x,b),C}function y(x,_,S,M){var C=Yd(S);if(typeof C!="function")throw Error(_e(150));if(S=C.call(S),S==null)throw Error(_e(151));for(var T=C=null,R=_,b=_=0,B=null,I=S.next();R!==null&&!I.done;b++,I=S.next()){R.index>b?(B=R,R=null):B=R.sibling;var k=h(x,R,I.value,M);if(k===null){R===null&&(R=B);break}n&&R&&k.alternate===null&&e(x,R),_=s(k,_,b),T===null?C=k:T.sibling=k,T=k,R=B}if(I.done)return t(x,R),ln&&uu(x,b),C;if(R===null){for(;!I.done;b++,I=S.next())I=f(x,I.value,M),I!==null&&(_=s(I,_,b),T===null?C=I:T.sibling=I,T=I);return ln&&uu(x,b),C}for(R=r(x,R);!I.done;b++,I=S.next())I=m(R,x,b,I.value,M),I!==null&&(n&&I.alternate!==null&&R.delete(I.key===null?b:I.key),_=s(I,_,b),T===null?C=I:T.sibling=I,T=I);return n&&R.forEach(function(j){return e(x,j)}),ln&&uu(x,b),C}function v(x,_,S,M){if(typeof S=="object"&&S!==null&&S.type===uf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Fg:e:{for(var C=S.key,T=_;T!==null;){if(T.key===C){if(C=S.type,C===uf){if(T.tag===7){t(x,T.sibling),_=i(T,S.props.children),_.return=x,x=_;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ja&&XT(C)===T.type){t(x,T.sibling),_=i(T,S.props),_.ref=th(x,T,S),_.return=x,x=_;break e}t(x,T);break}else e(x,T);T=T.sibling}S.type===uf?(_=Bu(S.props.children,x.mode,M,S.key),_.return=x,x=_):(M=gy(S.type,S.key,S.props,null,x.mode,M),M.ref=th(x,_,S),M.return=x,x=M)}return o(x);case lf:e:{for(T=S.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){t(x,_.sibling),_=i(_,S.children||[]),_.return=x,x=_;break e}else{t(x,_);break}else e(x,_);_=_.sibling}_=g_(S,x.mode,M),_.return=x,x=_}return o(x);case ja:return T=S._init,v(x,_,T(S._payload),M)}if(Th(S))return g(x,_,S,M);if(Yd(S))return y(x,_,S,M);Jg(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(t(x,_.sibling),_=i(_,S),_.return=x,x=_):(t(x,_),_=m_(S,x.mode,M),_.return=x,x=_),o(x)):t(x,_)}return v}var Xf=lk(!0),uk=lk(!1),im={},yo=Rl(im),_p=Rl(im),wp=Rl(im);function wu(n){if(n===im)throw Error(_e(174));return n}function mb(n,e){switch(qt(wp,e),qt(_p,n),qt(yo,im),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=cS(e,n)}nn(yo),qt(yo,e)}function Kf(){nn(yo),nn(_p),nn(wp)}function ck(n){wu(wp.current);var e=wu(yo.current),t=cS(e,n.type);e!==t&&(qt(_p,n),qt(yo,t))}function gb(n){_p.current===n&&(nn(yo),nn(_p))}var gn=Rl(0);function $y(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var u_=[];function yb(){for(var n=0;n<u_.length;n++)u_[n]._workInProgressVersionPrimary=null;u_.length=0}var fy=ga.ReactCurrentDispatcher,c_=ga.ReactCurrentBatchConfig,$u=0,An=null,qn=null,fr=null,Jy=!1,Gh=!1,Sp=0,H8=0;function br(){throw Error(_e(321))}function vb(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!js(n[t],e[t]))return!1;return!0}function xb(n,e,t,r,i,s){if($u=s,An=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fy.current=n===null||n.memoizedState===null?$8:J8,n=t(r,i),Gh){s=0;do{if(Gh=!1,Sp=0,25<=s)throw Error(_e(301));s+=1,fr=qn=null,e.updateQueue=null,fy.current=X8,n=t(r,i)}while(Gh)}if(fy.current=Xy,e=qn!==null&&qn.next!==null,$u=0,fr=qn=An=null,Jy=!1,e)throw Error(_e(300));return n}function _b(){var n=Sp!==0;return Sp=0,n}function ao(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?An.memoizedState=fr=n:fr=fr.next=n,fr}function _s(){if(qn===null){var n=An.alternate;n=n!==null?n.memoizedState:null}else n=qn.next;var e=fr===null?An.memoizedState:fr.next;if(e!==null)fr=e,qn=n;else{if(n===null)throw Error(_e(310));qn=n,n={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},fr===null?An.memoizedState=fr=n:fr=fr.next=n}return fr}function Ap(n,e){return typeof e=="function"?e(n):e}function f_(n){var e=_s(),t=e.queue;if(t===null)throw Error(_e(311));t.lastRenderedReducer=n;var r=qn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if(($u&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,An.lanes|=c,Ju|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,js(r,e.memoizedState)||(ai=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,An.lanes|=s,Ju|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function d_(n){var e=_s(),t=e.queue;if(t===null)throw Error(_e(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);js(s,e.memoizedState)||(ai=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function fk(){}function dk(n,e){var t=An,r=_s(),i=e(),s=!js(r.memoizedState,i);if(s&&(r.memoizedState=i,ai=!0),r=r.queue,wb(mk.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||fr!==null&&fr.memoizedState.tag&1){if(t.flags|=2048,Mp(9,pk.bind(null,t,r,i,e),void 0,null),hr===null)throw Error(_e(349));$u&30||hk(t,e,i)}return i}function hk(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=An.updateQueue,e===null?(e={lastEffect:null,stores:null},An.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function pk(n,e,t,r){e.value=t,e.getSnapshot=r,gk(e)&&yk(n)}function mk(n,e,t){return t(function(){gk(e)&&yk(n)})}function gk(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!js(n,t)}catch{return!0}}function yk(n){var e=la(n,1);e!==null&&Us(e,n,1,-1)}function KT(n){var e=ao();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:n},e.queue=n,n=n.dispatch=j8.bind(null,An,n),[e.memoizedState,n]}function Mp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=An.updateQueue,e===null?(e={lastEffect:null,stores:null},An.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function vk(){return _s().memoizedState}function dy(n,e,t,r){var i=ao();An.flags|=n,i.memoizedState=Mp(1|e,t,void 0,r===void 0?null:r)}function Wv(n,e,t,r){var i=_s();r=r===void 0?null:r;var s=void 0;if(qn!==null){var o=qn.memoizedState;if(s=o.destroy,r!==null&&vb(r,o.deps)){i.memoizedState=Mp(e,t,s,r);return}}An.flags|=n,i.memoizedState=Mp(1|e,t,s,r)}function YT(n,e){return dy(8390656,8,n,e)}function wb(n,e){return Wv(2048,8,n,e)}function xk(n,e){return Wv(4,2,n,e)}function _k(n,e){return Wv(4,4,n,e)}function wk(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Sk(n,e,t){return t=t!=null?t.concat([n]):null,Wv(4,4,wk.bind(null,e,n),t)}function Sb(){}function Ak(n,e){var t=_s();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&vb(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function Mk(n,e){var t=_s();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&vb(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function bk(n,e,t){return $u&21?(js(t,e)||(t=TL(),An.lanes|=t,Ju|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ai=!0),n.memoizedState=t)}function V8(n,e){var t=Vt;Vt=t!==0&&4>t?t:4,n(!0);var r=c_.transition;c_.transition={};try{n(!1),e()}finally{Vt=t,c_.transition=r}}function Ck(){return _s().memoizedState}function W8(n,e,t){var r=dl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Ek(n))Tk(e,t);else if(t=ik(n,e,t,r),t!==null){var i=Jr();Us(t,n,r,i),Pk(t,e,r)}}function j8(n,e,t){var r=dl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Ek(n))Tk(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,js(a,o)){var l=e.interleaved;l===null?(i.next=i,hb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=ik(n,e,i,r),t!==null&&(i=Jr(),Us(t,n,r,i),Pk(t,e,r))}}function Ek(n){var e=n.alternate;return n===An||e!==null&&e===An}function Tk(n,e){Gh=Jy=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Pk(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,ZM(n,t)}}var Xy={readContext:xs,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},$8={readContext:xs,useCallback:function(n,e){return ao().memoizedState=[n,e===void 0?null:e],n},useContext:xs,useEffect:YT,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,dy(4194308,4,wk.bind(null,e,n),t)},useLayoutEffect:function(n,e){return dy(4194308,4,n,e)},useInsertionEffect:function(n,e){return dy(4,2,n,e)},useMemo:function(n,e){var t=ao();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ao();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=W8.bind(null,An,n),[r.memoizedState,n]},useRef:function(n){var e=ao();return n={current:n},e.memoizedState=n},useState:KT,useDebugValue:Sb,useDeferredValue:function(n){return ao().memoizedState=n},useTransition:function(){var n=KT(!1),e=n[0];return n=V8.bind(null,n[1]),ao().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=An,i=ao();if(ln){if(t===void 0)throw Error(_e(407));t=t()}else{if(t=e(),hr===null)throw Error(_e(349));$u&30||hk(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,YT(mk.bind(null,r,s,n),[n]),r.flags|=2048,Mp(9,pk.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ao(),e=hr.identifierPrefix;if(ln){var t=Qo,r=Yo;t=(r&~(1<<32-zs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Sp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=H8++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},J8={readContext:xs,useCallback:Ak,useContext:xs,useEffect:wb,useImperativeHandle:Sk,useInsertionEffect:xk,useLayoutEffect:_k,useMemo:Mk,useReducer:f_,useRef:vk,useState:function(){return f_(Ap)},useDebugValue:Sb,useDeferredValue:function(n){var e=_s();return bk(e,qn.memoizedState,n)},useTransition:function(){var n=f_(Ap)[0],e=_s().memoizedState;return[n,e]},useMutableSource:fk,useSyncExternalStore:dk,useId:Ck,unstable_isNewReconciler:!1},X8={readContext:xs,useCallback:Ak,useContext:xs,useEffect:wb,useImperativeHandle:Sk,useInsertionEffect:xk,useLayoutEffect:_k,useMemo:Mk,useReducer:d_,useRef:vk,useState:function(){return d_(Ap)},useDebugValue:Sb,useDeferredValue:function(n){var e=_s();return qn===null?e.memoizedState=n:bk(e,qn.memoizedState,n)},useTransition:function(){var n=d_(Ap)[0],e=_s().memoizedState;return[n,e]},useMutableSource:fk,useSyncExternalStore:dk,useId:Ck,unstable_isNewReconciler:!1};function Yf(n,e){try{var t="",r=e;do t+=SU(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function h_(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function IS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var K8=typeof WeakMap=="function"?WeakMap:Map;function Rk(n,e,t){t=ta(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Yy||(Yy=!0,VS=r),IS(n,e)},t}function Bk(n,e,t){t=ta(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){IS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){IS(n,e),typeof r!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function QT(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new K8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=uG.bind(null,n,e,t),e.then(n,n))}function qT(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ZT(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ta(-1,1),e.tag=2,cl(t,e,1))),t.lanes|=1),n)}var Y8=ga.ReactCurrentOwner,ai=!1;function Hr(n,e,t,r){e.child=n===null?uk(e,null,t,r):Xf(e,n.child,t,r)}function e3(n,e,t,r,i){t=t.render;var s=e.ref;return kf(e,i),r=xb(n,e,t,r,s,i),t=_b(),n!==null&&!ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ua(n,e,i)):(ln&&t&&ab(e),e.flags|=1,Hr(n,e,r,i),e.child)}function t3(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Rb(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Dk(n,e,s,r,i)):(n=gy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:gp,t(o,r)&&n.ref===e.ref)return ua(n,e,i)}return e.flags|=1,n=hl(s,r),n.ref=e.ref,n.return=e,e.child=n}function Dk(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(gp(s,r)&&n.ref===e.ref)if(ai=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ai=!0);else return e.lanes=n.lanes,ua(n,e,i)}return LS(n,e,t,r,i)}function Ik(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(xf,Mi),Mi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,qt(xf,Mi),Mi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,qt(xf,Mi),Mi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,qt(xf,Mi),Mi|=r;return Hr(n,e,i,t),e.child}function Lk(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function LS(n,e,t,r,i){var s=ci(t)?Wu:Ir.current;return s=$f(e,s),kf(e,i),t=xb(n,e,t,r,s,i),r=_b(),n!==null&&!ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ua(n,e,i)):(ln&&r&&ab(e),e.flags|=1,Hr(n,e,t,i),e.child)}function n3(n,e,t,r,i){if(ci(t)){var s=!0;Uy(e)}else s=!1;if(kf(e,i),e.stateNode===null)hy(n,e),ak(e,t,r),DS(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=xs(u):(u=ci(t)?Wu:Ir.current,u=$f(e,u));var c=t.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&JT(e,o,r,u),$a=!1;var h=e.memoizedState;o.state=h,jy(e,r,o,i),l=e.memoizedState,a!==r||h!==l||ui.current||$a?(typeof c=="function"&&(BS(e,t,c,r),l=e.memoizedState),(a=$a||$T(e,t,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sk(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ls(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=xs(l):(l=ci(t)?Wu:Ir.current,l=$f(e,l));var m=t.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&JT(e,o,r,l),$a=!1,h=e.memoizedState,o.state=h,jy(e,r,o,i);var g=e.memoizedState;a!==f||h!==g||ui.current||$a?(typeof m=="function"&&(BS(e,t,m,r),g=e.memoizedState),(u=$a||$T(e,t,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return kS(n,e,t,r,s,i)}function kS(n,e,t,r,i,s){Lk(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&GT(e,t,!1),ua(n,e,s);r=e.stateNode,Y8.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Xf(e,n.child,null,s),e.child=Xf(e,null,a,s)):Hr(n,e,a,s),e.memoizedState=r.state,i&&GT(e,t,!0),e.child}function kk(n){var e=n.stateNode;e.pendingContext?UT(n,e.pendingContext,e.pendingContext!==e.context):e.context&&UT(n,e.context,!1),mb(n,e.containerInfo)}function r3(n,e,t,r,i){return Jf(),ub(i),e.flags|=256,Hr(n,e,t,r),e.child}var FS={dehydrated:null,treeContext:null,retryLane:0};function OS(n){return{baseLanes:n,cachePool:null,transitions:null}}function Fk(n,e,t){var r=e.pendingProps,i=gn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),qt(gn,i&1),n===null)return PS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jv(o,r,0,null),n=Bu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=OS(t),e.memoizedState=FS,n):Ab(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Q8(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hl(a,s):(s=Bu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?OS(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=FS,r}return s=n.child,n=s.sibling,r=hl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Ab(n,e){return e=Jv({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Xg(n,e,t,r){return r!==null&&ub(r),Xf(e,n.child,null,t),n=Ab(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Q8(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=h_(Error(_e(422))),Xg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Jv({mode:"visible",children:r.children},i,0,null),s=Bu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xf(e,n.child,null,o),e.child.memoizedState=OS(o),e.memoizedState=FS,s);if(!(e.mode&1))return Xg(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(_e(419)),r=h_(s,r,void 0),Xg(n,e,o,r)}if(a=(o&n.childLanes)!==0,ai||a){if(r=hr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,la(n,i),Us(r,n,i,-1))}return Pb(),r=h_(Error(_e(421))),Xg(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=cG.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Ei=ul(i.nextSibling),Ri=e,ln=!0,Fs=null,n!==null&&(as[ls++]=Yo,as[ls++]=Qo,as[ls++]=ju,Yo=n.id,Qo=n.overflow,ju=e),e=Ab(e,r.children),e.flags|=4096,e)}function i3(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),RS(n.return,e,t)}function p_(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function Ok(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Hr(n,e,r.children,t),r=gn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&i3(n,t,e);else if(n.tag===19)i3(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(qt(gn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&$y(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),p_(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&$y(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}p_(e,!0,t,null,s);break;case"together":p_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hy(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ua(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ju|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(_e(153));if(e.child!==null){for(n=e.child,t=hl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=hl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function q8(n,e,t){switch(e.tag){case 3:kk(e),Jf();break;case 5:ck(e);break;case 1:ci(e.type)&&Uy(e);break;case 4:mb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qt(Vy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qt(gn,gn.current&1),e.flags|=128,null):t&e.child.childLanes?Fk(n,e,t):(qt(gn,gn.current&1),n=ua(n,e,t),n!==null?n.sibling:null);qt(gn,gn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return Ok(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(gn,gn.current),r)break;return null;case 22:case 23:return e.lanes=0,Ik(n,e,t)}return ua(n,e,t)}var Nk,NS,zk,Uk;Nk=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};NS=function(){};zk=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,wu(yo.current);var s=null;switch(t){case"input":i=oS(n,i),r=oS(n,r),s=[];break;case"select":i=Mn({},i,{value:void 0}),r=Mn({},r,{value:void 0}),s=[];break;case"textarea":i=uS(n,i),r=uS(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Ny)}fS(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(up.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(up.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Zt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Uk=function(n,e,t,r){t!==r&&(e.flags|=4)};function nh(n,e){if(!ln)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Cr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function Z8(n,e,t){var r=e.pendingProps;switch(lb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(e),null;case 1:return ci(e.type)&&zy(),Cr(e),null;case 3:return r=e.stateNode,Kf(),nn(ui),nn(Ir),yb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&($g(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fs!==null&&($S(Fs),Fs=null))),NS(n,e),Cr(e),null;case 5:gb(e);var i=wu(wp.current);if(t=e.type,n!==null&&e.stateNode!=null)zk(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return Cr(e),null}if(n=wu(yo.current),$g(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[fo]=e,r[xp]=s,n=(e.mode&1)!==0,t){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(i=0;i<Rh.length;i++)Zt(Rh[i],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":hT(r,s),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",r);break;case"textarea":mT(r,s),Zt("invalid",r)}fS(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&jg(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&jg(r.textContent,a,n),i=["children",""+a]):up.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Zt("scroll",r)}switch(t){case"input":Og(r),pT(r,s,!0);break;case"textarea":Og(r),gT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ny)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=hL(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[fo]=e,n[xp]=r,Nk(n,e,!1,!1),e.stateNode=n;e:{switch(o=dS(t,r),t){case"dialog":Zt("cancel",n),Zt("close",n),i=r;break;case"iframe":case"object":case"embed":Zt("load",n),i=r;break;case"video":case"audio":for(i=0;i<Rh.length;i++)Zt(Rh[i],n);i=r;break;case"source":Zt("error",n),i=r;break;case"img":case"image":case"link":Zt("error",n),Zt("load",n),i=r;break;case"details":Zt("toggle",n),i=r;break;case"input":hT(n,r),i=oS(n,r),Zt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Mn({},r,{value:void 0}),Zt("invalid",n);break;case"textarea":mT(n,r),i=uS(n,r),Zt("invalid",n);break;default:i=r}fS(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gL(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pL(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&cp(n,l):typeof l=="number"&&cp(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(up.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Zt("scroll",n):l!=null&&JM(n,s,l,o))}switch(t){case"input":Og(n),pT(n,r,!1);break;case"textarea":Og(n),gT(n);break;case"option":r.value!=null&&n.setAttribute("value",""+yl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Bf(n,!!r.multiple,s,!1):r.defaultValue!=null&&Bf(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Ny)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cr(e),null;case 6:if(n&&e.stateNode!=null)Uk(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(t=wu(wp.current),wu(yo.current),$g(e)){if(r=e.stateNode,t=e.memoizedProps,r[fo]=e,(s=r.nodeValue!==t)&&(n=Ri,n!==null))switch(n.tag){case 3:jg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&jg(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[fo]=e,e.stateNode=r}return Cr(e),null;case 13:if(nn(gn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ln&&Ei!==null&&e.mode&1&&!(e.flags&128))rk(),Jf(),e.flags|=98560,s=!1;else if(s=$g(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(_e(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_e(317));s[fo]=e}else Jf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cr(e),s=!1}else Fs!==null&&($S(Fs),Fs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||gn.current&1?tr===0&&(tr=3):Pb())),e.updateQueue!==null&&(e.flags|=4),Cr(e),null);case 4:return Kf(),NS(n,e),n===null&&yp(e.stateNode.containerInfo),Cr(e),null;case 10:return db(e.type._context),Cr(e),null;case 17:return ci(e.type)&&zy(),Cr(e),null;case 19:if(nn(gn),s=e.memoizedState,s===null)return Cr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)nh(s,!1);else{if(tr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=$y(n),o!==null){for(e.flags|=128,nh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return qt(gn,gn.current&1|2),e.child}n=n.sibling}s.tail!==null&&zn()>Qf&&(e.flags|=128,r=!0,nh(s,!1),e.lanes=4194304)}else{if(!r)if(n=$y(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),nh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ln)return Cr(e),null}else 2*zn()-s.renderingStartTime>Qf&&t!==1073741824&&(e.flags|=128,r=!0,nh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=zn(),e.sibling=null,t=gn.current,qt(gn,r?t&1|2:t&1),e):(Cr(e),null);case 22:case 23:return Tb(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mi&1073741824&&(Cr(e),e.subtreeFlags&6&&(e.flags|=8192)):Cr(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function eG(n,e){switch(lb(e),e.tag){case 1:return ci(e.type)&&zy(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Kf(),nn(ui),nn(Ir),yb(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return gb(e),null;case 13:if(nn(gn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Jf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return nn(gn),null;case 4:return Kf(),null;case 10:return db(e.type._context),null;case 22:case 23:return Tb(),null;case 24:return null;default:return null}}var Kg=!1,Tr=!1,tG=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function vf(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Tn(n,e,r)}else t.current=null}function zS(n,e,t){try{t()}catch(r){Tn(n,e,r)}}var s3=!1;function nG(n,e){if(SS=ky,n=WL(),ob(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=n,h=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===n)break t;if(h===t&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(AS={focusedElem:n,selectionRange:t},ky=!1,Oe=e;Oe!==null;)if(e=Oe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Oe=n;else for(;Oe!==null;){e=Oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ls(e.type,y),v);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(M){Tn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,Oe=n;break}Oe=e.return}return g=s3,s3=!1,g}function Hh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&zS(e,t,s)}i=i.next}while(i!==r)}}function jv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function US(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Gk(n){var e=n.alternate;e!==null&&(n.alternate=null,Gk(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[fo],delete e[xp],delete e[CS],delete e[N8],delete e[z8])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Hk(n){return n.tag===5||n.tag===3||n.tag===4}function o3(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Hk(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function GS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ny));else if(r!==4&&(n=n.child,n!==null))for(GS(n,e,t),n=n.sibling;n!==null;)GS(n,e,t),n=n.sibling}function HS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(HS(n,e,t),n=n.sibling;n!==null;)HS(n,e,t),n=n.sibling}var gr=null,ks=!1;function Da(n,e,t){for(t=t.child;t!==null;)Vk(n,e,t),t=t.sibling}function Vk(n,e,t){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(Ov,t)}catch{}switch(t.tag){case 5:Tr||vf(t,e);case 6:var r=gr,i=ks;gr=null,Da(n,e,t),gr=r,ks=i,gr!==null&&(ks?(n=gr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):gr.removeChild(t.stateNode));break;case 18:gr!==null&&(ks?(n=gr,t=t.stateNode,n.nodeType===8?a_(n.parentNode,t):n.nodeType===1&&a_(n,t),pp(n)):a_(gr,t.stateNode));break;case 4:r=gr,i=ks,gr=t.stateNode.containerInfo,ks=!0,Da(n,e,t),gr=r,ks=i;break;case 0:case 11:case 14:case 15:if(!Tr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zS(t,e,o),i=i.next}while(i!==r)}Da(n,e,t);break;case 1:if(!Tr&&(vf(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Tn(t,e,a)}Da(n,e,t);break;case 21:Da(n,e,t);break;case 22:t.mode&1?(Tr=(r=Tr)||t.memoizedState!==null,Da(n,e,t),Tr=r):Da(n,e,t);break;default:Da(n,e,t)}}function a3(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new tG),e.forEach(function(r){var i=fG.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ts(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gr=a.stateNode,ks=!1;break e;case 3:gr=a.stateNode.containerInfo,ks=!0;break e;case 4:gr=a.stateNode.containerInfo,ks=!0;break e}a=a.return}if(gr===null)throw Error(_e(160));Vk(s,o,i),gr=null,ks=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Tn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Wk(e,n),e=e.sibling}function Wk(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ts(e,n),so(n),r&4){try{Hh(3,n,n.return),jv(3,n)}catch(y){Tn(n,n.return,y)}try{Hh(5,n,n.return)}catch(y){Tn(n,n.return,y)}}break;case 1:Ts(e,n),so(n),r&512&&t!==null&&vf(t,t.return);break;case 5:if(Ts(e,n),so(n),r&512&&t!==null&&vf(t,t.return),n.flags&32){var i=n.stateNode;try{cp(i,"")}catch(y){Tn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fL(i,s),dS(a,o);var u=dS(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?gL(i,f):c==="dangerouslySetInnerHTML"?pL(i,f):c==="children"?cp(i,f):JM(i,c,f,u)}switch(a){case"input":aS(i,s);break;case"textarea":dL(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Bf(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Bf(i,!!s.multiple,s.defaultValue,!0):Bf(i,!!s.multiple,s.multiple?[]:"",!1))}i[xp]=s}catch(y){Tn(n,n.return,y)}}break;case 6:if(Ts(e,n),so(n),r&4){if(n.stateNode===null)throw Error(_e(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Tn(n,n.return,y)}}break;case 3:if(Ts(e,n),so(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{pp(e.containerInfo)}catch(y){Tn(n,n.return,y)}break;case 4:Ts(e,n),so(n);break;case 13:Ts(e,n),so(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cb=zn())),r&4&&a3(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(Tr=(u=Tr)||c,Ts(e,n),Tr=u):Ts(e,n),so(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(Oe=n,c=n.child;c!==null;){for(f=Oe=c;Oe!==null;){switch(h=Oe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Hh(4,h,h.return);break;case 1:vf(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,t=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Tn(r,t,y)}}break;case 5:vf(h,h.return);break;case 22:if(h.memoizedState!==null){u3(f);continue}}m!==null?(m.return=h,Oe=m):u3(f)}c=c.sibling}e:for(c=null,f=n;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mL("display",o))}catch(y){Tn(n,n.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Tn(n,n.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ts(e,n),so(n),r&4&&a3(n);break;case 21:break;default:Ts(e,n),so(n)}}function so(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Hk(t)){var r=t;break e}t=t.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cp(i,""),r.flags&=-33);var s=o3(n);HS(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=o3(n);GS(n,a,o);break;default:throw Error(_e(161))}}catch(l){Tn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function rG(n,e,t){Oe=n,jk(n)}function jk(n,e,t){for(var r=(n.mode&1)!==0;Oe!==null;){var i=Oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Kg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Tr;a=Kg;var u=Tr;if(Kg=o,(Tr=l)&&!u)for(Oe=i;Oe!==null;)o=Oe,l=o.child,o.tag===22&&o.memoizedState!==null?c3(i):l!==null?(l.return=o,Oe=l):c3(i);for(;s!==null;)Oe=s,jk(s),s=s.sibling;Oe=i,Kg=a,Tr=u}l3(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Oe=s):l3(n)}}function l3(n){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tr||jv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Ls(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&jT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}jT(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&pp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Tr||e.flags&512&&US(e)}catch(h){Tn(e,e.return,h)}}if(e===n){Oe=null;break}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}}function u3(n){for(;Oe!==null;){var e=Oe;if(e===n){Oe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Oe=t;break}Oe=e.return}}function c3(n){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{jv(4,e)}catch(l){Tn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tn(e,i,l)}}var s=e.return;try{US(e)}catch(l){Tn(e,s,l)}break;case 5:var o=e.return;try{US(e)}catch(l){Tn(e,o,l)}}}catch(l){Tn(e,e.return,l)}if(e===n){Oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Oe=a;break}Oe=e.return}}var iG=Math.ceil,Ky=ga.ReactCurrentDispatcher,Mb=ga.ReactCurrentOwner,vs=ga.ReactCurrentBatchConfig,It=0,hr=null,Jn=null,vr=0,Mi=0,xf=Rl(0),tr=0,bp=null,Ju=0,$v=0,bb=0,Vh=null,si=null,Cb=0,Qf=1/0,Vo=null,Yy=!1,VS=null,fl=null,Yg=!1,Za=null,Qy=0,Wh=0,WS=null,py=-1,my=0;function Jr(){return It&6?zn():py!==-1?py:py=zn()}function dl(n){return n.mode&1?It&2&&vr!==0?vr&-vr:G8.transition!==null?(my===0&&(my=TL()),my):(n=Vt,n!==0||(n=window.event,n=n===void 0?16:kL(n.type)),n):1}function Us(n,e,t,r){if(50<Wh)throw Wh=0,WS=null,Error(_e(185));tm(n,t,r),(!(It&2)||n!==hr)&&(n===hr&&(!(It&2)&&($v|=t),tr===4&&Qa(n,vr)),fi(n,r),t===1&&It===0&&!(e.mode&1)&&(Qf=zn()+500,Hv&&Bl()))}function fi(n,e){var t=n.callbackNode;GU(n,e);var r=Ly(n,n===hr?vr:0);if(r===0)t!==null&&xT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&xT(t),e===1)n.tag===0?U8(f3.bind(null,n)):ek(f3.bind(null,n)),F8(function(){!(It&6)&&Bl()}),t=null;else{switch(PL(r)){case 1:t=qM;break;case 4:t=CL;break;case 16:t=Iy;break;case 536870912:t=EL;break;default:t=Iy}t=Zk(t,$k.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function $k(n,e){if(py=-1,my=0,It&6)throw Error(_e(327));var t=n.callbackNode;if(Ff()&&n.callbackNode!==t)return null;var r=Ly(n,n===hr?vr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=qy(n,r);else{e=r;var i=It;It|=2;var s=Xk();(hr!==n||vr!==e)&&(Vo=null,Qf=zn()+500,Ru(n,e));do try{aG();break}catch(a){Jk(n,a)}while(1);fb(),Ky.current=s,It=i,Jn!==null?e=0:(hr=null,vr=0,e=tr)}if(e!==0){if(e===2&&(i=yS(n),i!==0&&(r=i,e=jS(n,i))),e===1)throw t=bp,Ru(n,0),Qa(n,r),fi(n,zn()),t;if(e===6)Qa(n,r);else{if(i=n.current.alternate,!(r&30)&&!sG(i)&&(e=qy(n,r),e===2&&(s=yS(n),s!==0&&(r=s,e=jS(n,s))),e===1))throw t=bp,Ru(n,0),Qa(n,r),fi(n,zn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:cu(n,si,Vo);break;case 3:if(Qa(n,r),(r&130023424)===r&&(e=Cb+500-zn(),10<e)){if(Ly(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Jr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=bS(cu.bind(null,n,si,Vo),e);break}cu(n,si,Vo);break;case 4:if(Qa(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-zs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iG(r/1960))-r,10<r){n.timeoutHandle=bS(cu.bind(null,n,si,Vo),r);break}cu(n,si,Vo);break;case 5:cu(n,si,Vo);break;default:throw Error(_e(329))}}}return fi(n,zn()),n.callbackNode===t?$k.bind(null,n):null}function jS(n,e){var t=Vh;return n.current.memoizedState.isDehydrated&&(Ru(n,e).flags|=256),n=qy(n,e),n!==2&&(e=si,si=t,e!==null&&$S(e)),n}function $S(n){si===null?si=n:si.push.apply(si,n)}function sG(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!js(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qa(n,e){for(e&=~bb,e&=~$v,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-zs(e),r=1<<t;n[t]=-1,e&=~r}}function f3(n){if(It&6)throw Error(_e(327));Ff();var e=Ly(n,0);if(!(e&1))return fi(n,zn()),null;var t=qy(n,e);if(n.tag!==0&&t===2){var r=yS(n);r!==0&&(e=r,t=jS(n,r))}if(t===1)throw t=bp,Ru(n,0),Qa(n,e),fi(n,zn()),t;if(t===6)throw Error(_e(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,cu(n,si,Vo),fi(n,zn()),null}function Eb(n,e){var t=It;It|=1;try{return n(e)}finally{It=t,It===0&&(Qf=zn()+500,Hv&&Bl())}}function Xu(n){Za!==null&&Za.tag===0&&!(It&6)&&Ff();var e=It;It|=1;var t=vs.transition,r=Vt;try{if(vs.transition=null,Vt=1,n)return n()}finally{Vt=r,vs.transition=t,It=e,!(It&6)&&Bl()}}function Tb(){Mi=xf.current,nn(xf)}function Ru(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,k8(t)),Jn!==null)for(t=Jn.return;t!==null;){var r=t;switch(lb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zy();break;case 3:Kf(),nn(ui),nn(Ir),yb();break;case 5:gb(r);break;case 4:Kf();break;case 13:nn(gn);break;case 19:nn(gn);break;case 10:db(r.type._context);break;case 22:case 23:Tb()}t=t.return}if(hr=n,Jn=n=hl(n.current,null),vr=Mi=e,tr=0,bp=null,bb=$v=Ju=0,si=Vh=null,_u!==null){for(e=0;e<_u.length;e++)if(t=_u[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}_u=null}return n}function Jk(n,e){do{var t=Jn;try{if(fb(),fy.current=Xy,Jy){for(var r=An.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jy=!1}if($u=0,fr=qn=An=null,Gh=!1,Sp=0,Mb.current=null,t===null||t.return===null){tr=1,bp=e,Jn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=vr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=qT(o);if(m!==null){m.flags&=-257,ZT(m,o,a,s,e),m.mode&1&&QT(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){QT(s,u,e),Pb();break e}l=Error(_e(426))}}else if(ln&&a.mode&1){var v=qT(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ZT(v,o,a,s,e),ub(Yf(l,a));break e}}s=l=Yf(l,a),tr!==4&&(tr=2),Vh===null?Vh=[s]:Vh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Rk(s,l,e);WT(s,x);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(fl===null||!fl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=Bk(s,a,e);WT(s,M);break e}}s=s.return}while(s!==null)}Yk(t)}catch(C){e=C,Jn===t&&t!==null&&(Jn=t=t.return);continue}break}while(1)}function Xk(){var n=Ky.current;return Ky.current=Xy,n===null?Xy:n}function Pb(){(tr===0||tr===3||tr===2)&&(tr=4),hr===null||!(Ju&268435455)&&!($v&268435455)||Qa(hr,vr)}function qy(n,e){var t=It;It|=2;var r=Xk();(hr!==n||vr!==e)&&(Vo=null,Ru(n,e));do try{oG();break}catch(i){Jk(n,i)}while(1);if(fb(),It=t,Ky.current=r,Jn!==null)throw Error(_e(261));return hr=null,vr=0,tr}function oG(){for(;Jn!==null;)Kk(Jn)}function aG(){for(;Jn!==null&&!DU();)Kk(Jn)}function Kk(n){var e=qk(n.alternate,n,Mi);n.memoizedProps=n.pendingProps,e===null?Yk(n):Jn=e,Mb.current=null}function Yk(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=eG(t,e),t!==null){t.flags&=32767,Jn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{tr=6,Jn=null;return}}else if(t=Z8(t,e,Mi),t!==null){Jn=t;return}if(e=e.sibling,e!==null){Jn=e;return}Jn=e=n}while(e!==null);tr===0&&(tr=5)}function cu(n,e,t){var r=Vt,i=vs.transition;try{vs.transition=null,Vt=1,lG(n,e,t,r)}finally{vs.transition=i,Vt=r}return null}function lG(n,e,t,r){do Ff();while(Za!==null);if(It&6)throw Error(_e(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(_e(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(HU(n,s),n===hr&&(Jn=hr=null,vr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Yg||(Yg=!0,Zk(Iy,function(){return Ff(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=vs.transition,vs.transition=null;var o=Vt;Vt=1;var a=It;It|=4,Mb.current=null,nG(n,t),Wk(t,n),T8(AS),ky=!!SS,AS=SS=null,n.current=t,rG(t),IU(),It=a,Vt=o,vs.transition=s}else n.current=t;if(Yg&&(Yg=!1,Za=n,Qy=i),s=n.pendingLanes,s===0&&(fl=null),FU(t.stateNode),fi(n,zn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yy)throw Yy=!1,n=VS,VS=null,n;return Qy&1&&n.tag!==0&&Ff(),s=n.pendingLanes,s&1?n===WS?Wh++:(Wh=0,WS=n):Wh=0,Bl(),null}function Ff(){if(Za!==null){var n=PL(Qy),e=vs.transition,t=Vt;try{if(vs.transition=null,Vt=16>n?16:n,Za===null)var r=!1;else{if(n=Za,Za=null,Qy=0,It&6)throw Error(_e(331));var i=It;for(It|=4,Oe=n.current;Oe!==null;){var s=Oe,o=s.child;if(Oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Oe=u;Oe!==null;){var c=Oe;switch(c.tag){case 0:case 11:case 15:Hh(8,c,s)}var f=c.child;if(f!==null)f.return=c,Oe=f;else for(;Oe!==null;){c=Oe;var h=c.sibling,m=c.return;if(Gk(c),c===u){Oe=null;break}if(h!==null){h.return=m,Oe=h;break}Oe=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Oe=o;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hh(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Oe=x;break e}Oe=s.return}}var _=n.current;for(Oe=_;Oe!==null;){o=Oe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Oe=S;else e:for(o=_;Oe!==null;){if(a=Oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jv(9,a)}}catch(C){Tn(a,a.return,C)}if(a===o){Oe=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Oe=M;break e}Oe=a.return}}if(It=i,Bl(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(Ov,n)}catch{}r=!0}return r}finally{Vt=t,vs.transition=e}}return!1}function d3(n,e,t){e=Yf(t,e),e=Rk(n,e,1),n=cl(n,e,1),e=Jr(),n!==null&&(tm(n,1,e),fi(n,e))}function Tn(n,e,t){if(n.tag===3)d3(n,n,t);else for(;e!==null;){if(e.tag===3){d3(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fl===null||!fl.has(r))){n=Yf(t,n),n=Bk(e,n,1),e=cl(e,n,1),n=Jr(),e!==null&&(tm(e,1,n),fi(e,n));break}}e=e.return}}function uG(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Jr(),n.pingedLanes|=n.suspendedLanes&t,hr===n&&(vr&t)===t&&(tr===4||tr===3&&(vr&130023424)===vr&&500>zn()-Cb?Ru(n,0):bb|=t),fi(n,e)}function Qk(n,e){e===0&&(n.mode&1?(e=Ug,Ug<<=1,!(Ug&130023424)&&(Ug=4194304)):e=1);var t=Jr();n=la(n,e),n!==null&&(tm(n,e,t),fi(n,t))}function cG(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Qk(n,t)}function fG(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),Qk(n,t)}var qk;qk=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ui.current)ai=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ai=!1,q8(n,e,t);ai=!!(n.flags&131072)}else ai=!1,ln&&e.flags&1048576&&tk(e,Hy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hy(n,e),n=e.pendingProps;var i=$f(e,Ir.current);kf(e,t),i=xb(null,e,r,n,i,t);var s=_b();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ci(r)?(s=!0,Uy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pb(e),i.updater=Vv,e.stateNode=i,i._reactInternals=e,DS(e,r,n,t),e=kS(null,e,r,!0,s,t)):(e.tag=0,ln&&s&&ab(e),Hr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(hy(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hG(r),n=Ls(r,n),i){case 0:e=LS(null,e,r,n,t);break e;case 1:e=n3(null,e,r,n,t);break e;case 11:e=e3(null,e,r,n,t);break e;case 14:e=t3(null,e,r,Ls(r.type,n),t);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ls(r,i),LS(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ls(r,i),n3(n,e,r,i,t);case 3:e:{if(kk(e),n===null)throw Error(_e(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sk(n,e),jy(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yf(Error(_e(423)),e),e=r3(n,e,r,t,i);break e}else if(r!==i){i=Yf(Error(_e(424)),e),e=r3(n,e,r,t,i);break e}else for(Ei=ul(e.stateNode.containerInfo.firstChild),Ri=e,ln=!0,Fs=null,t=uk(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Jf(),r===i){e=ua(n,e,t);break e}Hr(n,e,r,t)}e=e.child}return e;case 5:return ck(e),n===null&&PS(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,MS(r,i)?o=null:s!==null&&MS(r,s)&&(e.flags|=32),Lk(n,e),Hr(n,e,o,t),e.child;case 6:return n===null&&PS(e),null;case 13:return Fk(n,e,t);case 4:return mb(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Xf(e,null,r,t):Hr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ls(r,i),e3(n,e,r,i,t);case 7:return Hr(n,e,e.pendingProps,t),e.child;case 8:return Hr(n,e,e.pendingProps.children,t),e.child;case 12:return Hr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qt(Vy,r._currentValue),r._currentValue=o,s!==null)if(js(s.value,o)){if(s.children===i.children&&!ui.current){e=ua(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ta(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),RS(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(_e(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),RS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,kf(e,t),i=xs(i),r=r(i),e.flags|=1,Hr(n,e,r,t),e.child;case 14:return r=e.type,i=Ls(r,e.pendingProps),i=Ls(r.type,i),t3(n,e,r,i,t);case 15:return Dk(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ls(r,i),hy(n,e),e.tag=1,ci(r)?(n=!0,Uy(e)):n=!1,kf(e,t),ak(e,r,i),DS(e,r,i,t),kS(null,e,r,!0,n,t);case 19:return Ok(n,e,t);case 22:return Ik(n,e,t)}throw Error(_e(156,e.tag))};function Zk(n,e){return bL(n,e)}function dG(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(n,e,t,r){return new dG(n,e,t,r)}function Rb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function hG(n){if(typeof n=="function")return Rb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===KM)return 11;if(n===YM)return 14}return 2}function hl(n,e){var t=n.alternate;return t===null?(t=hs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function gy(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Rb(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case uf:return Bu(t.children,i,s,e);case XM:o=8,i|=8;break;case nS:return n=hs(12,t,e,i|2),n.elementType=nS,n.lanes=s,n;case rS:return n=hs(13,t,e,i),n.elementType=rS,n.lanes=s,n;case iS:return n=hs(19,t,e,i),n.elementType=iS,n.lanes=s,n;case lL:return Jv(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case oL:o=10;break e;case aL:o=9;break e;case KM:o=11;break e;case YM:o=14;break e;case ja:o=16,r=null;break e}throw Error(_e(130,n==null?n:typeof n,""))}return e=hs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Bu(n,e,t,r){return n=hs(7,n,r,e),n.lanes=t,n}function Jv(n,e,t,r){return n=hs(22,n,r,e),n.elementType=lL,n.lanes=t,n.stateNode={isHidden:!1},n}function m_(n,e,t){return n=hs(6,n,null,e),n.lanes=t,n}function g_(n,e,t){return e=hs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function pG(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yx(0),this.expirationTimes=Yx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bb(n,e,t,r,i,s,o,a,l){return n=new pG(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},pb(s),n}function mG(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lf,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function eF(n){if(!n)return vl;n=n._reactInternals;e:{if(ac(n)!==n||n.tag!==1)throw Error(_e(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(n.tag===1){var t=n.type;if(ci(t))return ZL(n,t,e)}return e}function tF(n,e,t,r,i,s,o,a,l){return n=Bb(t,r,!0,n,i,s,o,a,l),n.context=eF(null),t=n.current,r=Jr(),i=dl(t),s=ta(r,i),s.callback=e??null,cl(t,s,i),n.current.lanes=i,tm(n,i,r),fi(n,r),n}function Xv(n,e,t,r){var i=e.current,s=Jr(),o=dl(i);return t=eF(t),e.context===null?e.context=t:e.pendingContext=t,e=ta(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=cl(i,e,o),n!==null&&(Us(n,i,o,s),cy(n,i,o)),o}function Zy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function h3(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Db(n,e){h3(n,e),(n=n.alternate)&&h3(n,e)}function gG(){return null}var nF=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ib(n){this._internalRoot=n}Kv.prototype.render=Ib.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(_e(409));Xv(n,e,null,null)};Kv.prototype.unmount=Ib.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Xu(function(){Xv(null,n,null,null)}),e[aa]=null}};function Kv(n){this._internalRoot=n}Kv.prototype.unstable_scheduleHydration=function(n){if(n){var e=DL();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ya.length&&e!==0&&e<Ya[t].priority;t++);Ya.splice(t,0,n),t===0&&LL(n)}};function Lb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Yv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function p3(){}function yG(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Zy(o);s.call(u)}}var o=tF(e,r,n,0,null,!1,!1,"",p3);return n._reactRootContainer=o,n[aa]=o.current,yp(n.nodeType===8?n.parentNode:n),Xu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Zy(l);a.call(u)}}var l=Bb(n,0,!1,null,null,!1,!1,"",p3);return n._reactRootContainer=l,n[aa]=l.current,yp(n.nodeType===8?n.parentNode:n),Xu(function(){Xv(e,l,t,r)}),l}function Qv(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Zy(o);a.call(l)}}Xv(e,o,n,i)}else o=yG(t,e,n,i,r);return Zy(o)}RL=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ph(e.pendingLanes);t!==0&&(ZM(e,t|1),fi(e,zn()),!(It&6)&&(Qf=zn()+500,Bl()))}break;case 13:Xu(function(){var r=la(n,1);if(r!==null){var i=Jr();Us(r,n,1,i)}}),Db(n,1)}};eb=function(n){if(n.tag===13){var e=la(n,134217728);if(e!==null){var t=Jr();Us(e,n,134217728,t)}Db(n,134217728)}};BL=function(n){if(n.tag===13){var e=dl(n),t=la(n,e);if(t!==null){var r=Jr();Us(t,n,e,r)}Db(n,e)}};DL=function(){return Vt};IL=function(n,e){var t=Vt;try{return Vt=n,e()}finally{Vt=t}};pS=function(n,e,t){switch(e){case"input":if(aS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Gv(r);if(!i)throw Error(_e(90));cL(r),aS(r,i)}}}break;case"textarea":dL(n,t);break;case"select":e=t.value,e!=null&&Bf(n,!!t.multiple,e,!1)}};xL=Eb;_L=Xu;var vG={usingClientEntryPoint:!1,Events:[rm,hf,Gv,yL,vL,Eb]},rh={findFiberByHostInstance:xu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xG={bundleType:rh.bundleType,version:rh.version,rendererPackageName:rh.rendererPackageName,rendererConfig:rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ga.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=AL(n),n===null?null:n.stateNode},findFiberByHostInstance:rh.findFiberByHostInstance||gG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qg.isDisabled&&Qg.supportsFiber)try{Ov=Qg.inject(xG),go=Qg}catch{}}Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vG;Ni.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lb(e))throw Error(_e(200));return mG(n,e,null,t)};Ni.createRoot=function(n,e){if(!Lb(n))throw Error(_e(299));var t=!1,r="",i=nF;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Bb(n,1,!1,null,null,t,!1,r,i),n[aa]=e.current,yp(n.nodeType===8?n.parentNode:n),new Ib(e)};Ni.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(_e(188)):(n=Object.keys(n).join(","),Error(_e(268,n)));return n=AL(e),n=n===null?null:n.stateNode,n};Ni.flushSync=function(n){return Xu(n)};Ni.hydrate=function(n,e,t){if(!Yv(e))throw Error(_e(200));return Qv(null,n,e,!0,t)};Ni.hydrateRoot=function(n,e,t){if(!Lb(n))throw Error(_e(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=nF;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=tF(e,null,n,1,t??null,i,!1,s,o),n[aa]=e.current,yp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Kv(e)};Ni.render=function(n,e,t){if(!Yv(e))throw Error(_e(200));return Qv(null,n,e,!1,t)};Ni.unmountComponentAtNode=function(n){if(!Yv(n))throw Error(_e(40));return n._reactRootContainer?(Xu(function(){Qv(null,null,n,!1,function(){n._reactRootContainer=null,n[aa]=null})}),!0):!1};Ni.unstable_batchedUpdates=Eb;Ni.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Yv(t))throw Error(_e(200));if(n==null||n._reactInternals===void 0)throw Error(_e(38));return Qv(n,e,t,!1,r)};Ni.version="18.2.0-next-9e3b772b8-20220608";function rF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rF)}catch(n){console.error(n)}}rF(),tL.exports=Ni;var iF=tL.exports;const kb=sc(iF);var sF,m3=iF;sF=eS.createRoot=m3.createRoot,eS.hydrateRoot=m3.hydrateRoot;function rn(){return rn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rn.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const sm="146",_G={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},wG={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},oF=0,JS=1,aF=2,SG=3,lF=0,qv=1,jh=2,Su=3,xl=0,Bi=1,po=2,na=0,Du=1,XS=2,KS=3,YS=4,uF=5,gu=100,cF=101,fF=102,QS=103,qS=104,dF=200,hF=201,pF=202,mF=203,Fb=204,Ob=205,gF=206,yF=207,vF=208,xF=209,_F=210,wF=0,SF=1,AF=2,ev=3,MF=4,bF=5,CF=6,EF=7,om=0,TF=1,PF=2,Gs=0,RF=1,BF=2,DF=3,Nb=4,IF=5,Zv=300,_l=301,wl=302,qf=303,Cp=304,vd=306,So=1e3,Zn=1001,Zf=1002,Un=1003,Ep=1004,AG=1004,Tp=1005,MG=1005,vn=1006,e1=1007,bG=1007,ya=1008,CG=1008,ca=1009,LF=1010,kF=1011,zb=1012,FF=1013,el=1014,qo=1015,ed=1016,OF=1017,NF=1018,Iu=1020,zF=1021,UF=1022,oi=1023,GF=1024,HF=1025,pl=1026,Ku=1027,VF=1028,WF=1029,jF=1030,$F=1031,JF=1033,yy=33776,vy=33777,xy=33778,_y=33779,ZS=35840,eA=35841,tA=35842,nA=35843,XF=36196,rA=37492,iA=37496,sA=37808,oA=37809,aA=37810,lA=37811,uA=37812,cA=37813,fA=37814,dA=37815,hA=37816,pA=37817,mA=37818,gA=37819,yA=37820,vA=37821,xA=36492,KF=2200,YF=2201,QF=2202,td=2300,Yu=2301,wy=2302,Au=2400,Mu=2401,Pp=2402,t1=2500,Ub=2501,qF=0,Gb=1,tv=2,Sl=3e3,Nt=3001,ZF=3200,eO=3201,Dl=0,tO=1,EG="",uo="srgb",tl="srgb-linear",TG=0,Sy=7680,PG=7681,RG=7682,BG=7683,DG=34055,IG=34056,LG=5386,kG=512,FG=513,OG=514,NG=515,zG=516,UG=517,GG=518,nO=519,Rp=35044,HG=35048,VG=35040,WG=35045,jG=35049,$G=35041,JG=35046,XG=35050,KG=35042,YG="100",_A="300 es",nv=1035;class va{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Er=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let g3=1234567;const Lu=Math.PI/180,Bp=180/Math.PI;function Di(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Er[n&255]+Er[n>>8&255]+Er[n>>16&255]+Er[n>>24&255]+"-"+Er[e&255]+Er[e>>8&255]+"-"+Er[e>>16&15|64]+Er[e>>24&255]+"-"+Er[t&63|128]+Er[t>>8&255]+"-"+Er[t>>16&255]+Er[t>>24&255]+Er[r&255]+Er[r>>8&255]+Er[r>>16&255]+Er[r>>24&255]).toLowerCase()}function Gn(n,e,t){return Math.max(e,Math.min(t,n))}function Hb(n,e){return(n%e+e)%e}function QG(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function qG(n,e,t){return n!==e?(t-n)/(e-n):0}function $h(n,e,t){return(1-t)*n+t*e}function ZG(n,e,t,r){return $h(n,e,1-Math.exp(-t*r))}function eH(n,e=1){return e-Math.abs(Hb(n,e*2)-e)}function tH(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function nH(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function rH(n,e){return n+Math.floor(Math.random()*(e-n+1))}function iH(n,e){return n+Math.random()*(e-n)}function sH(n){return n*(.5-Math.random())}function oH(n){n!==void 0&&(g3=n);let e=g3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function aH(n){return n*Lu}function lH(n){return n*Bp}function wA(n){return(n&n-1)===0&&n!==0}function rO(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function rv(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function uH(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),h=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*c,l*f,l*h,a*u);break;case"YZY":n.set(l*h,a*c,l*f,a*u);break;case"ZXZ":n.set(l*f,l*h,a*c,a*u);break;case"XZX":n.set(a*c,l*g,l*m,a*u);break;case"YXY":n.set(l*m,a*c,l*g,a*u);break;case"ZYZ":n.set(l*g,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Zo(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Kt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var cs=Object.freeze({__proto__:null,DEG2RAD:Lu,RAD2DEG:Bp,generateUUID:Di,clamp:Gn,euclideanModulo:Hb,mapLinear:QG,inverseLerp:qG,lerp:$h,damp:ZG,pingpong:eH,smoothstep:tH,smootherstep:nH,randInt:rH,randFloat:iH,randFloatSpread:sH,seededRandom:oH,degToRad:aH,radToDeg:lH,isPowerOfTwo:wA,ceilPowerOfTwo:rO,floorPowerOfTwo:rv,setQuaternionFromProperEuler:uH,normalize:Kt,denormalize:Zo});class ye{constructor(e=0,t=0){ye.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jr{constructor(){jr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],m=r[5],g=r[8],y=i[0],v=i[3],x=i[6],_=i[1],S=i[4],M=i[7],C=i[2],T=i[5],R=i[8];return s[0]=o*y+a*_+l*C,s[3]=o*v+a*S+l*T,s[6]=o*x+a*M+l*R,s[1]=u*y+c*_+f*C,s[4]=u*v+c*S+f*T,s[7]=u*x+c*M+f*R,s[2]=h*y+m*_+g*C,s[5]=h*v+m*S+g*T,s[8]=h*x+m*M+g*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,h=a*l-c*s,m=u*s-o*l,g=t*f+r*h+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=f*y,e[1]=(i*u-c*r)*y,e[2]=(a*r-i*o)*y,e[3]=h*y,e[4]=(c*t-i*l)*y,e[5]=(i*s-a*t)*y,e[6]=m*y,e[7]=(r*l-u*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],u=i[4],c=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*u,i[6]=t*a+r*c,i[1]=-r*s+t*l,i[4]=-r*o+t*u,i[7]=-r*a+t*c,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function iO(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const cH={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function _f(n,e){return new cH[n](e)}function Dp(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function ku(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Ay(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const y_={[uo]:{[tl]:ku},[tl]:{[uo]:Ay}},ns={legacyMode:!0,get workingColorSpace(){return tl},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(y_[e]&&y_[e][t]!==void 0){const r=y_[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},sO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qn={r:0,g:0,b:0},Ps={h:0,s:0,l:0},qg={h:0,s:0,l:0};function v_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Zg(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let Me=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=uo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ns.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=tl){return this.r=e,this.g=t,this.b=r,ns.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=tl){if(e=Hb(e,1),t=Gn(t,0,1),r=Gn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=v_(o,s,e+1/3),this.g=v_(o,s,e),this.b=v_(o,s,e-1/3)}return ns.toWorkingColorSpace(this,i),this}setStyle(e,t=uo){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ns.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ns.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,ns.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,ns.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=uo){const r=sO[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ku(e.r),this.g=ku(e.g),this.b=ku(e.b),this}copyLinearToSRGB(e){return this.r=Ay(e.r),this.g=Ay(e.g),this.b=Ay(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=uo){return ns.fromWorkingColorSpace(Zg(this,Qn),e),Gn(Qn.r*255,0,255)<<16^Gn(Qn.g*255,0,255)<<8^Gn(Qn.b*255,0,255)<<0}getHexString(e=uo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=tl){ns.fromWorkingColorSpace(Zg(this,Qn),t);const r=Qn.r,i=Qn.g,s=Qn.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=tl){return ns.fromWorkingColorSpace(Zg(this,Qn),t),e.r=Qn.r,e.g=Qn.g,e.b=Qn.b,e}getStyle(e=uo){return ns.fromWorkingColorSpace(Zg(this,Qn),e),e!==uo?`color(${e} ${Qn.r} ${Qn.g} ${Qn.b})`:`rgb(${Qn.r*255|0},${Qn.g*255|0},${Qn.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(Ps),Ps.h+=e,Ps.s+=t,Ps.l+=r,this.setHSL(Ps.h,Ps.s,Ps.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Ps),e.getHSL(qg);const r=$h(Ps.h,qg.h,t),i=$h(Ps.s,qg.s,t),s=$h(Ps.l,qg.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};Me.NAMES=sO;let Rc;class Vb{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Rc===void 0&&(Rc=Dp("canvas")),Rc.width=e.width,Rc.height=e.height;const r=Rc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Rc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Dp("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=ku(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(ku(t[r]/255)*255):t[r]=ku(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class bu{constructor(e=null){this.isSource=!0,this.uuid=Di(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(x_(i[o].image)):s.push(x_(i[o]))}else s=x_(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function x_(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Vb.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let fH=0;class fn extends va{constructor(e=fn.DEFAULT_IMAGE,t=fn.DEFAULT_MAPPING,r=Zn,i=Zn,s=vn,o=ya,a=oi,l=ca,u=1,c=Sl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:fH++}),this.uuid=Di(),this.name="",this.source=new bu(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ye(0,0),this.repeat=new ye(1,1),this.center=new ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Zv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case So:e.x=e.x-Math.floor(e.x);break;case Zn:e.x=e.x<0?0:1;break;case Zf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case So:e.y=e.y-Math.floor(e.y);break;case Zn:e.y=e.y<0?0:1;break;case Zf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}fn.DEFAULT_IMAGE=null;fn.DEFAULT_MAPPING=Zv;class At{constructor(e=0,t=0,r=0,i=1){At.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],m=l[5],g=l[9],y=l[2],v=l[6],x=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-y)<.01&&Math.abs(g-v)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+y)<.1&&Math.abs(g+v)<.1&&Math.abs(u+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(u+1)/2,M=(m+1)/2,C=(x+1)/2,T=(c+h)/4,R=(f+y)/4,b=(g+v)/4;return S>M&&S>C?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=T/r,s=R/r):M>C?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=T/i,s=b/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=R/s,i=b/s),this.set(r,i,s,t),this}let _=Math.sqrt((v-g)*(v-g)+(f-y)*(f-y)+(h-c)*(h-c));return Math.abs(_)<.001&&(_=1),this.x=(v-g)/_,this.y=(f-y)/_,this.z=(h-c)/_,this.w=Math.acos((u+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mi extends va{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new At(0,0,e,t),this.scissorTest=!1,this.viewport=new At(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new fn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:vn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new bu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class am extends fn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Un,this.minFilter=Un,this.wrapR=Zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class dH extends mi{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new am(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class n1 extends fn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Un,this.minFilter=Un,this.wrapR=Zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hH extends mi{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new n1(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class pH extends mi{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class wn{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const h=s[o+0],m=s[o+1],g=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(a===1){e[t+0]=h,e[t+1]=m,e[t+2]=g,e[t+3]=y;return}if(f!==y||l!==h||u!==m||c!==g){let v=1-a;const x=l*h+u*m+c*g+f*y,_=x>=0?1:-1,S=1-x*x;if(S>Number.EPSILON){const C=Math.sqrt(S),T=Math.atan2(C,x*_);v=Math.sin(v*T)/C,a=Math.sin(a*T)/C}const M=a*_;if(l=l*v+h*M,u=u*v+m*M,c=c*v+g*M,f=f*v+y*M,v===1-a){const C=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=C,u*=C,c*=C,f*=C}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],h=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+c*f+l*m-u*h,e[t+1]=l*g+c*h+u*f-a*m,e[t+2]=u*g+c*m+a*h-l*f,e[t+3]=c*g-a*f-l*h-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),h=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=h*c*f+u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f-h*m*g;break;case"YXZ":this._x=h*c*f+u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f+h*m*g;break;case"ZXY":this._x=h*c*f-u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f-h*m*g;break;case"ZYX":this._x=h*c*f-u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f+h*m*g;break;case"YZX":this._x=h*c*f+u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f-h*m*g;break;case"XZY":this._x=h*c*f-u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f+h*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],c=t[6],f=t[10],h=r+a+f;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Gn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class F{constructor(e=0,t=0,r=0){F.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(y3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(y3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,c=l*r+a*t-s*i,f=l*i+s*r-o*t,h=-s*t-o*r-a*i;return this.x=u*l+h*-s+c*-a-f*-o,this.y=c*l+h*-o+f*-s-u*-a,this.z=f*l+h*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return __.copy(this).projectOnVector(e),this.sub(__)}reflect(e){return this.sub(__.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Gn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const __=new F,y3=new wn;class Il{constructor(e=new F(1/0,1/0,1/0),t=new F(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],f=e[l+1],h=e[l+2];c<t&&(t=c),f<r&&(r=f),h<i&&(i=h),c>s&&(s=c),f>o&&(o=f),h>a&&(a=h)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),f=e.getY(l),h=e.getZ(l);c<t&&(t=c),f<r&&(r=f),h<i&&(i=h),c>s&&(s=c),f>o&&(o=f),h>a&&(a=h)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ql.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Ql.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ql)}else r.boundingBox===null&&r.computeBoundingBox(),w_.copy(r.boundingBox),w_.applyMatrix4(e.matrixWorld),this.union(w_);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ql),Ql.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ih),e0.subVectors(this.max,ih),Bc.subVectors(e.a,ih),Dc.subVectors(e.b,ih),Ic.subVectors(e.c,ih),Ia.subVectors(Dc,Bc),La.subVectors(Ic,Dc),ql.subVectors(Bc,Ic);let t=[0,-Ia.z,Ia.y,0,-La.z,La.y,0,-ql.z,ql.y,Ia.z,0,-Ia.x,La.z,0,-La.x,ql.z,0,-ql.x,-Ia.y,Ia.x,0,-La.y,La.x,0,-ql.y,ql.x,0];return!S_(t,Bc,Dc,Ic,e0)||(t=[1,0,0,0,1,0,0,0,1],!S_(t,Bc,Dc,Ic,e0))?!1:(t0.crossVectors(Ia,La),t=[t0.x,t0.y,t0.z],S_(t,Bc,Dc,Ic,e0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ql.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ql).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ko[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ko[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ko[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ko[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ko[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ko[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ko[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ko[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ko),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ko=[new F,new F,new F,new F,new F,new F,new F,new F],Ql=new F,w_=new Il,Bc=new F,Dc=new F,Ic=new F,Ia=new F,La=new F,ql=new F,ih=new F,e0=new F,t0=new F,Zl=new F;function S_(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Zl.fromArray(n,s);const a=i.x*Math.abs(Zl.x)+i.y*Math.abs(Zl.y)+i.z*Math.abs(Zl.z),l=e.dot(Zl),u=t.dot(Zl),c=r.dot(Zl);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const mH=new Il,sh=new F,A_=new F;class Ll{constructor(e=new F,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):mH.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;sh.subVectors(e,this.center);const t=sh.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(sh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(A_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(sh.copy(e.center).add(A_)),this.expandByPoint(sh.copy(e.center).sub(A_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Fo=new F,M_=new F,n0=new F,ka=new F,b_=new F,r0=new F,C_=new F;class lm{constructor(e=new F,t=new F(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Fo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Fo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Fo.copy(this.direction).multiplyScalar(t).add(this.origin),Fo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){M_.copy(e).add(t).multiplyScalar(.5),n0.copy(t).sub(e).normalize(),ka.copy(this.origin).sub(M_);const s=e.distanceTo(t)*.5,o=-this.direction.dot(n0),a=ka.dot(this.direction),l=-ka.dot(n0),u=ka.lengthSq(),c=Math.abs(1-o*o);let f,h,m,g;if(c>0)if(f=o*l-a,h=o*a-l,g=s*c,f>=0)if(h>=-g)if(h<=g){const y=1/c;f*=y,h*=y,m=f*(f+o*h+2*a)+h*(o*f+h+2*l)+u}else h=s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+u;else h=-s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+u;else h<=-g?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+h*(h+2*l)+u):h<=g?(f=0,h=Math.min(Math.max(-s,-l),s),m=h*(h+2*l)+u):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+h*(h+2*l)+u);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(n0).multiplyScalar(h).add(M_),m}intersectSphere(e,t){Fo.subVectors(e.center,this.origin);const r=Fo.dot(this.direction),i=Fo.dot(Fo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(s=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(s=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Fo)!==null}intersectTriangle(e,t,r,i,s){b_.subVectors(t,e),r0.subVectors(r,e),C_.crossVectors(b_,r0);let o=this.direction.dot(C_),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ka.subVectors(this.origin,e);const l=a*this.direction.dot(r0.crossVectors(ka,r0));if(l<0)return null;const u=a*this.direction.dot(b_.cross(ka));if(u<0||l+u>o)return null;const c=-a*ka.dot(C_);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Le{constructor(){Le.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,u,c,f,h,m,g,y,v){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=u,x[6]=c,x[10]=f,x[14]=h,x[3]=m,x[7]=g,x[11]=y,x[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Le().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Lc.setFromMatrixColumn(e,0).length(),s=1/Lc.setFromMatrixColumn(e,1).length(),o=1/Lc.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*c,m=o*f,g=a*c,y=a*f;t[0]=l*c,t[4]=-l*f,t[8]=u,t[1]=m+g*u,t[5]=h-y*u,t[9]=-a*l,t[2]=y-h*u,t[6]=g+m*u,t[10]=o*l}else if(e.order==="YXZ"){const h=l*c,m=l*f,g=u*c,y=u*f;t[0]=h+y*a,t[4]=g*a-m,t[8]=o*u,t[1]=o*f,t[5]=o*c,t[9]=-a,t[2]=m*a-g,t[6]=y+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*c,m=l*f,g=u*c,y=u*f;t[0]=h-y*a,t[4]=-o*f,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*c,t[9]=y-h*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*c,m=o*f,g=a*c,y=a*f;t[0]=l*c,t[4]=g*u-m,t[8]=h*u+y,t[1]=l*f,t[5]=y*u+h,t[9]=m*u-g,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,m=o*u,g=a*l,y=a*u;t[0]=l*c,t[4]=y-h*f,t[8]=g*f+m,t[1]=f,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=m*f+g,t[10]=h-y*f}else if(e.order==="XZY"){const h=o*l,m=o*u,g=a*l,y=a*u;t[0]=l*c,t[4]=-f,t[8]=u*c,t[1]=h*f+y,t[5]=o*c,t[9]=m*f-g,t[2]=g*f-m,t[6]=a*c,t[10]=y*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(gH,e,yH)}lookAt(e,t,r){const i=this.elements;return Si.subVectors(e,t),Si.lengthSq()===0&&(Si.z=1),Si.normalize(),Fa.crossVectors(r,Si),Fa.lengthSq()===0&&(Math.abs(r.z)===1?Si.x+=1e-4:Si.z+=1e-4,Si.normalize(),Fa.crossVectors(r,Si)),Fa.normalize(),i0.crossVectors(Si,Fa),i[0]=Fa.x,i[4]=i0.x,i[8]=Si.x,i[1]=Fa.y,i[5]=i0.y,i[9]=Si.y,i[2]=Fa.z,i[6]=i0.z,i[10]=Si.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],m=r[13],g=r[2],y=r[6],v=r[10],x=r[14],_=r[3],S=r[7],M=r[11],C=r[15],T=i[0],R=i[4],b=i[8],B=i[12],I=i[1],k=i[5],j=i[9],G=i[13],N=i[2],$=i[6],X=i[10],te=i[14],O=i[3],z=i[7],H=i[11],K=i[15];return s[0]=o*T+a*I+l*N+u*O,s[4]=o*R+a*k+l*$+u*z,s[8]=o*b+a*j+l*X+u*H,s[12]=o*B+a*G+l*te+u*K,s[1]=c*T+f*I+h*N+m*O,s[5]=c*R+f*k+h*$+m*z,s[9]=c*b+f*j+h*X+m*H,s[13]=c*B+f*G+h*te+m*K,s[2]=g*T+y*I+v*N+x*O,s[6]=g*R+y*k+v*$+x*z,s[10]=g*b+y*j+v*X+x*H,s[14]=g*B+y*G+v*te+x*K,s[3]=_*T+S*I+M*N+C*O,s[7]=_*R+S*k+M*$+C*z,s[11]=_*b+S*j+M*X+C*H,s[15]=_*B+S*G+M*te+C*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],m=e[14],g=e[3],y=e[7],v=e[11],x=e[15];return g*(+s*l*f-i*u*f-s*a*h+r*u*h+i*a*m-r*l*m)+y*(+t*l*m-t*u*h+s*o*h-i*o*m+i*u*c-s*l*c)+v*(+t*u*f-t*a*m-s*o*f+r*o*m+s*a*c-r*u*c)+x*(-i*a*c-t*l*f+t*a*h+i*o*f-r*o*h+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],m=e[11],g=e[12],y=e[13],v=e[14],x=e[15],_=f*v*u-y*h*u+y*l*m-a*v*m-f*l*x+a*h*x,S=g*h*u-c*v*u-g*l*m+o*v*m+c*l*x-o*h*x,M=c*y*u-g*f*u+g*a*m-o*y*m-c*a*x+o*f*x,C=g*f*l-c*y*l-g*a*h+o*y*h+c*a*v-o*f*v,T=t*_+r*S+i*M+s*C;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/T;return e[0]=_*R,e[1]=(y*h*s-f*v*s-y*i*m+r*v*m+f*i*x-r*h*x)*R,e[2]=(a*v*s-y*l*s+y*i*u-r*v*u-a*i*x+r*l*x)*R,e[3]=(f*l*s-a*h*s-f*i*u+r*h*u+a*i*m-r*l*m)*R,e[4]=S*R,e[5]=(c*v*s-g*h*s+g*i*m-t*v*m-c*i*x+t*h*x)*R,e[6]=(g*l*s-o*v*s-g*i*u+t*v*u+o*i*x-t*l*x)*R,e[7]=(o*h*s-c*l*s+c*i*u-t*h*u-o*i*m+t*l*m)*R,e[8]=M*R,e[9]=(g*f*s-c*y*s-g*r*m+t*y*m+c*r*x-t*f*x)*R,e[10]=(o*y*s-g*a*s+g*r*u-t*y*u-o*r*x+t*a*x)*R,e[11]=(c*a*s-o*f*s-c*r*u+t*f*u+o*r*m-t*a*m)*R,e[12]=C*R,e[13]=(c*y*i-g*f*i+g*r*h-t*y*h-c*r*v+t*f*v)*R,e[14]=(g*a*i-o*y*i-g*r*l+t*y*l+o*r*v-t*a*v)*R,e[15]=(o*f*i-c*a*i+c*r*l-t*f*l-o*r*h+t*a*h)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,c=o+o,f=a+a,h=s*u,m=s*c,g=s*f,y=o*c,v=o*f,x=a*f,_=l*u,S=l*c,M=l*f,C=r.x,T=r.y,R=r.z;return i[0]=(1-(y+x))*C,i[1]=(m+M)*C,i[2]=(g-S)*C,i[3]=0,i[4]=(m-M)*T,i[5]=(1-(h+x))*T,i[6]=(v+_)*T,i[7]=0,i[8]=(g+S)*R,i[9]=(v-_)*R,i[10]=(1-(h+y))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Lc.set(i[0],i[1],i[2]).length();const o=Lc.set(i[4],i[5],i[6]).length(),a=Lc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Rs.copy(this);const u=1/s,c=1/o,f=1/a;return Rs.elements[0]*=u,Rs.elements[1]*=u,Rs.elements[2]*=u,Rs.elements[4]*=c,Rs.elements[5]*=c,Rs.elements[6]*=c,Rs.elements[8]*=f,Rs.elements[9]*=f,Rs.elements[10]*=f,t.setFromRotationMatrix(Rs),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(r-i),c=(t+e)/(t-e),f=(r+i)/(r-i),h=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),u=1/(r-i),c=1/(o-s),f=(t+e)*l,h=(r+i)*u,m=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Lc=new F,Rs=new Le,gH=new F(0,0,0),yH=new F(1,1,1),Fa=new F,i0=new F,Si=new F,v3=new Le,x3=new wn;class Ti{constructor(e=0,t=0,r=0,i=Ti.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Gn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Gn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Gn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Gn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Gn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Gn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return v3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(v3,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return x3.setFromEuler(this),this.setFromQuaternion(x3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Ti.DefaultOrder="XYZ";Ti.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Fu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let vH=0;const _3=new F,kc=new wn,Oo=new Le,s0=new F,oh=new F,xH=new F,_H=new wn,w3=new F(1,0,0),S3=new F(0,1,0),A3=new F(0,0,1),wH={type:"added"},M3={type:"removed"};class wt extends va{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:vH++}),this.uuid=Di(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wt.DefaultUp.clone();const e=new F,t=new Ti,r=new wn,i=new F(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Le},normalMatrix:{value:new jr}}),this.matrix=new Le,this.matrixWorld=new Le,this.matrixAutoUpdate=wt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=wt.DefaultMatrixWorldAutoUpdate,this.layers=new Fu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return kc.setFromAxisAngle(e,t),this.quaternion.multiply(kc),this}rotateOnWorldAxis(e,t){return kc.setFromAxisAngle(e,t),this.quaternion.premultiply(kc),this}rotateX(e){return this.rotateOnAxis(w3,e)}rotateY(e){return this.rotateOnAxis(S3,e)}rotateZ(e){return this.rotateOnAxis(A3,e)}translateOnAxis(e,t){return _3.copy(e).applyQuaternion(this.quaternion),this.position.add(_3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(w3,e)}translateY(e){return this.translateOnAxis(S3,e)}translateZ(e){return this.translateOnAxis(A3,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Oo.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?s0.copy(e):s0.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),oh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Oo.lookAt(oh,s0,this.up):Oo.lookAt(s0,oh,this.up),this.quaternion.setFromRotationMatrix(Oo),i&&(Oo.extractRotation(i.matrixWorld),kc.setFromRotationMatrix(Oo),this.quaternion.premultiply(kc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(wH)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(M3)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(M3)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Oo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Oo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Oo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(oh,e,xH),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(oh,_H,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}wt.DefaultUp=new F(0,1,0);wt.DefaultMatrixAutoUpdate=!0;wt.DefaultMatrixWorldAutoUpdate=!0;const Bs=new F,No=new F,E_=new F,zo=new F,Fc=new F,Oc=new F,b3=new F,T_=new F,P_=new F,R_=new F;class fs{constructor(e=new F,t=new F,r=new F){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Bs.subVectors(e,t),i.cross(Bs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Bs.subVectors(i,t),No.subVectors(r,t),E_.subVectors(e,t);const o=Bs.dot(Bs),a=Bs.dot(No),l=Bs.dot(E_),u=No.dot(No),c=No.dot(E_),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const h=1/f,m=(u*l-a*c)*h,g=(o*c-a*l)*h;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,zo),zo.x>=0&&zo.y>=0&&zo.x+zo.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,zo),l.set(0,0),l.addScaledVector(s,zo.x),l.addScaledVector(o,zo.y),l.addScaledVector(a,zo.z),l}static isFrontFacing(e,t,r,i){return Bs.subVectors(r,t),No.subVectors(e,t),Bs.cross(No).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Bs.subVectors(this.c,this.b),No.subVectors(this.a,this.b),Bs.cross(No).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return fs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return fs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return fs.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return fs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return fs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Fc.subVectors(i,r),Oc.subVectors(s,r),T_.subVectors(e,r);const l=Fc.dot(T_),u=Oc.dot(T_);if(l<=0&&u<=0)return t.copy(r);P_.subVectors(e,i);const c=Fc.dot(P_),f=Oc.dot(P_);if(c>=0&&f<=c)return t.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(r).addScaledVector(Fc,o);R_.subVectors(e,s);const m=Fc.dot(R_),g=Oc.dot(R_);if(g>=0&&m<=g)return t.copy(s);const y=m*u-l*g;if(y<=0&&u>=0&&g<=0)return a=u/(u-g),t.copy(r).addScaledVector(Oc,a);const v=c*g-m*f;if(v<=0&&f-c>=0&&m-g>=0)return b3.subVectors(s,i),a=(f-c)/(f-c+(m-g)),t.copy(i).addScaledVector(b3,a);const x=1/(v+y+h);return o=y*x,a=h*x,t.copy(r).addScaledVector(Fc,o).addScaledVector(Oc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let SH=0;class Kn extends va{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:SH++}),this.uuid=Di(),this.name="",this.type="Material",this.blending=Du,this.side=xl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Fb,this.blendDst=Ob,this.blendEquation=gu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ev,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=nO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Sy,this.stencilZFail=Sy,this.stencilZPass=Sy,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Du&&(r.blending=this.blending),this.side!==xl&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Pi extends Kn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Me(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=om,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Wn=new F,o0=new ye;class zt{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=Rp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)o0.fromBufferAttribute(this,t),o0.applyMatrix3(e),this.setXY(t,o0.x,o0.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Wn.fromBufferAttribute(this,t),Wn.applyMatrix3(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Wn.fromBufferAttribute(this,t),Wn.applyMatrix4(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Wn.fromBufferAttribute(this,t),Wn.applyNormalMatrix(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Wn.fromBufferAttribute(this,t),Wn.transformDirection(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Zo(t,this.array)),t}setX(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Zo(t,this.array)),t}setY(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Zo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Zo(t,this.array)),t}setW(e,t){return this.normalized&&(t=Kt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array),i=Kt(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array),i=Kt(i,this.array),s=Kt(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Rp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class AH extends zt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class MH extends zt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class bH extends zt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class CH extends zt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class r1 extends zt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class EH extends zt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Wb extends zt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class TH extends zt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class ke extends zt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class PH extends zt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let RH=0;const Zi=new Le,B_=new wt,Nc=new F,Ai=new Il,ah=new Il,cr=new F;class ot extends va{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:RH++}),this.uuid=Di(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(iO(e)?Wb:r1)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new jr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Zi.makeRotationFromQuaternion(e),this.applyMatrix4(Zi),this}rotateX(e){return Zi.makeRotationX(e),this.applyMatrix4(Zi),this}rotateY(e){return Zi.makeRotationY(e),this.applyMatrix4(Zi),this}rotateZ(e){return Zi.makeRotationZ(e),this.applyMatrix4(Zi),this}translate(e,t,r){return Zi.makeTranslation(e,t,r),this.applyMatrix4(Zi),this}scale(e,t,r){return Zi.makeScale(e,t,r),this.applyMatrix4(Zi),this}lookAt(e){return B_.lookAt(e),B_.updateMatrix(),this.applyMatrix4(B_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nc).negate(),this.translate(Nc.x,Nc.y,Nc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ke(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Il);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Ai.setFromBufferAttribute(s),this.morphTargetsRelative?(cr.addVectors(this.boundingBox.min,Ai.min),this.boundingBox.expandByPoint(cr),cr.addVectors(this.boundingBox.max,Ai.max),this.boundingBox.expandByPoint(cr)):(this.boundingBox.expandByPoint(Ai.min),this.boundingBox.expandByPoint(Ai.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ll);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const r=this.boundingSphere.center;if(Ai.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];ah.setFromBufferAttribute(a),this.morphTargetsRelative?(cr.addVectors(Ai.min,ah.min),Ai.expandByPoint(cr),cr.addVectors(Ai.max,ah.max),Ai.expandByPoint(cr)):(Ai.expandByPoint(ah.min),Ai.expandByPoint(ah.max))}Ai.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)cr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(cr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)cr.fromBufferAttribute(a,u),l&&(Nc.fromBufferAttribute(e,u),cr.add(Nc)),i=Math.max(i,r.distanceToSquared(cr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new zt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let I=0;I<a;I++)u[I]=new F,c[I]=new F;const f=new F,h=new F,m=new F,g=new ye,y=new ye,v=new ye,x=new F,_=new F;function S(I,k,j){f.fromArray(i,I*3),h.fromArray(i,k*3),m.fromArray(i,j*3),g.fromArray(o,I*2),y.fromArray(o,k*2),v.fromArray(o,j*2),h.sub(f),m.sub(f),y.sub(g),v.sub(g);const G=1/(y.x*v.y-v.x*y.y);isFinite(G)&&(x.copy(h).multiplyScalar(v.y).addScaledVector(m,-y.y).multiplyScalar(G),_.copy(m).multiplyScalar(y.x).addScaledVector(h,-v.x).multiplyScalar(G),u[I].add(x),u[k].add(x),u[j].add(x),c[I].add(_),c[k].add(_),c[j].add(_))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let I=0,k=M.length;I<k;++I){const j=M[I],G=j.start,N=j.count;for(let $=G,X=G+N;$<X;$+=3)S(r[$+0],r[$+1],r[$+2])}const C=new F,T=new F,R=new F,b=new F;function B(I){R.fromArray(s,I*3),b.copy(R);const k=u[I];C.copy(k),C.sub(R.multiplyScalar(R.dot(k))).normalize(),T.crossVectors(b,k);const G=T.dot(c[I])<0?-1:1;l[I*4]=C.x,l[I*4+1]=C.y,l[I*4+2]=C.z,l[I*4+3]=G}for(let I=0,k=M.length;I<k;++I){const j=M[I],G=j.start,N=j.count;for(let $=G,X=G+N;$<X;$+=3)B(r[$+0]),B(r[$+1]),B(r[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new zt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new F,s=new F,o=new F,a=new F,l=new F,u=new F,c=new F,f=new F;if(e)for(let h=0,m=e.count;h<m;h+=3){const g=e.getX(h+0),y=e.getX(h+1),v=e.getX(h+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,v),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,y),u.fromBufferAttribute(r,v),a.add(c),l.add(c),u.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let h=0,m=t.count;h<m;h+=3)i.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)cr.fromBufferAttribute(e,t),cr.normalize(),e.setXYZ(t,cr.x,cr.y,cr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,h=new u.constructor(l.length*c);let m=0,g=0;for(let y=0,v=l.length;y<v;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*c;for(let x=0;x<c;x++)h[g++]=u[m++]}return new zt(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ot,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const h=u[c],m=e(h,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let h=0,m=f.length;h<m;h++)c.push(f[h].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const C3=new Le,zc=new lm,D_=new Ll,Oa=new F,Na=new F,za=new F,I_=new F,L_=new F,k_=new F,a0=new F,l0=new F,u0=new F,c0=new ye,f0=new ye,d0=new ye,F_=new F,h0=new F;class Xn extends wt{constructor(e=new ot,t=new Pi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),D_.copy(r.boundingSphere),D_.applyMatrix4(s),e.ray.intersectsSphere(D_)===!1)||(C3.copy(s).invert(),zc.copy(e.ray).applyMatrix4(C3),r.boundingBox!==null&&zc.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.morphAttributes.position,c=r.morphTargetsRelative,f=r.attributes.uv,h=r.attributes.uv2,m=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let y=0,v=m.length;y<v;y++){const x=m[y],_=i[x.materialIndex],S=Math.max(x.start,g.start),M=Math.min(a.count,Math.min(x.start+x.count,g.start+g.count));for(let C=S,T=M;C<T;C+=3){const R=a.getX(C),b=a.getX(C+1),B=a.getX(C+2);o=p0(this,_,e,zc,l,u,c,f,h,R,b,B),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const y=Math.max(0,g.start),v=Math.min(a.count,g.start+g.count);for(let x=y,_=v;x<_;x+=3){const S=a.getX(x),M=a.getX(x+1),C=a.getX(x+2);o=p0(this,i,e,zc,l,u,c,f,h,S,M,C),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let y=0,v=m.length;y<v;y++){const x=m[y],_=i[x.materialIndex],S=Math.max(x.start,g.start),M=Math.min(l.count,Math.min(x.start+x.count,g.start+g.count));for(let C=S,T=M;C<T;C+=3){const R=C,b=C+1,B=C+2;o=p0(this,_,e,zc,l,u,c,f,h,R,b,B),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const y=Math.max(0,g.start),v=Math.min(l.count,g.start+g.count);for(let x=y,_=v;x<_;x+=3){const S=x,M=x+1,C=x+2;o=p0(this,i,e,zc,l,u,c,f,h,S,M,C),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}}function BH(n,e,t,r,i,s,o,a){let l;if(e.side===Bi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==po,a),l===null)return null;h0.copy(a),h0.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(h0);return u<t.near||u>t.far?null:{distance:u,point:h0.clone(),object:n}}function p0(n,e,t,r,i,s,o,a,l,u,c,f){Oa.fromBufferAttribute(i,u),Na.fromBufferAttribute(i,c),za.fromBufferAttribute(i,f);const h=n.morphTargetInfluences;if(s&&h){a0.set(0,0,0),l0.set(0,0,0),u0.set(0,0,0);for(let g=0,y=s.length;g<y;g++){const v=h[g],x=s[g];v!==0&&(I_.fromBufferAttribute(x,u),L_.fromBufferAttribute(x,c),k_.fromBufferAttribute(x,f),o?(a0.addScaledVector(I_,v),l0.addScaledVector(L_,v),u0.addScaledVector(k_,v)):(a0.addScaledVector(I_.sub(Oa),v),l0.addScaledVector(L_.sub(Na),v),u0.addScaledVector(k_.sub(za),v)))}Oa.add(a0),Na.add(l0),za.add(u0)}n.isSkinnedMesh&&(n.boneTransform(u,Oa),n.boneTransform(c,Na),n.boneTransform(f,za));const m=BH(n,e,t,r,Oa,Na,za,F_);if(m){a&&(c0.fromBufferAttribute(a,u),f0.fromBufferAttribute(a,c),d0.fromBufferAttribute(a,f),m.uv=fs.getUV(F_,Oa,Na,za,c0,f0,d0,new ye)),l&&(c0.fromBufferAttribute(l,u),f0.fromBufferAttribute(l,c),d0.fromBufferAttribute(l,f),m.uv2=fs.getUV(F_,Oa,Na,za,c0,f0,d0,new ye));const g={a:u,b:c,c:f,normal:new F,materialIndex:0};fs.getNormal(Oa,Na,za,g.normal),m.face=g}return m}class kl extends ot{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ke(u,3)),this.setAttribute("normal",new ke(c,3)),this.setAttribute("uv",new ke(f,2));function g(y,v,x,_,S,M,C,T,R,b,B){const I=M/R,k=C/b,j=M/2,G=C/2,N=T/2,$=R+1,X=b+1;let te=0,O=0;const z=new F;for(let H=0;H<X;H++){const K=H*k-G;for(let ee=0;ee<$;ee++){const ce=ee*I-j;z[y]=ce*_,z[v]=K*S,z[x]=N,u.push(z.x,z.y,z.z),z[y]=0,z[v]=0,z[x]=T>0?1:-1,c.push(z.x,z.y,z.z),f.push(ee/R),f.push(1-H/b),te+=1}}for(let H=0;H<b;H++)for(let K=0;K<R;K++){const ee=h+K+$*H,ce=h+K+$*(H+1),ge=h+(K+1)+$*(H+1),Re=h+(K+1)+$*H;l.push(ee,ce,Re),l.push(ce,ge,Re),O+=6}a.addGroup(m,O,B),m+=O,h+=te}}static fromJSON(e){return new kl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function nd(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ur(n){const e={};for(let t=0;t<n.length;t++){const r=nd(n[t]);for(const i in r)e[i]=r[i]}return e}function DH(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const oO={clone:nd,merge:Ur};var IH=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,LH=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ws extends Kn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=IH,this.fragmentShader=LH,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=nd(e.uniforms),this.uniformsGroups=DH(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class um extends wt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Le,this.projectionMatrix=new Le,this.projectionMatrixInverse=new Le}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class $n extends um{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Bp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Lu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bp*2*Math.atan(Math.tan(Lu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Lu*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Uc=90,Gc=1;class aO extends wt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new $n(Uc,Gc,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new F(1,0,0)),this.add(i);const s=new $n(Uc,Gc,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new F(-1,0,0)),this.add(s);const o=new $n(Uc,Gc,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new F(0,1,0)),this.add(o);const a=new $n(Uc,Gc,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new F(0,-1,0)),this.add(a);const l=new $n(Uc,Gc,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new F(0,0,1)),this.add(l);const u=new $n(Uc,Gc,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new F(0,0,-1)),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,h=e.xr.enabled;e.toneMapping=Gs,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class cm extends fn{constructor(e,t,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:_l,super(e,t,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class lO extends mi{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new cm(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:vn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new kl(5,5,5),s=new ws({name:"CubemapFromEquirect",uniforms:nd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Bi,blending:na});s.uniforms.tEquirect.value=t;const o=new Xn(i,s),a=t.minFilter;return t.minFilter===ya&&(t.minFilter=vn),new aO(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const O_=new F,kH=new F,FH=new jr;class Ja{constructor(e=new F(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=O_.subVectors(r,t).cross(kH.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(O_),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||FH.getNormalMatrix(e),i=this.coplanarPoint(O_).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Hc=new Ll,m0=new F;class i1{constructor(e=new Ja,t=new Ja,r=new Ja,i=new Ja,s=new Ja,o=new Ja){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],f=r[7],h=r[8],m=r[9],g=r[10],y=r[11],v=r[12],x=r[13],_=r[14],S=r[15];return t[0].setComponents(a-i,f-l,y-h,S-v).normalize(),t[1].setComponents(a+i,f+l,y+h,S+v).normalize(),t[2].setComponents(a+s,f+u,y+m,S+x).normalize(),t[3].setComponents(a-s,f-u,y-m,S-x).normalize(),t[4].setComponents(a-o,f-c,y-g,S-_).normalize(),t[5].setComponents(a+o,f+c,y+g,S+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Hc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Hc)}intersectsSprite(e){return Hc.center.set(0,0,0),Hc.radius=.7071067811865476,Hc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Hc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(m0.x=i.normal.x>0?e.max.x:e.min.x,m0.y=i.normal.y>0?e.max.y:e.min.y,m0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(m0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function uO(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function OH(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,h=u.usage,m=n.createBuffer();n.bindBuffer(c,m),n.bufferData(c,f,h),u.onUploadCallback();let g;if(f instanceof Float32Array)g=5126;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(f instanceof Int16Array)g=5122;else if(f instanceof Uint32Array)g=5125;else if(f instanceof Int32Array)g=5124;else if(f instanceof Int8Array)g=5120;else if(f instanceof Uint8Array)g=5121;else if(f instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const h=c.array,m=c.updateRange;n.bindBuffer(f,u),m.count===-1?n.bufferSubData(f,0,h):(t?n.bufferSubData(f,m.offset*h.BYTES_PER_ELEMENT,h,m.offset,m.count):n.bufferSubData(f,m.offset*h.BYTES_PER_ELEMENT,h.subarray(m.offset,m.offset+m.count)),m.count=-1)}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(n.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const h=r.get(u);(!h||h.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class lc extends ot{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,h=t/l,m=[],g=[],y=[],v=[];for(let x=0;x<c;x++){const _=x*h-o;for(let S=0;S<u;S++){const M=S*f-s;g.push(M,-_,0),y.push(0,0,1),v.push(S/a),v.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const S=_+u*x,M=_+u*(x+1),C=_+1+u*(x+1),T=_+1+u*x;m.push(S,M,T),m.push(M,C,T)}this.setIndex(m),this.setAttribute("position",new ke(g,3)),this.setAttribute("normal",new ke(y,3)),this.setAttribute("uv",new ke(v,2))}static fromJSON(e){return new lc(e.width,e.height,e.widthSegments,e.heightSegments)}}var NH=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,zH=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,UH=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,GH=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,HH=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,VH=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,WH="vec3 transformed = vec3( position );",jH=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,$H=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,JH=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,XH=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,KH=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,YH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,QH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,qH=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ZH=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,eV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,tV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,nV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,rV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,iV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sV=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oV=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,aV=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,lV=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,uV=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,cV="gl_FragColor = linearToOutputTexel( gl_FragColor );",fV=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,dV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,hV=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,pV=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,mV=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,gV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,yV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,vV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,xV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_V=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,wV=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,SV=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,AV=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,MV=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,bV=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,CV=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,EV=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,TV=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,PV=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,RV=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,BV=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,DV=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,IV=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,LV=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,kV=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,FV=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,OV=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,NV=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,zV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,UV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,GV=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,HV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,VV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,WV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$V=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,JV=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,XV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,KV=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,YV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,QV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,qV=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ZV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,eW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,rW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,iW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,sW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,oW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,aW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,lW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,uW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,cW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,fW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,hW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,pW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,mW=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,gW=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,yW=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,vW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,xW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,_W=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,wW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,SW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,AW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,MW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,CW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,EW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,TW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,PW=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,RW=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,BW=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,DW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,IW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,LW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,kW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const FW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,OW=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,NW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,UW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,GW=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,HW=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,VW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,WW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,jW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,$W=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,JW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,XW=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,KW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,YW=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,QW=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qW=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZW=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,t7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,r7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,i7=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,s7=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o7=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,a7=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l7=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,u7=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c7=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,f7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,d7=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,h7=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,p7=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,m7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,gt={alphamap_fragment:NH,alphamap_pars_fragment:zH,alphatest_fragment:UH,alphatest_pars_fragment:GH,aomap_fragment:HH,aomap_pars_fragment:VH,begin_vertex:WH,beginnormal_vertex:jH,bsdfs:$H,iridescence_fragment:JH,bumpmap_pars_fragment:XH,clipping_planes_fragment:KH,clipping_planes_pars_fragment:YH,clipping_planes_pars_vertex:QH,clipping_planes_vertex:qH,color_fragment:ZH,color_pars_fragment:eV,color_pars_vertex:tV,color_vertex:nV,common:rV,cube_uv_reflection_fragment:iV,defaultnormal_vertex:sV,displacementmap_pars_vertex:oV,displacementmap_vertex:aV,emissivemap_fragment:lV,emissivemap_pars_fragment:uV,encodings_fragment:cV,encodings_pars_fragment:fV,envmap_fragment:dV,envmap_common_pars_fragment:hV,envmap_pars_fragment:pV,envmap_pars_vertex:mV,envmap_physical_pars_fragment:EV,envmap_vertex:gV,fog_vertex:yV,fog_pars_vertex:vV,fog_fragment:xV,fog_pars_fragment:_V,gradientmap_pars_fragment:wV,lightmap_fragment:SV,lightmap_pars_fragment:AV,lights_lambert_fragment:MV,lights_lambert_pars_fragment:bV,lights_pars_begin:CV,lights_toon_fragment:TV,lights_toon_pars_fragment:PV,lights_phong_fragment:RV,lights_phong_pars_fragment:BV,lights_physical_fragment:DV,lights_physical_pars_fragment:IV,lights_fragment_begin:LV,lights_fragment_maps:kV,lights_fragment_end:FV,logdepthbuf_fragment:OV,logdepthbuf_pars_fragment:NV,logdepthbuf_pars_vertex:zV,logdepthbuf_vertex:UV,map_fragment:GV,map_pars_fragment:HV,map_particle_fragment:VV,map_particle_pars_fragment:WV,metalnessmap_fragment:jV,metalnessmap_pars_fragment:$V,morphcolor_vertex:JV,morphnormal_vertex:XV,morphtarget_pars_vertex:KV,morphtarget_vertex:YV,normal_fragment_begin:QV,normal_fragment_maps:qV,normal_pars_fragment:ZV,normal_pars_vertex:eW,normal_vertex:tW,normalmap_pars_fragment:nW,clearcoat_normal_fragment_begin:rW,clearcoat_normal_fragment_maps:iW,clearcoat_pars_fragment:sW,iridescence_pars_fragment:oW,output_fragment:aW,packing:lW,premultiplied_alpha_fragment:uW,project_vertex:cW,dithering_fragment:fW,dithering_pars_fragment:dW,roughnessmap_fragment:hW,roughnessmap_pars_fragment:pW,shadowmap_pars_fragment:mW,shadowmap_pars_vertex:gW,shadowmap_vertex:yW,shadowmask_pars_fragment:vW,skinbase_vertex:xW,skinning_pars_vertex:_W,skinning_vertex:wW,skinnormal_vertex:SW,specularmap_fragment:AW,specularmap_pars_fragment:MW,tonemapping_fragment:bW,tonemapping_pars_fragment:CW,transmission_fragment:EW,transmission_pars_fragment:TW,uv_pars_fragment:PW,uv_pars_vertex:RW,uv_vertex:BW,uv2_pars_fragment:DW,uv2_pars_vertex:IW,uv2_vertex:LW,worldpos_vertex:kW,background_vert:FW,background_frag:OW,backgroundCube_vert:NW,backgroundCube_frag:zW,cube_vert:UW,cube_frag:GW,depth_vert:HW,depth_frag:VW,distanceRGBA_vert:WW,distanceRGBA_frag:jW,equirect_vert:$W,equirect_frag:JW,linedashed_vert:XW,linedashed_frag:KW,meshbasic_vert:YW,meshbasic_frag:QW,meshlambert_vert:qW,meshlambert_frag:ZW,meshmatcap_vert:e7,meshmatcap_frag:t7,meshnormal_vert:n7,meshnormal_frag:r7,meshphong_vert:i7,meshphong_frag:s7,meshphysical_vert:o7,meshphysical_frag:a7,meshtoon_vert:l7,meshtoon_frag:u7,points_vert:c7,points_frag:f7,shadow_vert:d7,shadow_frag:h7,sprite_vert:p7,sprite_frag:m7},Pe={common:{diffuse:{value:new Me(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new jr},uv2Transform:{value:new jr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Me(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Me(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new jr}},sprite:{diffuse:{value:new Me(16777215)},opacity:{value:1},center:{value:new ye(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new jr}}},Os={basic:{uniforms:Ur([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.fog]),vertexShader:gt.meshbasic_vert,fragmentShader:gt.meshbasic_frag},lambert:{uniforms:Ur([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,Pe.lights,{emissive:{value:new Me(0)}}]),vertexShader:gt.meshlambert_vert,fragmentShader:gt.meshlambert_frag},phong:{uniforms:Ur([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,Pe.lights,{emissive:{value:new Me(0)},specular:{value:new Me(1118481)},shininess:{value:30}}]),vertexShader:gt.meshphong_vert,fragmentShader:gt.meshphong_frag},standard:{uniforms:Ur([Pe.common,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.roughnessmap,Pe.metalnessmap,Pe.fog,Pe.lights,{emissive:{value:new Me(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag},toon:{uniforms:Ur([Pe.common,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.gradientmap,Pe.fog,Pe.lights,{emissive:{value:new Me(0)}}]),vertexShader:gt.meshtoon_vert,fragmentShader:gt.meshtoon_frag},matcap:{uniforms:Ur([Pe.common,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,{matcap:{value:null}}]),vertexShader:gt.meshmatcap_vert,fragmentShader:gt.meshmatcap_frag},points:{uniforms:Ur([Pe.points,Pe.fog]),vertexShader:gt.points_vert,fragmentShader:gt.points_frag},dashed:{uniforms:Ur([Pe.common,Pe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gt.linedashed_vert,fragmentShader:gt.linedashed_frag},depth:{uniforms:Ur([Pe.common,Pe.displacementmap]),vertexShader:gt.depth_vert,fragmentShader:gt.depth_frag},normal:{uniforms:Ur([Pe.common,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,{opacity:{value:1}}]),vertexShader:gt.meshnormal_vert,fragmentShader:gt.meshnormal_frag},sprite:{uniforms:Ur([Pe.sprite,Pe.fog]),vertexShader:gt.sprite_vert,fragmentShader:gt.sprite_frag},background:{uniforms:{uvTransform:{value:new jr},t2D:{value:null}},vertexShader:gt.background_vert,fragmentShader:gt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:gt.backgroundCube_vert,fragmentShader:gt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gt.cube_vert,fragmentShader:gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gt.equirect_vert,fragmentShader:gt.equirect_frag},distanceRGBA:{uniforms:Ur([Pe.common,Pe.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gt.distanceRGBA_vert,fragmentShader:gt.distanceRGBA_frag},shadow:{uniforms:Ur([Pe.lights,Pe.fog,{color:{value:new Me(0)},opacity:{value:1}}]),vertexShader:gt.shadow_vert,fragmentShader:gt.shadow_frag}};Os.physical={uniforms:Ur([Os.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ye(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Me(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Me(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Me(1,1,1)},specularColorMap:{value:null}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag};function g7(n,e,t,r,i,s,o){const a=new Me(0);let l=s===!0?0:1,u,c,f=null,h=0,m=null;function g(v,x){let _=!1,S=x.isScene===!0?x.background:null;S&&S.isTexture&&(S=(x.backgroundBlurriness>0?t:e).get(S));const M=n.xr,C=M.getSession&&M.getSession();C&&C.environmentBlendMode==="additive"&&(S=null),S===null?y(a,l):S&&S.isColor&&(y(S,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===vd)?(c===void 0&&(c=new Xn(new kl(1,1,1),new ws({name:"BackgroundCubeMaterial",uniforms:nd(Os.backgroundCube.uniforms),vertexShader:Os.backgroundCube.vertexShader,fragmentShader:Os.backgroundCube.fragmentShader,side:Bi,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(T,R,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=S,c.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,(f!==S||h!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=S,h=S.version,m=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new Xn(new lc(2,2),new ws({name:"BackgroundMaterial",uniforms:nd(Os.background.uniforms),vertexShader:Os.background.vertexShader,fragmentShader:Os.background.fragmentShader,side:xl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=S,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(f!==S||h!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=S,h=S.version,m=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null))}function y(v,x){r.buffers.color.setClear(v.r,v.g,v.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(v,x=1){a.set(v),l=x,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,y(a,l)},render:g}}function y7(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=v(null);let u=l,c=!1;function f(N,$,X,te,O){let z=!1;if(o){const H=y(te,X,$);u!==H&&(u=H,m(u.object)),z=x(N,te,X,O),z&&_(N,te,X,O)}else{const H=$.wireframe===!0;(u.geometry!==te.id||u.program!==X.id||u.wireframe!==H)&&(u.geometry=te.id,u.program=X.id,u.wireframe=H,z=!0)}O!==null&&t.update(O,34963),(z||c)&&(c=!1,b(N,$,X,te),O!==null&&n.bindBuffer(34963,t.get(O).buffer))}function h(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(N){return r.isWebGL2?n.bindVertexArray(N):s.bindVertexArrayOES(N)}function g(N){return r.isWebGL2?n.deleteVertexArray(N):s.deleteVertexArrayOES(N)}function y(N,$,X){const te=X.wireframe===!0;let O=a[N.id];O===void 0&&(O={},a[N.id]=O);let z=O[$.id];z===void 0&&(z={},O[$.id]=z);let H=z[te];return H===void 0&&(H=v(h()),z[te]=H),H}function v(N){const $=[],X=[],te=[];for(let O=0;O<i;O++)$[O]=0,X[O]=0,te[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:X,attributeDivisors:te,object:N,attributes:{},index:null}}function x(N,$,X,te){const O=u.attributes,z=$.attributes;let H=0;const K=X.getAttributes();for(const ee in K)if(K[ee].location>=0){const ge=O[ee];let Re=z[ee];if(Re===void 0&&(ee==="instanceMatrix"&&N.instanceMatrix&&(Re=N.instanceMatrix),ee==="instanceColor"&&N.instanceColor&&(Re=N.instanceColor)),ge===void 0||ge.attribute!==Re||Re&&ge.data!==Re.data)return!0;H++}return u.attributesNum!==H||u.index!==te}function _(N,$,X,te){const O={},z=$.attributes;let H=0;const K=X.getAttributes();for(const ee in K)if(K[ee].location>=0){let ge=z[ee];ge===void 0&&(ee==="instanceMatrix"&&N.instanceMatrix&&(ge=N.instanceMatrix),ee==="instanceColor"&&N.instanceColor&&(ge=N.instanceColor));const Re={};Re.attribute=ge,ge&&ge.data&&(Re.data=ge.data),O[ee]=Re,H++}u.attributes=O,u.attributesNum=H,u.index=te}function S(){const N=u.newAttributes;for(let $=0,X=N.length;$<X;$++)N[$]=0}function M(N){C(N,0)}function C(N,$){const X=u.newAttributes,te=u.enabledAttributes,O=u.attributeDivisors;X[N]=1,te[N]===0&&(n.enableVertexAttribArray(N),te[N]=1),O[N]!==$&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,$),O[N]=$)}function T(){const N=u.newAttributes,$=u.enabledAttributes;for(let X=0,te=$.length;X<te;X++)$[X]!==N[X]&&(n.disableVertexAttribArray(X),$[X]=0)}function R(N,$,X,te,O,z){r.isWebGL2===!0&&(X===5124||X===5125)?n.vertexAttribIPointer(N,$,X,O,z):n.vertexAttribPointer(N,$,X,te,O,z)}function b(N,$,X,te){if(r.isWebGL2===!1&&(N.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const O=te.attributes,z=X.getAttributes(),H=$.defaultAttributeValues;for(const K in z){const ee=z[K];if(ee.location>=0){let ce=O[K];if(ce===void 0&&(K==="instanceMatrix"&&N.instanceMatrix&&(ce=N.instanceMatrix),K==="instanceColor"&&N.instanceColor&&(ce=N.instanceColor)),ce!==void 0){const ge=ce.normalized,Re=ce.itemSize,se=t.get(ce);if(se===void 0)continue;const He=se.buffer,Ge=se.type,Ke=se.bytesPerElement;if(ce.isInterleavedBufferAttribute){const be=ce.data,Ve=be.stride,he=ce.offset;if(be.isInstancedInterleavedBuffer){for(let ae=0;ae<ee.locationSize;ae++)C(ee.location+ae,be.meshPerAttribute);N.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=be.meshPerAttribute*be.count)}else for(let ae=0;ae<ee.locationSize;ae++)M(ee.location+ae);n.bindBuffer(34962,He);for(let ae=0;ae<ee.locationSize;ae++)R(ee.location+ae,Re/ee.locationSize,Ge,ge,Ve*Ke,(he+Re/ee.locationSize*ae)*Ke)}else{if(ce.isInstancedBufferAttribute){for(let be=0;be<ee.locationSize;be++)C(ee.location+be,ce.meshPerAttribute);N.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let be=0;be<ee.locationSize;be++)M(ee.location+be);n.bindBuffer(34962,He);for(let be=0;be<ee.locationSize;be++)R(ee.location+be,Re/ee.locationSize,Ge,ge,Re*Ke,Re/ee.locationSize*be*Ke)}}else if(H!==void 0){const ge=H[K];if(ge!==void 0)switch(ge.length){case 2:n.vertexAttrib2fv(ee.location,ge);break;case 3:n.vertexAttrib3fv(ee.location,ge);break;case 4:n.vertexAttrib4fv(ee.location,ge);break;default:n.vertexAttrib1fv(ee.location,ge)}}}}T()}function B(){j();for(const N in a){const $=a[N];for(const X in $){const te=$[X];for(const O in te)g(te[O].object),delete te[O];delete $[X]}delete a[N]}}function I(N){if(a[N.id]===void 0)return;const $=a[N.id];for(const X in $){const te=$[X];for(const O in te)g(te[O].object),delete te[O];delete $[X]}delete a[N.id]}function k(N){for(const $ in a){const X=a[$];if(X[N.id]===void 0)continue;const te=X[N.id];for(const O in te)g(te[O].object),delete te[O];delete X[N.id]}}function j(){G(),c=!0,u!==l&&(u=l,m(u.object))}function G(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:j,resetDefaultState:G,dispose:B,releaseStatesOfGeometry:I,releaseStatesOfProgram:k,initAttributes:S,enableAttribute:M,disableUnusedAttributes:T}}function v7(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){n.drawArrays(s,u,c),t.update(c,s,1)}function l(u,c,f){if(f===0)return;let h,m;if(i)h=n,m="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[m](s,u,c,f),t.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function x7(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),h=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),y=n.getParameter(34921),v=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),S=h>0,M=o||e.has("OES_texture_float"),C=S&&M,T=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:h,maxTextureSize:m,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:v,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:C,maxSamples:T}}function _7(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Ja,a=new jr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h,m){const g=f.length!==0||h||r!==0||i;return i=h,t=c(f,m,0),r=f.length,g},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1,u()},this.setState=function(f,h,m){const g=f.clippingPlanes,y=f.clipIntersection,v=f.clipShadows,x=n.get(f);if(!i||g===null||g.length===0||s&&!v)s?c(null):u();else{const _=s?0:r,S=_*4;let M=x.clippingState||null;l.value=M,M=c(g,h,S,m);for(let C=0;C!==S;++C)M[C]=t[C];x.clippingState=M,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,m,g){const y=f!==null?f.length:0;let v=null;if(y!==0){if(v=l.value,g!==!0||v===null){const x=m+y*4,_=h.matrixWorldInverse;a.getNormalMatrix(_),(v===null||v.length<x)&&(v=new Float32Array(x));for(let S=0,M=m;S!==y;++S,M+=4)o.copy(f[S]).applyMatrix4(_,a),o.normal.toArray(v,M),v[M+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,v}}function w7(n){let e=new WeakMap;function t(o,a){return a===qf?o.mapping=_l:a===Cp&&(o.mapping=wl),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===qf||a===Cp)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new lO(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class uc extends um{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const wf=4,E3=[.125,.215,.35,.446,.526,.582],yu=20,N_=new uc,T3=new Me;let z_=null;const fu=(1+Math.sqrt(5))/2,Vc=1/fu,P3=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,fu,Vc),new F(0,fu,-Vc),new F(Vc,0,fu),new F(-Vc,0,fu),new F(fu,Vc,0),new F(-fu,Vc,0)];class SA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){z_=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=D3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=B3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(z_),e.scissorTest=!1,g0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===_l||e.mapping===wl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),z_=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:vn,minFilter:vn,generateMipmaps:!1,type:ed,format:oi,encoding:Sl,depthBuffer:!1},i=R3(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=R3(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=S7(s)),this._blurMaterial=A7(s,e,t)}return i}_compileMaterial(e){const t=new Xn(this._lodPlanes[0],e);this._renderer.compile(t,N_)}_sceneToCubeUV(e,t,r,i){const a=new $n(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor(T3),c.toneMapping=Gs,c.autoClear=!1;const m=new Pi({name:"PMREM.Background",side:Bi,depthWrite:!1,depthTest:!1}),g=new Xn(new kl,m);let y=!1;const v=e.background;v?v.isColor&&(m.color.copy(v),e.background=null,y=!0):(m.color.copy(T3),y=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(a.up.set(0,l[x],0),a.lookAt(u[x],0,0)):_===1?(a.up.set(0,0,l[x]),a.lookAt(0,u[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,u[x]));const S=this._cubeSize;g0(i,_*S,x>2?S:0,S,S),c.setRenderTarget(i),y&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===_l||e.mapping===wl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=D3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=B3());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Xn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;g0(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,N_)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=P3[(i-1)%P3.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Xn(this._lodPlanes[i],u),h=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*yu-1),y=s/g,v=isFinite(s)?1+Math.floor(c*y):yu;v>yu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${yu}`);const x=[];let _=0;for(let R=0;R<yu;++R){const b=R/y,B=Math.exp(-b*b/2);x.push(B),R===0?_+=B:R<v&&(_+=2*B)}for(let R=0;R<x.length;R++)x[R]=x[R]/_;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=x,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:S}=this;h.dTheta.value=g,h.mipInt.value=S-r;const M=this._sizeLods[i],C=3*M*(i>S-wf?i-S+wf:0),T=4*(this._cubeSize-M);g0(t,C,T,3*M,2*M),l.setRenderTarget(t),l.render(f,N_)}}function S7(n){const e=[],t=[],r=[];let i=n;const s=n-wf+1+E3.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-wf?l=E3[o-n+wf-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,g=6,y=3,v=2,x=1,_=new Float32Array(y*g*m),S=new Float32Array(v*g*m),M=new Float32Array(x*g*m);for(let T=0;T<m;T++){const R=T%3*2/3-1,b=T>2?0:-1,B=[R,b,0,R+2/3,b,0,R+2/3,b+1,0,R,b,0,R+2/3,b+1,0,R,b+1,0];_.set(B,y*g*T),S.set(h,v*g*T);const I=[T,T,T,T,T,T];M.set(I,x*g*T)}const C=new ot;C.setAttribute("position",new zt(_,y)),C.setAttribute("uv",new zt(S,v)),C.setAttribute("faceIndex",new zt(M,x)),e.push(C),i>wf&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function R3(n,e,t){const r=new mi(n,e,t);return r.texture.mapping=vd,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function g0(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function A7(n,e,t){const r=new Float32Array(yu),i=new F(0,1,0);return new ws({name:"SphericalGaussianBlur",defines:{n:yu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:na,depthTest:!1,depthWrite:!1})}function B3(){return new ws({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:na,depthTest:!1,depthWrite:!1})}function D3(){return new ws({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:na,depthTest:!1,depthWrite:!1})}function jb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function M7(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===qf||l===Cp,c=l===_l||l===wl;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new SA(n)),f=u?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&i(f)){t===null&&(t=new SA(n));const h=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function b7(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function C7(n,e,t,r){const i={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",o),delete i[h.id];const m=s.get(h);m&&(e.remove(m),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const g in h)e.update(h[g],34962);const m=f.morphAttributes;for(const g in m){const y=m[g];for(let v=0,x=y.length;v<x;v++)e.update(y[v],34962)}}function u(f){const h=[],m=f.index,g=f.attributes.position;let y=0;if(m!==null){const _=m.array;y=m.version;for(let S=0,M=_.length;S<M;S+=3){const C=_[S+0],T=_[S+1],R=_[S+2];h.push(C,T,T,R,R,C)}}else{const _=g.array;y=g.version;for(let S=0,M=_.length/3-1;S<M;S+=3){const C=S+0,T=S+1,R=S+2;h.push(C,T,T,R,R,C)}}const v=new(iO(h)?Wb:r1)(h,1);v.version=y;const x=s.get(f);x&&e.remove(x),s.set(f,v)}function c(f){const h=s.get(f);if(h){const m=f.index;m!==null&&h.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function E7(n,e,t,r){const i=r.isWebGL2;let s;function o(h){s=h}let a,l;function u(h){a=h.type,l=h.bytesPerElement}function c(h,m){n.drawElements(s,m,a,h*l),t.update(m,s,1)}function f(h,m,g){if(g===0)return;let y,v;if(i)y=n,v="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[v](s,m,a,h*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function T7(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function P7(n,e){return n[0]-e[0]}function R7(n,e){return Math.abs(e[1])-Math.abs(n[1])}function B7(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new At,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f,h){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,v=y!==void 0?y.length:0;let x=s.get(c);if(x===void 0||x.count!==v){let X=function(){N.dispose(),s.delete(c),c.removeEventListener("dispose",X)};var g=X;x!==void 0&&x.texture.dispose();const M=c.morphAttributes.position!==void 0,C=c.morphAttributes.normal!==void 0,T=c.morphAttributes.color!==void 0,R=c.morphAttributes.position||[],b=c.morphAttributes.normal||[],B=c.morphAttributes.color||[];let I=0;M===!0&&(I=1),C===!0&&(I=2),T===!0&&(I=3);let k=c.attributes.position.count*I,j=1;k>e.maxTextureSize&&(j=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const G=new Float32Array(k*j*4*v),N=new am(G,k,j,v);N.type=qo,N.needsUpdate=!0;const $=I*4;for(let te=0;te<v;te++){const O=R[te],z=b[te],H=B[te],K=k*j*4*te;for(let ee=0;ee<O.count;ee++){const ce=ee*$;M===!0&&(o.fromBufferAttribute(O,ee),G[K+ce+0]=o.x,G[K+ce+1]=o.y,G[K+ce+2]=o.z,G[K+ce+3]=0),C===!0&&(o.fromBufferAttribute(z,ee),G[K+ce+4]=o.x,G[K+ce+5]=o.y,G[K+ce+6]=o.z,G[K+ce+7]=0),T===!0&&(o.fromBufferAttribute(H,ee),G[K+ce+8]=o.x,G[K+ce+9]=o.y,G[K+ce+10]=o.z,G[K+ce+11]=H.itemSize===4?o.w:1)}}x={count:v,texture:N,size:new ye(k,j)},s.set(c,x),c.addEventListener("dispose",X)}let _=0;for(let M=0;M<m.length;M++)_+=m[M];const S=c.morphTargetsRelative?1:1-_;h.getUniforms().setValue(n,"morphTargetBaseInfluence",S),h.getUniforms().setValue(n,"morphTargetInfluences",m),h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const y=m===void 0?0:m.length;let v=r[c.id];if(v===void 0||v.length!==y){v=[];for(let C=0;C<y;C++)v[C]=[C,0];r[c.id]=v}for(let C=0;C<y;C++){const T=v[C];T[0]=C,T[1]=m[C]}v.sort(R7);for(let C=0;C<8;C++)C<y&&v[C][1]?(a[C][0]=v[C][0],a[C][1]=v[C][1]):(a[C][0]=Number.MAX_SAFE_INTEGER,a[C][1]=0);a.sort(P7);const x=c.morphAttributes.position,_=c.morphAttributes.normal;let S=0;for(let C=0;C<8;C++){const T=a[C],R=T[0],b=T[1];R!==Number.MAX_SAFE_INTEGER&&b?(x&&c.getAttribute("morphTarget"+C)!==x[R]&&c.setAttribute("morphTarget"+C,x[R]),_&&c.getAttribute("morphNormal"+C)!==_[R]&&c.setAttribute("morphNormal"+C,_[R]),i[C]=b,S+=b):(x&&c.hasAttribute("morphTarget"+C)===!0&&c.deleteAttribute("morphTarget"+C),_&&c.hasAttribute("morphNormal"+C)===!0&&c.deleteAttribute("morphNormal"+C),i[C]=0)}const M=c.morphTargetsRelative?1:1-S;h.getUniforms().setValue(n,"morphTargetBaseInfluence",M),h.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function D7(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const cO=new fn,fO=new am,dO=new n1,hO=new cm,I3=[],L3=[],k3=new Float32Array(16),F3=new Float32Array(9),O3=new Float32Array(4);function xd(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=I3[i];if(s===void 0&&(s=new Float32Array(i),I3[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function rr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ir(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function s1(n,e){let t=L3[e];t===void 0&&(t=new Int32Array(e),L3[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function I7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function L7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(rr(t,e))return;n.uniform2fv(this.addr,e),ir(t,e)}}function k7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(rr(t,e))return;n.uniform3fv(this.addr,e),ir(t,e)}}function F7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(rr(t,e))return;n.uniform4fv(this.addr,e),ir(t,e)}}function O7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(rr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ir(t,e)}else{if(rr(t,r))return;O3.set(r),n.uniformMatrix2fv(this.addr,!1,O3),ir(t,r)}}function N7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(rr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ir(t,e)}else{if(rr(t,r))return;F3.set(r),n.uniformMatrix3fv(this.addr,!1,F3),ir(t,r)}}function z7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(rr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ir(t,e)}else{if(rr(t,r))return;k3.set(r),n.uniformMatrix4fv(this.addr,!1,k3),ir(t,r)}}function U7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function G7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(rr(t,e))return;n.uniform2iv(this.addr,e),ir(t,e)}}function H7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(rr(t,e))return;n.uniform3iv(this.addr,e),ir(t,e)}}function V7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(rr(t,e))return;n.uniform4iv(this.addr,e),ir(t,e)}}function W7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function j7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(rr(t,e))return;n.uniform2uiv(this.addr,e),ir(t,e)}}function $7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(rr(t,e))return;n.uniform3uiv(this.addr,e),ir(t,e)}}function J7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(rr(t,e))return;n.uniform4uiv(this.addr,e),ir(t,e)}}function X7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||cO,i)}function K7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||dO,i)}function Y7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||hO,i)}function Q7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||fO,i)}function q7(n){switch(n){case 5126:return I7;case 35664:return L7;case 35665:return k7;case 35666:return F7;case 35674:return O7;case 35675:return N7;case 35676:return z7;case 5124:case 35670:return U7;case 35667:case 35671:return G7;case 35668:case 35672:return H7;case 35669:case 35673:return V7;case 5125:return W7;case 36294:return j7;case 36295:return $7;case 36296:return J7;case 35678:case 36198:case 36298:case 36306:case 35682:return X7;case 35679:case 36299:case 36307:return K7;case 35680:case 36300:case 36308:case 36293:return Y7;case 36289:case 36303:case 36311:case 36292:return Q7}}function Z7(n,e){n.uniform1fv(this.addr,e)}function ej(n,e){const t=xd(e,this.size,2);n.uniform2fv(this.addr,t)}function tj(n,e){const t=xd(e,this.size,3);n.uniform3fv(this.addr,t)}function nj(n,e){const t=xd(e,this.size,4);n.uniform4fv(this.addr,t)}function rj(n,e){const t=xd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function ij(n,e){const t=xd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function sj(n,e){const t=xd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function oj(n,e){n.uniform1iv(this.addr,e)}function aj(n,e){n.uniform2iv(this.addr,e)}function lj(n,e){n.uniform3iv(this.addr,e)}function uj(n,e){n.uniform4iv(this.addr,e)}function cj(n,e){n.uniform1uiv(this.addr,e)}function fj(n,e){n.uniform2uiv(this.addr,e)}function dj(n,e){n.uniform3uiv(this.addr,e)}function hj(n,e){n.uniform4uiv(this.addr,e)}function pj(n,e,t){const r=this.cache,i=e.length,s=s1(t,i);rr(r,s)||(n.uniform1iv(this.addr,s),ir(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||cO,s[o])}function mj(n,e,t){const r=this.cache,i=e.length,s=s1(t,i);rr(r,s)||(n.uniform1iv(this.addr,s),ir(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||dO,s[o])}function gj(n,e,t){const r=this.cache,i=e.length,s=s1(t,i);rr(r,s)||(n.uniform1iv(this.addr,s),ir(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||hO,s[o])}function yj(n,e,t){const r=this.cache,i=e.length,s=s1(t,i);rr(r,s)||(n.uniform1iv(this.addr,s),ir(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||fO,s[o])}function vj(n){switch(n){case 5126:return Z7;case 35664:return ej;case 35665:return tj;case 35666:return nj;case 35674:return rj;case 35675:return ij;case 35676:return sj;case 5124:case 35670:return oj;case 35667:case 35671:return aj;case 35668:case 35672:return lj;case 35669:case 35673:return uj;case 5125:return cj;case 36294:return fj;case 36295:return dj;case 36296:return hj;case 35678:case 36198:case 36298:case 36306:case 35682:return pj;case 35679:case 36299:case 36307:return mj;case 35680:case 36300:case 36308:case 36293:return gj;case 36289:case 36303:case 36311:case 36292:return yj}}class xj{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=q7(t.type)}}class _j{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=vj(t.type)}}class wj{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const U_=/(\w+)(\])?(\[|\.)?/g;function N3(n,e){n.seq.push(e),n.map[e.id]=e}function Sj(n,e,t){const r=n.name,i=r.length;for(U_.lastIndex=0;;){const s=U_.exec(r),o=U_.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){N3(t,u===void 0?new xj(a,n,e):new _j(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new wj(a),N3(t,f)),t=f}}}class My{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);Sj(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function z3(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Aj=0;function Mj(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function bj(n){switch(n){case Sl:return["Linear","( value )"];case Nt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function U3(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+Mj(n.getShaderSource(e),o)}else return i}function Cj(n,e){const t=bj(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Ej(n,e){let t;switch(e){case RF:t="Linear";break;case BF:t="Reinhard";break;case DF:t="OptimizedCineon";break;case Nb:t="ACESFilmic";break;case IF:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Tj(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Bh).join(`
`)}function Pj(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Rj(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Bh(n){return n!==""}function G3(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function H3(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Bj=/^[ \t]*#include +<([\w\d./]+)>/gm;function AA(n){return n.replace(Bj,Dj)}function Dj(n,e){const t=gt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return AA(t)}const Ij=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function V3(n){return n.replace(Ij,Lj)}function Lj(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function W3(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function kj(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===qv?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===jh?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Su&&(e="SHADOWMAP_TYPE_VSM"),e}function Fj(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case _l:case wl:e="ENVMAP_TYPE_CUBE";break;case vd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Oj(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case wl:e="ENVMAP_MODE_REFRACTION";break}return e}function Nj(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case om:e="ENVMAP_BLENDING_MULTIPLY";break;case TF:e="ENVMAP_BLENDING_MIX";break;case PF:e="ENVMAP_BLENDING_ADD";break}return e}function zj(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Uj(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=kj(t),u=Fj(t),c=Oj(t),f=Nj(t),h=zj(t),m=t.isWebGL2?"":Tj(t),g=Pj(s),y=i.createProgram();let v,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[g].filter(Bh).join(`
`),v.length>0&&(v+=`
`),x=[m,g].filter(Bh).join(`
`),x.length>0&&(x+=`
`)):(v=[W3(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Bh).join(`
`),x=[m,W3(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Gs?"#define TONE_MAPPING":"",t.toneMapping!==Gs?gt.tonemapping_pars_fragment:"",t.toneMapping!==Gs?Ej("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",gt.encodings_pars_fragment,Cj("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Bh).join(`
`)),o=AA(o),o=G3(o,t),o=H3(o,t),a=AA(a),a=G3(a,t),a=H3(a,t),o=V3(o),a=V3(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,x=["#define varying in",t.glslVersion===_A?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===_A?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const S=_+v+o,M=_+x+a,C=z3(i,35633,S),T=z3(i,35632,M);if(i.attachShader(y,C),i.attachShader(y,T),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),n.debug.checkShaderErrors){const B=i.getProgramInfoLog(y).trim(),I=i.getShaderInfoLog(C).trim(),k=i.getShaderInfoLog(T).trim();let j=!0,G=!0;if(i.getProgramParameter(y,35714)===!1){j=!1;const N=U3(i,C,"vertex"),$=U3(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,35715)+`

Program Info Log: `+B+`
`+N+`
`+$)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(I===""||k==="")&&(G=!1);G&&(this.diagnostics={runnable:j,programLog:B,vertexShader:{log:I,prefix:v},fragmentShader:{log:k,prefix:x}})}i.deleteShader(C),i.deleteShader(T);let R;this.getUniforms=function(){return R===void 0&&(R=new My(i,y)),R};let b;return this.getAttributes=function(){return b===void 0&&(b=Rj(i,y)),b},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=Aj++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=C,this.fragmentShader=T,this}let Gj=0;class Hj{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Vj(e),t.set(e,r)),r}}class Vj{constructor(e){this.id=Gj++,this.code=e,this.usedTimes=0}}function Wj(n,e,t,r,i,s,o){const a=new Fu,l=new Hj,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(b,B,I,k,j){const G=k.fog,N=j.geometry,$=b.isMeshStandardMaterial?k.environment:null,X=(b.isMeshStandardMaterial?t:e).get(b.envMap||$),te=X&&X.mapping===vd?X.image.height:null,O=g[b.type];b.precision!==null&&(m=i.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const z=N.morphAttributes.position||N.morphAttributes.normal||N.morphAttributes.color,H=z!==void 0?z.length:0;let K=0;N.morphAttributes.position!==void 0&&(K=1),N.morphAttributes.normal!==void 0&&(K=2),N.morphAttributes.color!==void 0&&(K=3);let ee,ce,ge,Re;if(O){const Ve=Os[O];ee=Ve.vertexShader,ce=Ve.fragmentShader}else ee=b.vertexShader,ce=b.fragmentShader,l.update(b),ge=l.getVertexShaderID(b),Re=l.getFragmentShaderID(b);const se=n.getRenderTarget(),He=b.alphaTest>0,Ge=b.clearcoat>0,Ke=b.iridescence>0;return{isWebGL2:c,shaderID:O,shaderName:b.type,vertexShader:ee,fragmentShader:ce,defines:b.defines,customVertexShaderID:ge,customFragmentShaderID:Re,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,instancing:j.isInstancedMesh===!0,instancingColor:j.isInstancedMesh===!0&&j.instanceColor!==null,supportsVertexTextures:h,outputEncoding:se===null?n.outputEncoding:se.isXRRenderTarget===!0?se.texture.encoding:Sl,map:!!b.map,matcap:!!b.matcap,envMap:!!X,envMapMode:X&&X.mapping,envMapCubeUVHeight:te,lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:b.normalMapType===tO,tangentSpaceNormalMap:b.normalMapType===Dl,decodeVideoTexture:!!b.map&&b.map.isVideoTexture===!0&&b.map.encoding===Nt,clearcoat:Ge,clearcoatMap:Ge&&!!b.clearcoatMap,clearcoatRoughnessMap:Ge&&!!b.clearcoatRoughnessMap,clearcoatNormalMap:Ge&&!!b.clearcoatNormalMap,iridescence:Ke,iridescenceMap:Ke&&!!b.iridescenceMap,iridescenceThicknessMap:Ke&&!!b.iridescenceThicknessMap,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,specularIntensityMap:!!b.specularIntensityMap,specularColorMap:!!b.specularColorMap,opaque:b.transparent===!1&&b.blending===Du,alphaMap:!!b.alphaMap,alphaTest:He,gradientMap:!!b.gradientMap,sheen:b.sheen>0,sheenColorMap:!!b.sheenColorMap,sheenRoughnessMap:!!b.sheenRoughnessMap,transmission:b.transmission>0,transmissionMap:!!b.transmissionMap,thicknessMap:!!b.thicknessMap,combine:b.combine,vertexTangents:!!b.normalMap&&!!N.attributes.tangent,vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!N.attributes.color&&N.attributes.color.itemSize===4,vertexUvs:!!b.map||!!b.bumpMap||!!b.normalMap||!!b.specularMap||!!b.alphaMap||!!b.emissiveMap||!!b.roughnessMap||!!b.metalnessMap||!!b.clearcoatMap||!!b.clearcoatRoughnessMap||!!b.clearcoatNormalMap||!!b.iridescenceMap||!!b.iridescenceThicknessMap||!!b.displacementMap||!!b.transmissionMap||!!b.thicknessMap||!!b.specularIntensityMap||!!b.specularColorMap||!!b.sheenColorMap||!!b.sheenRoughnessMap,uvsVertexOnly:!(b.map||b.bumpMap||b.normalMap||b.specularMap||b.alphaMap||b.emissiveMap||b.roughnessMap||b.metalnessMap||b.clearcoatNormalMap||b.iridescenceMap||b.iridescenceThicknessMap||b.transmission>0||b.transmissionMap||b.thicknessMap||b.specularIntensityMap||b.specularColorMap||b.sheen>0||b.sheenColorMap||b.sheenRoughnessMap)&&!!b.displacementMap,fog:!!G,useFog:b.fog===!0,fogExp2:G&&G.isFogExp2,flatShading:!!b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:f,skinning:j.isSkinnedMesh===!0,morphTargets:N.morphAttributes.position!==void 0,morphNormals:N.morphAttributes.normal!==void 0,morphColors:N.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:K,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:Gs,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===po,flipSided:b.side===Bi,useDepthPacking:!!b.depthPacking,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:b.extensions&&b.extensions.derivatives,extensionFragDepth:b.extensions&&b.extensions.fragDepth,extensionDrawBuffers:b.extensions&&b.extensions.drawBuffers,extensionShaderTextureLOD:b.extensions&&b.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function v(b){const B=[];if(b.shaderID?B.push(b.shaderID):(B.push(b.customVertexShaderID),B.push(b.customFragmentShaderID)),b.defines!==void 0)for(const I in b.defines)B.push(I),B.push(b.defines[I]);return b.isRawShaderMaterial===!1&&(x(B,b),_(B,b),B.push(n.outputEncoding)),B.push(b.customProgramCacheKey),B.join()}function x(b,B){b.push(B.precision),b.push(B.outputEncoding),b.push(B.envMapMode),b.push(B.envMapCubeUVHeight),b.push(B.combine),b.push(B.vertexUvs),b.push(B.fogExp2),b.push(B.sizeAttenuation),b.push(B.morphTargetsCount),b.push(B.morphAttributeCount),b.push(B.numDirLights),b.push(B.numPointLights),b.push(B.numSpotLights),b.push(B.numSpotLightMaps),b.push(B.numHemiLights),b.push(B.numRectAreaLights),b.push(B.numDirLightShadows),b.push(B.numPointLightShadows),b.push(B.numSpotLightShadows),b.push(B.numSpotLightShadowsWithMaps),b.push(B.shadowMapType),b.push(B.toneMapping),b.push(B.numClippingPlanes),b.push(B.numClipIntersection),b.push(B.depthPacking)}function _(b,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.iridescence&&a.enable(18),B.iridescenceMap&&a.enable(19),B.iridescenceThicknessMap&&a.enable(20),B.displacementMap&&a.enable(21),B.specularMap&&a.enable(22),B.roughnessMap&&a.enable(23),B.metalnessMap&&a.enable(24),B.gradientMap&&a.enable(25),B.alphaMap&&a.enable(26),B.alphaTest&&a.enable(27),B.vertexColors&&a.enable(28),B.vertexAlphas&&a.enable(29),B.vertexUvs&&a.enable(30),B.vertexTangents&&a.enable(31),B.uvsVertexOnly&&a.enable(32),b.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),b.push(a.mask)}function S(b){const B=g[b.type];let I;if(B){const k=Os[B];I=oO.clone(k.uniforms)}else I=b.uniforms;return I}function M(b,B){let I;for(let k=0,j=u.length;k<j;k++){const G=u[k];if(G.cacheKey===B){I=G,++I.usedTimes;break}}return I===void 0&&(I=new Uj(n,B,b,s),u.push(I)),I}function C(b){if(--b.usedTimes===0){const B=u.indexOf(b);u[B]=u[u.length-1],u.pop(),b.destroy()}}function T(b){l.remove(b)}function R(){l.dispose()}return{getParameters:y,getProgramCacheKey:v,getUniforms:S,acquireProgram:M,releaseProgram:C,releaseShaderCache:T,programs:u,dispose:R}}function jj(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function $j(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function j3(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function $3(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,h,m,g,y,v){let x=n[e];return x===void 0?(x={id:f.id,object:f,geometry:h,material:m,groupOrder:g,renderOrder:f.renderOrder,z:y,group:v},n[e]=x):(x.id=f.id,x.object=f,x.geometry=h,x.material=m,x.groupOrder=g,x.renderOrder=f.renderOrder,x.z=y,x.group=v),e++,x}function a(f,h,m,g,y,v){const x=o(f,h,m,g,y,v);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):t.push(x)}function l(f,h,m,g,y,v){const x=o(f,h,m,g,y,v);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):t.unshift(x)}function u(f,h){t.length>1&&t.sort(f||$j),r.length>1&&r.sort(h||j3),i.length>1&&i.sort(h||j3)}function c(){for(let f=e,h=n.length;f<h;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function Jj(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new $3,n.set(r,[o])):i>=s.length?(o=new $3,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Xj(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new F,color:new Me};break;case"SpotLight":t={position:new F,direction:new F,color:new Me,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new F,color:new Me,distance:0,decay:0};break;case"HemisphereLight":t={direction:new F,skyColor:new Me,groundColor:new Me};break;case"RectAreaLight":t={color:new Me,position:new F,halfWidth:new F,halfHeight:new F};break}return n[e.id]=t,t}}}function Kj(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Yj=0;function Qj(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function qj(n,e){const t=new Xj,r=Kj(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new F);const s=new F,o=new Le,a=new Le;function l(c,f){let h=0,m=0,g=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let y=0,v=0,x=0,_=0,S=0,M=0,C=0,T=0,R=0,b=0;c.sort(Qj);const B=f!==!0?Math.PI:1;for(let k=0,j=c.length;k<j;k++){const G=c[k],N=G.color,$=G.intensity,X=G.distance,te=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)h+=N.r*$*B,m+=N.g*$*B,g+=N.b*$*B;else if(G.isLightProbe)for(let O=0;O<9;O++)i.probe[O].addScaledVector(G.sh.coefficients[O],$);else if(G.isDirectionalLight){const O=t.get(G);if(O.color.copy(G.color).multiplyScalar(G.intensity*B),G.castShadow){const z=G.shadow,H=r.get(G);H.shadowBias=z.bias,H.shadowNormalBias=z.normalBias,H.shadowRadius=z.radius,H.shadowMapSize=z.mapSize,i.directionalShadow[y]=H,i.directionalShadowMap[y]=te,i.directionalShadowMatrix[y]=G.shadow.matrix,M++}i.directional[y]=O,y++}else if(G.isSpotLight){const O=t.get(G);O.position.setFromMatrixPosition(G.matrixWorld),O.color.copy(N).multiplyScalar($*B),O.distance=X,O.coneCos=Math.cos(G.angle),O.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),O.decay=G.decay,i.spot[x]=O;const z=G.shadow;if(G.map&&(i.spotLightMap[R]=G.map,R++,z.updateMatrices(G),G.castShadow&&b++),i.spotLightMatrix[x]=z.matrix,G.castShadow){const H=r.get(G);H.shadowBias=z.bias,H.shadowNormalBias=z.normalBias,H.shadowRadius=z.radius,H.shadowMapSize=z.mapSize,i.spotShadow[x]=H,i.spotShadowMap[x]=te,T++}x++}else if(G.isRectAreaLight){const O=t.get(G);O.color.copy(N).multiplyScalar($),O.halfWidth.set(G.width*.5,0,0),O.halfHeight.set(0,G.height*.5,0),i.rectArea[_]=O,_++}else if(G.isPointLight){const O=t.get(G);if(O.color.copy(G.color).multiplyScalar(G.intensity*B),O.distance=G.distance,O.decay=G.decay,G.castShadow){const z=G.shadow,H=r.get(G);H.shadowBias=z.bias,H.shadowNormalBias=z.normalBias,H.shadowRadius=z.radius,H.shadowMapSize=z.mapSize,H.shadowCameraNear=z.camera.near,H.shadowCameraFar=z.camera.far,i.pointShadow[v]=H,i.pointShadowMap[v]=te,i.pointShadowMatrix[v]=G.shadow.matrix,C++}i.point[v]=O,v++}else if(G.isHemisphereLight){const O=t.get(G);O.skyColor.copy(G.color).multiplyScalar($*B),O.groundColor.copy(G.groundColor).multiplyScalar($*B),i.hemi[S]=O,S++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Pe.LTC_FLOAT_1,i.rectAreaLTC2=Pe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Pe.LTC_HALF_1,i.rectAreaLTC2=Pe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=m,i.ambient[2]=g;const I=i.hash;(I.directionalLength!==y||I.pointLength!==v||I.spotLength!==x||I.rectAreaLength!==_||I.hemiLength!==S||I.numDirectionalShadows!==M||I.numPointShadows!==C||I.numSpotShadows!==T||I.numSpotMaps!==R)&&(i.directional.length=y,i.spot.length=x,i.rectArea.length=_,i.point.length=v,i.hemi.length=S,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=T+R-b,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=b,I.directionalLength=y,I.pointLength=v,I.spotLength=x,I.rectAreaLength=_,I.hemiLength=S,I.numDirectionalShadows=M,I.numPointShadows=C,I.numSpotShadows=T,I.numSpotMaps=R,i.version=Yj++)}function u(c,f){let h=0,m=0,g=0,y=0,v=0;const x=f.matrixWorldInverse;for(let _=0,S=c.length;_<S;_++){const M=c[_];if(M.isDirectionalLight){const C=i.directional[h];C.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(x),h++}else if(M.isSpotLight){const C=i.spot[g];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(x),C.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(x),g++}else if(M.isRectAreaLight){const C=i.rectArea[y];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(x),a.identity(),o.copy(M.matrixWorld),o.premultiply(x),a.extractRotation(o),C.halfWidth.set(M.width*.5,0,0),C.halfHeight.set(0,M.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),y++}else if(M.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(x),m++}else if(M.isHemisphereLight){const C=i.hemi[v];C.direction.setFromMatrixPosition(M.matrixWorld),C.direction.transformDirection(x),v++}}}return{setup:l,setupView:u,state:i}}function J3(n,e){const t=new qj(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function u(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function Zj(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new J3(n,e),t.set(s,[l])):o>=a.length?(l=new J3(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class o1 extends Kn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ZF,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $b extends Kn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new F,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const e$=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,t$=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function n$(n,e,t){let r=new i1;const i=new ye,s=new ye,o=new At,a=new o1({depthPacking:eO}),l=new $b,u={},c=t.maxTextureSize,f={0:Bi,1:xl,2:po},h=new ws({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ye},radius:{value:4}},vertexShader:e$,fragmentShader:t$}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const g=new ot;g.setAttribute("position",new zt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Xn(g,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=qv,this.render=function(M,C,T){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||M.length===0)return;const R=n.getRenderTarget(),b=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),I=n.state;I.setBlending(na),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let k=0,j=M.length;k<j;k++){const G=M[k],N=G.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",G,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const $=N.getFrameExtents();if(i.multiply($),s.copy(N.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/$.x),i.x=s.x*$.x,N.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/$.y),i.y=s.y*$.y,N.mapSize.y=s.y)),N.map===null){const te=this.type!==Su?{minFilter:Un,magFilter:Un}:{};N.map=new mi(i.x,i.y,te),N.map.texture.name=G.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const X=N.getViewportCount();for(let te=0;te<X;te++){const O=N.getViewport(te);o.set(s.x*O.x,s.y*O.y,s.x*O.z,s.y*O.w),I.viewport(o),N.updateMatrices(G,te),r=N.getFrustum(),S(C,T,N.camera,G,this.type)}N.isPointLightShadow!==!0&&this.type===Su&&x(N,T),N.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(R,b,B)};function x(M,C){const T=e.update(y);h.defines.VSM_SAMPLES!==M.blurSamples&&(h.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new mi(i.x,i.y)),h.uniforms.shadow_pass.value=M.map.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(C,null,T,h,y,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(C,null,T,m,y,null)}function _(M,C,T,R,b,B){let I=null;const k=T.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(k!==void 0?I=k:I=T.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0){const j=I.uuid,G=C.uuid;let N=u[j];N===void 0&&(N={},u[j]=N);let $=N[G];$===void 0&&($=I.clone(),N[G]=$),I=$}return I.visible=C.visible,I.wireframe=C.wireframe,B===Su?I.side=C.shadowSide!==null?C.shadowSide:C.side:I.side=C.shadowSide!==null?C.shadowSide:f[C.side],I.alphaMap=C.alphaMap,I.alphaTest=C.alphaTest,I.clipShadows=C.clipShadows,I.clippingPlanes=C.clippingPlanes,I.clipIntersection=C.clipIntersection,I.displacementMap=C.displacementMap,I.displacementScale=C.displacementScale,I.displacementBias=C.displacementBias,I.wireframeLinewidth=C.wireframeLinewidth,I.linewidth=C.linewidth,T.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(T.matrixWorld),I.nearDistance=R,I.farDistance=b),I}function S(M,C,T,R,b){if(M.visible===!1)return;if(M.layers.test(C.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&b===Su)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,M.matrixWorld);const k=e.update(M),j=M.material;if(Array.isArray(j)){const G=k.groups;for(let N=0,$=G.length;N<$;N++){const X=G[N],te=j[X.materialIndex];if(te&&te.visible){const O=_(M,te,R,T.near,T.far,b);n.renderBufferDirect(T,null,k,O,M,X)}}}else if(j.visible){const G=_(M,j,R,T.near,T.far,b);n.renderBufferDirect(T,null,k,G,M,null)}}const I=M.children;for(let k=0,j=I.length;k<j;k++)S(I[k],C,T,R,b)}}function r$(n,e,t){const r=t.isWebGL2;function i(){let Q=!1;const de=new At;let we=null;const Ie=new At(0,0,0,0);return{setMask:function(Je){we!==Je&&!Q&&(n.colorMask(Je,Je,Je,Je),we=Je)},setLocked:function(Je){Q=Je},setClear:function(Je,Bt,In,sr,Ys){Ys===!0&&(Je*=sr,Bt*=sr,In*=sr),de.set(Je,Bt,In,sr),Ie.equals(de)===!1&&(n.clearColor(Je,Bt,In,sr),Ie.copy(de))},reset:function(){Q=!1,we=null,Ie.set(-1,0,0,0)}}}function s(){let Q=!1,de=null,we=null,Ie=null;return{setTest:function(Je){Je?He(2929):Ge(2929)},setMask:function(Je){de!==Je&&!Q&&(n.depthMask(Je),de=Je)},setFunc:function(Je){if(we!==Je){switch(Je){case wF:n.depthFunc(512);break;case SF:n.depthFunc(519);break;case AF:n.depthFunc(513);break;case ev:n.depthFunc(515);break;case MF:n.depthFunc(514);break;case bF:n.depthFunc(518);break;case CF:n.depthFunc(516);break;case EF:n.depthFunc(517);break;default:n.depthFunc(515)}we=Je}},setLocked:function(Je){Q=Je},setClear:function(Je){Ie!==Je&&(n.clearDepth(Je),Ie=Je)},reset:function(){Q=!1,de=null,we=null,Ie=null}}}function o(){let Q=!1,de=null,we=null,Ie=null,Je=null,Bt=null,In=null,sr=null,Ys=null;return{setTest:function($t){Q||($t?He(2960):Ge(2960))},setMask:function($t){de!==$t&&!Q&&(n.stencilMask($t),de=$t)},setFunc:function($t,Ui,Yr){(we!==$t||Ie!==Ui||Je!==Yr)&&(n.stencilFunc($t,Ui,Yr),we=$t,Ie=Ui,Je=Yr)},setOp:function($t,Ui,Yr){(Bt!==$t||In!==Ui||sr!==Yr)&&(n.stencilOp($t,Ui,Yr),Bt=$t,In=Ui,sr=Yr)},setLocked:function($t){Q=$t},setClear:function($t){Ys!==$t&&(n.clearStencil($t),Ys=$t)},reset:function(){Q=!1,de=null,we=null,Ie=null,Je=null,Bt=null,In=null,sr=null,Ys=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let h={},m={},g=new WeakMap,y=[],v=null,x=!1,_=null,S=null,M=null,C=null,T=null,R=null,b=null,B=!1,I=null,k=null,j=null,G=null,N=null;const $=n.getParameter(35661);let X=!1,te=0;const O=n.getParameter(7938);O.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(O)[1]),X=te>=1):O.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),X=te>=2);let z=null,H={};const K=n.getParameter(3088),ee=n.getParameter(2978),ce=new At().fromArray(K),ge=new At().fromArray(ee);function Re(Q,de,we){const Ie=new Uint8Array(4),Je=n.createTexture();n.bindTexture(Q,Je),n.texParameteri(Q,10241,9728),n.texParameteri(Q,10240,9728);for(let Bt=0;Bt<we;Bt++)n.texImage2D(de+Bt,0,6408,1,1,0,6408,5121,Ie);return Je}const se={};se[3553]=Re(3553,3553,1),se[34067]=Re(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),He(2929),l.setFunc(ev),Ee(!1),at(JS),He(2884),Ae(na);function He(Q){h[Q]!==!0&&(n.enable(Q),h[Q]=!0)}function Ge(Q){h[Q]!==!1&&(n.disable(Q),h[Q]=!1)}function Ke(Q,de){return m[Q]!==de?(n.bindFramebuffer(Q,de),m[Q]=de,r&&(Q===36009&&(m[36160]=de),Q===36160&&(m[36009]=de)),!0):!1}function be(Q,de){let we=y,Ie=!1;if(Q)if(we=g.get(de),we===void 0&&(we=[],g.set(de,we)),Q.isWebGLMultipleRenderTargets){const Je=Q.texture;if(we.length!==Je.length||we[0]!==36064){for(let Bt=0,In=Je.length;Bt<In;Bt++)we[Bt]=36064+Bt;we.length=Je.length,Ie=!0}}else we[0]!==36064&&(we[0]=36064,Ie=!0);else we[0]!==1029&&(we[0]=1029,Ie=!0);Ie&&(t.isWebGL2?n.drawBuffers(we):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(we))}function Ve(Q){return v!==Q?(n.useProgram(Q),v=Q,!0):!1}const he={[gu]:32774,[cF]:32778,[fF]:32779};if(r)he[QS]=32775,he[qS]=32776;else{const Q=e.get("EXT_blend_minmax");Q!==null&&(he[QS]=Q.MIN_EXT,he[qS]=Q.MAX_EXT)}const ae={[dF]:0,[hF]:1,[pF]:768,[Fb]:770,[_F]:776,[vF]:774,[gF]:772,[mF]:769,[Ob]:771,[xF]:775,[yF]:773};function Ae(Q,de,we,Ie,Je,Bt,In,sr){if(Q===na){x===!0&&(Ge(3042),x=!1);return}if(x===!1&&(He(3042),x=!0),Q!==uF){if(Q!==_||sr!==B){if((S!==gu||T!==gu)&&(n.blendEquation(32774),S=gu,T=gu),sr)switch(Q){case Du:n.blendFuncSeparate(1,771,1,771);break;case XS:n.blendFunc(1,1);break;case KS:n.blendFuncSeparate(0,769,0,1);break;case YS:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}else switch(Q){case Du:n.blendFuncSeparate(770,771,1,771);break;case XS:n.blendFunc(770,1);break;case KS:n.blendFuncSeparate(0,769,0,1);break;case YS:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}M=null,C=null,R=null,b=null,_=Q,B=sr}return}Je=Je||de,Bt=Bt||we,In=In||Ie,(de!==S||Je!==T)&&(n.blendEquationSeparate(he[de],he[Je]),S=de,T=Je),(we!==M||Ie!==C||Bt!==R||In!==b)&&(n.blendFuncSeparate(ae[we],ae[Ie],ae[Bt],ae[In]),M=we,C=Ie,R=Bt,b=In),_=Q,B=null}function Fe(Q,de){Q.side===po?Ge(2884):He(2884);let we=Q.side===Bi;de&&(we=!we),Ee(we),Q.blending===Du&&Q.transparent===!1?Ae(na):Ae(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst,Q.blendEquationAlpha,Q.blendSrcAlpha,Q.blendDstAlpha,Q.premultipliedAlpha),l.setFunc(Q.depthFunc),l.setTest(Q.depthTest),l.setMask(Q.depthWrite),a.setMask(Q.colorWrite);const Ie=Q.stencilWrite;u.setTest(Ie),Ie&&(u.setMask(Q.stencilWriteMask),u.setFunc(Q.stencilFunc,Q.stencilRef,Q.stencilFuncMask),u.setOp(Q.stencilFail,Q.stencilZFail,Q.stencilZPass)),Qe(Q.polygonOffset,Q.polygonOffsetFactor,Q.polygonOffsetUnits),Q.alphaToCoverage===!0?He(32926):Ge(32926)}function Ee(Q){I!==Q&&(Q?n.frontFace(2304):n.frontFace(2305),I=Q)}function at(Q){Q!==oF?(He(2884),Q!==k&&(Q===JS?n.cullFace(1029):Q===aF?n.cullFace(1028):n.cullFace(1032))):Ge(2884),k=Q}function rt(Q){Q!==j&&(X&&n.lineWidth(Q),j=Q)}function Qe(Q,de,we){Q?(He(32823),(G!==de||N!==we)&&(n.polygonOffset(de,we),G=de,N=we)):Ge(32823)}function Tt(Q){Q?He(3089):Ge(3089)}function Lt(Q){Q===void 0&&(Q=33984+$-1),z!==Q&&(n.activeTexture(Q),z=Q)}function W(Q,de,we){we===void 0&&(z===null?we=33984+$-1:we=z);let Ie=H[we];Ie===void 0&&(Ie={type:void 0,texture:void 0},H[we]=Ie),(Ie.type!==Q||Ie.texture!==de)&&(z!==we&&(n.activeTexture(we),z=we),n.bindTexture(Q,de||se[Q]),Ie.type=Q,Ie.texture=de)}function L(){const Q=H[z];Q!==void 0&&Q.type!==void 0&&(n.bindTexture(Q.type,null),Q.type=void 0,Q.texture=void 0)}function q(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ve(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function xe(){try{n.texSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ce(){try{n.texSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function qe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Te(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function pe(){try{n.texStorage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function We(){try{n.texStorage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ze(){try{n.texImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ue(){try{n.texImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ye(Q){ce.equals(Q)===!1&&(n.scissor(Q.x,Q.y,Q.z,Q.w),ce.copy(Q))}function je(Q){ge.equals(Q)===!1&&(n.viewport(Q.x,Q.y,Q.z,Q.w),ge.copy(Q))}function vt(Q,de){let we=f.get(de);we===void 0&&(we=new WeakMap,f.set(de,we));let Ie=we.get(Q);Ie===void 0&&(Ie=n.getUniformBlockIndex(de,Q.name),we.set(Q,Ie))}function Ut(Q,de){const Ie=f.get(de).get(Q);c.get(Q)!==Ie&&(n.uniformBlockBinding(de,Ie,Q.__bindingPointIndex),c.set(Q,Ie))}function bn(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},z=null,H={},m={},g=new WeakMap,y=[],v=null,x=!1,_=null,S=null,M=null,C=null,T=null,R=null,b=null,B=!1,I=null,k=null,j=null,G=null,N=null,ce.set(0,0,n.canvas.width,n.canvas.height),ge.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:He,disable:Ge,bindFramebuffer:Ke,drawBuffers:be,useProgram:Ve,setBlending:Ae,setMaterial:Fe,setFlipSided:Ee,setCullFace:at,setLineWidth:rt,setPolygonOffset:Qe,setScissorTest:Tt,activeTexture:Lt,bindTexture:W,unbindTexture:L,compressedTexImage2D:q,compressedTexImage3D:ve,texImage2D:Ze,texImage3D:Ue,updateUBOMapping:vt,uniformBlockBinding:Ut,texStorage2D:pe,texStorage3D:We,texSubImage2D:xe,texSubImage3D:Ce,compressedTexSubImage2D:qe,compressedTexSubImage3D:Te,scissor:Ye,viewport:je,reset:bn}}function i$(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),g=new WeakMap;let y;const v=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(W,L){return x?new OffscreenCanvas(W,L):Dp("canvas")}function S(W,L,q,ve){let xe=1;if((W.width>ve||W.height>ve)&&(xe=ve/Math.max(W.width,W.height)),xe<1||L===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const Ce=L?rv:Math.floor,qe=Ce(xe*W.width),Te=Ce(xe*W.height);y===void 0&&(y=_(qe,Te));const pe=q?_(qe,Te):y;return pe.width=qe,pe.height=Te,pe.getContext("2d").drawImage(W,0,0,qe,Te),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+qe+"x"+Te+")."),pe}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function M(W){return wA(W.width)&&wA(W.height)}function C(W){return a?!1:W.wrapS!==Zn||W.wrapT!==Zn||W.minFilter!==Un&&W.minFilter!==vn}function T(W,L){return W.generateMipmaps&&L&&W.minFilter!==Un&&W.minFilter!==vn}function R(W){n.generateMipmap(W)}function b(W,L,q,ve,xe=!1){if(a===!1)return L;if(W!==null){if(n[W]!==void 0)return n[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Ce=L;return L===6403&&(q===5126&&(Ce=33326),q===5131&&(Ce=33325),q===5121&&(Ce=33321)),L===33319&&(q===5126&&(Ce=33328),q===5131&&(Ce=33327),q===5121&&(Ce=33323)),L===6408&&(q===5126&&(Ce=34836),q===5131&&(Ce=34842),q===5121&&(Ce=ve===Nt&&xe===!1?35907:32856),q===32819&&(Ce=32854),q===32820&&(Ce=32855)),(Ce===33325||Ce===33326||Ce===33327||Ce===33328||Ce===34842||Ce===34836)&&e.get("EXT_color_buffer_float"),Ce}function B(W,L,q){return T(W,q)===!0||W.isFramebufferTexture&&W.minFilter!==Un&&W.minFilter!==vn?Math.log2(Math.max(L.width,L.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?L.mipmaps.length:1}function I(W){return W===Un||W===Ep||W===Tp?9728:9729}function k(W){const L=W.target;L.removeEventListener("dispose",k),G(L),L.isVideoTexture&&g.delete(L)}function j(W){const L=W.target;L.removeEventListener("dispose",j),$(L)}function G(W){const L=r.get(W);if(L.__webglInit===void 0)return;const q=W.source,ve=v.get(q);if(ve){const xe=ve[L.__cacheKey];xe.usedTimes--,xe.usedTimes===0&&N(W),Object.keys(ve).length===0&&v.delete(q)}r.remove(W)}function N(W){const L=r.get(W);n.deleteTexture(L.__webglTexture);const q=W.source,ve=v.get(q);delete ve[L.__cacheKey],o.memory.textures--}function $(W){const L=W.texture,q=r.get(W),ve=r.get(L);if(ve.__webglTexture!==void 0&&(n.deleteTexture(ve.__webglTexture),o.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let xe=0;xe<6;xe++)n.deleteFramebuffer(q.__webglFramebuffer[xe]),q.__webglDepthbuffer&&n.deleteRenderbuffer(q.__webglDepthbuffer[xe]);else{if(n.deleteFramebuffer(q.__webglFramebuffer),q.__webglDepthbuffer&&n.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer)for(let xe=0;xe<q.__webglColorRenderbuffer.length;xe++)q.__webglColorRenderbuffer[xe]&&n.deleteRenderbuffer(q.__webglColorRenderbuffer[xe]);q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(q.__webglDepthRenderbuffer)}if(W.isWebGLMultipleRenderTargets)for(let xe=0,Ce=L.length;xe<Ce;xe++){const qe=r.get(L[xe]);qe.__webglTexture&&(n.deleteTexture(qe.__webglTexture),o.memory.textures--),r.remove(L[xe])}r.remove(L),r.remove(W)}let X=0;function te(){X=0}function O(){const W=X;return W>=l&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+l),X+=1,W}function z(W){const L=[];return L.push(W.wrapS),L.push(W.wrapT),L.push(W.wrapR||0),L.push(W.magFilter),L.push(W.minFilter),L.push(W.anisotropy),L.push(W.internalFormat),L.push(W.format),L.push(W.type),L.push(W.generateMipmaps),L.push(W.premultiplyAlpha),L.push(W.flipY),L.push(W.unpackAlignment),L.push(W.encoding),L.join()}function H(W,L){const q=r.get(W);if(W.isVideoTexture&&Tt(W),W.isRenderTargetTexture===!1&&W.version>0&&q.__version!==W.version){const ve=W.image;if(ve===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ve.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ge(q,W,L);return}}t.bindTexture(3553,q.__webglTexture,33984+L)}function K(W,L){const q=r.get(W);if(W.version>0&&q.__version!==W.version){Ge(q,W,L);return}t.bindTexture(35866,q.__webglTexture,33984+L)}function ee(W,L){const q=r.get(W);if(W.version>0&&q.__version!==W.version){Ge(q,W,L);return}t.bindTexture(32879,q.__webglTexture,33984+L)}function ce(W,L){const q=r.get(W);if(W.version>0&&q.__version!==W.version){Ke(q,W,L);return}t.bindTexture(34067,q.__webglTexture,33984+L)}const ge={[So]:10497,[Zn]:33071,[Zf]:33648},Re={[Un]:9728,[Ep]:9984,[Tp]:9986,[vn]:9729,[e1]:9985,[ya]:9987};function se(W,L,q){if(q?(n.texParameteri(W,10242,ge[L.wrapS]),n.texParameteri(W,10243,ge[L.wrapT]),(W===32879||W===35866)&&n.texParameteri(W,32882,ge[L.wrapR]),n.texParameteri(W,10240,Re[L.magFilter]),n.texParameteri(W,10241,Re[L.minFilter])):(n.texParameteri(W,10242,33071),n.texParameteri(W,10243,33071),(W===32879||W===35866)&&n.texParameteri(W,32882,33071),(L.wrapS!==Zn||L.wrapT!==Zn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(W,10240,I(L.magFilter)),n.texParameteri(W,10241,I(L.minFilter)),L.minFilter!==Un&&L.minFilter!==vn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ve=e.get("EXT_texture_filter_anisotropic");if(L.type===qo&&e.has("OES_texture_float_linear")===!1||a===!1&&L.type===ed&&e.has("OES_texture_half_float_linear")===!1)return;(L.anisotropy>1||r.get(L).__currentAnisotropy)&&(n.texParameterf(W,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,i.getMaxAnisotropy())),r.get(L).__currentAnisotropy=L.anisotropy)}}function He(W,L){let q=!1;W.__webglInit===void 0&&(W.__webglInit=!0,L.addEventListener("dispose",k));const ve=L.source;let xe=v.get(ve);xe===void 0&&(xe={},v.set(ve,xe));const Ce=z(L);if(Ce!==W.__cacheKey){xe[Ce]===void 0&&(xe[Ce]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,q=!0),xe[Ce].usedTimes++;const qe=xe[W.__cacheKey];qe!==void 0&&(xe[W.__cacheKey].usedTimes--,qe.usedTimes===0&&N(L)),W.__cacheKey=Ce,W.__webglTexture=xe[Ce].texture}return q}function Ge(W,L,q){let ve=3553;(L.isDataArrayTexture||L.isCompressedArrayTexture)&&(ve=35866),L.isData3DTexture&&(ve=32879);const xe=He(W,L),Ce=L.source;t.bindTexture(ve,W.__webglTexture,33984+q);const qe=r.get(Ce);if(Ce.version!==qe.__version||xe===!0){t.activeTexture(33984+q),n.pixelStorei(37440,L.flipY),n.pixelStorei(37441,L.premultiplyAlpha),n.pixelStorei(3317,L.unpackAlignment),n.pixelStorei(37443,0);const Te=C(L)&&M(L.image)===!1;let pe=S(L.image,Te,!1,c);pe=Lt(L,pe);const We=M(pe)||a,Ze=s.convert(L.format,L.encoding);let Ue=s.convert(L.type),Ye=b(L.internalFormat,Ze,Ue,L.encoding,L.isVideoTexture);se(ve,L,We);let je;const vt=L.mipmaps,Ut=a&&L.isVideoTexture!==!0,bn=qe.__version===void 0||xe===!0,Q=B(L,pe,We);if(L.isDepthTexture)Ye=6402,a?L.type===qo?Ye=36012:L.type===el?Ye=33190:L.type===Iu?Ye=35056:Ye=33189:L.type===qo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),L.format===pl&&Ye===6402&&L.type!==zb&&L.type!==el&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),L.type=el,Ue=s.convert(L.type)),L.format===Ku&&Ye===6402&&(Ye=34041,L.type!==Iu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),L.type=Iu,Ue=s.convert(L.type))),bn&&(Ut?t.texStorage2D(3553,1,Ye,pe.width,pe.height):t.texImage2D(3553,0,Ye,pe.width,pe.height,0,Ze,Ue,null));else if(L.isDataTexture)if(vt.length>0&&We){Ut&&bn&&t.texStorage2D(3553,Q,Ye,vt[0].width,vt[0].height);for(let de=0,we=vt.length;de<we;de++)je=vt[de],Ut?t.texSubImage2D(3553,de,0,0,je.width,je.height,Ze,Ue,je.data):t.texImage2D(3553,de,Ye,je.width,je.height,0,Ze,Ue,je.data);L.generateMipmaps=!1}else Ut?(bn&&t.texStorage2D(3553,Q,Ye,pe.width,pe.height),t.texSubImage2D(3553,0,0,0,pe.width,pe.height,Ze,Ue,pe.data)):t.texImage2D(3553,0,Ye,pe.width,pe.height,0,Ze,Ue,pe.data);else if(L.isCompressedTexture)if(L.isCompressedArrayTexture){Ut&&bn&&t.texStorage3D(35866,Q,Ye,vt[0].width,vt[0].height,pe.depth);for(let de=0,we=vt.length;de<we;de++)je=vt[de],L.format!==oi?Ze!==null?Ut?t.compressedTexSubImage3D(35866,de,0,0,0,je.width,je.height,pe.depth,Ze,je.data,0,0):t.compressedTexImage3D(35866,de,Ye,je.width,je.height,pe.depth,0,je.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ut?t.texSubImage3D(35866,de,0,0,0,je.width,je.height,pe.depth,Ze,Ue,je.data):t.texImage3D(35866,de,Ye,je.width,je.height,pe.depth,0,Ze,Ue,je.data)}else{Ut&&bn&&t.texStorage2D(3553,Q,Ye,vt[0].width,vt[0].height);for(let de=0,we=vt.length;de<we;de++)je=vt[de],L.format!==oi?Ze!==null?Ut?t.compressedTexSubImage2D(3553,de,0,0,je.width,je.height,Ze,je.data):t.compressedTexImage2D(3553,de,Ye,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ut?t.texSubImage2D(3553,de,0,0,je.width,je.height,Ze,Ue,je.data):t.texImage2D(3553,de,Ye,je.width,je.height,0,Ze,Ue,je.data)}else if(L.isDataArrayTexture)Ut?(bn&&t.texStorage3D(35866,Q,Ye,pe.width,pe.height,pe.depth),t.texSubImage3D(35866,0,0,0,0,pe.width,pe.height,pe.depth,Ze,Ue,pe.data)):t.texImage3D(35866,0,Ye,pe.width,pe.height,pe.depth,0,Ze,Ue,pe.data);else if(L.isData3DTexture)Ut?(bn&&t.texStorage3D(32879,Q,Ye,pe.width,pe.height,pe.depth),t.texSubImage3D(32879,0,0,0,0,pe.width,pe.height,pe.depth,Ze,Ue,pe.data)):t.texImage3D(32879,0,Ye,pe.width,pe.height,pe.depth,0,Ze,Ue,pe.data);else if(L.isFramebufferTexture){if(bn)if(Ut)t.texStorage2D(3553,Q,Ye,pe.width,pe.height);else{let de=pe.width,we=pe.height;for(let Ie=0;Ie<Q;Ie++)t.texImage2D(3553,Ie,Ye,de,we,0,Ze,Ue,null),de>>=1,we>>=1}}else if(vt.length>0&&We){Ut&&bn&&t.texStorage2D(3553,Q,Ye,vt[0].width,vt[0].height);for(let de=0,we=vt.length;de<we;de++)je=vt[de],Ut?t.texSubImage2D(3553,de,0,0,Ze,Ue,je):t.texImage2D(3553,de,Ye,Ze,Ue,je);L.generateMipmaps=!1}else Ut?(bn&&t.texStorage2D(3553,Q,Ye,pe.width,pe.height),t.texSubImage2D(3553,0,0,0,Ze,Ue,pe)):t.texImage2D(3553,0,Ye,Ze,Ue,pe);T(L,We)&&R(ve),qe.__version=Ce.version,L.onUpdate&&L.onUpdate(L)}W.__version=L.version}function Ke(W,L,q){if(L.image.length!==6)return;const ve=He(W,L),xe=L.source;t.bindTexture(34067,W.__webglTexture,33984+q);const Ce=r.get(xe);if(xe.version!==Ce.__version||ve===!0){t.activeTexture(33984+q),n.pixelStorei(37440,L.flipY),n.pixelStorei(37441,L.premultiplyAlpha),n.pixelStorei(3317,L.unpackAlignment),n.pixelStorei(37443,0);const qe=L.isCompressedTexture||L.image[0].isCompressedTexture,Te=L.image[0]&&L.image[0].isDataTexture,pe=[];for(let de=0;de<6;de++)!qe&&!Te?pe[de]=S(L.image[de],!1,!0,u):pe[de]=Te?L.image[de].image:L.image[de],pe[de]=Lt(L,pe[de]);const We=pe[0],Ze=M(We)||a,Ue=s.convert(L.format,L.encoding),Ye=s.convert(L.type),je=b(L.internalFormat,Ue,Ye,L.encoding),vt=a&&L.isVideoTexture!==!0,Ut=Ce.__version===void 0||ve===!0;let bn=B(L,We,Ze);se(34067,L,Ze);let Q;if(qe){vt&&Ut&&t.texStorage2D(34067,bn,je,We.width,We.height);for(let de=0;de<6;de++){Q=pe[de].mipmaps;for(let we=0;we<Q.length;we++){const Ie=Q[we];L.format!==oi?Ue!==null?vt?t.compressedTexSubImage2D(34069+de,we,0,0,Ie.width,Ie.height,Ue,Ie.data):t.compressedTexImage2D(34069+de,we,je,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):vt?t.texSubImage2D(34069+de,we,0,0,Ie.width,Ie.height,Ue,Ye,Ie.data):t.texImage2D(34069+de,we,je,Ie.width,Ie.height,0,Ue,Ye,Ie.data)}}}else{Q=L.mipmaps,vt&&Ut&&(Q.length>0&&bn++,t.texStorage2D(34067,bn,je,pe[0].width,pe[0].height));for(let de=0;de<6;de++)if(Te){vt?t.texSubImage2D(34069+de,0,0,0,pe[de].width,pe[de].height,Ue,Ye,pe[de].data):t.texImage2D(34069+de,0,je,pe[de].width,pe[de].height,0,Ue,Ye,pe[de].data);for(let we=0;we<Q.length;we++){const Je=Q[we].image[de].image;vt?t.texSubImage2D(34069+de,we+1,0,0,Je.width,Je.height,Ue,Ye,Je.data):t.texImage2D(34069+de,we+1,je,Je.width,Je.height,0,Ue,Ye,Je.data)}}else{vt?t.texSubImage2D(34069+de,0,0,0,Ue,Ye,pe[de]):t.texImage2D(34069+de,0,je,Ue,Ye,pe[de]);for(let we=0;we<Q.length;we++){const Ie=Q[we];vt?t.texSubImage2D(34069+de,we+1,0,0,Ue,Ye,Ie.image[de]):t.texImage2D(34069+de,we+1,je,Ue,Ye,Ie.image[de])}}}T(L,Ze)&&R(34067),Ce.__version=xe.version,L.onUpdate&&L.onUpdate(L)}W.__version=L.version}function be(W,L,q,ve,xe){const Ce=s.convert(q.format,q.encoding),qe=s.convert(q.type),Te=b(q.internalFormat,Ce,qe,q.encoding);r.get(L).__hasExternalTextures||(xe===32879||xe===35866?t.texImage3D(xe,0,Te,L.width,L.height,L.depth,0,Ce,qe,null):t.texImage2D(xe,0,Te,L.width,L.height,0,Ce,qe,null)),t.bindFramebuffer(36160,W),Qe(L)?h.framebufferTexture2DMultisampleEXT(36160,ve,xe,r.get(q).__webglTexture,0,rt(L)):(xe===3553||xe>=34069&&xe<=34074)&&n.framebufferTexture2D(36160,ve,xe,r.get(q).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ve(W,L,q){if(n.bindRenderbuffer(36161,W),L.depthBuffer&&!L.stencilBuffer){let ve=33189;if(q||Qe(L)){const xe=L.depthTexture;xe&&xe.isDepthTexture&&(xe.type===qo?ve=36012:xe.type===el&&(ve=33190));const Ce=rt(L);Qe(L)?h.renderbufferStorageMultisampleEXT(36161,Ce,ve,L.width,L.height):n.renderbufferStorageMultisample(36161,Ce,ve,L.width,L.height)}else n.renderbufferStorage(36161,ve,L.width,L.height);n.framebufferRenderbuffer(36160,36096,36161,W)}else if(L.depthBuffer&&L.stencilBuffer){const ve=rt(L);q&&Qe(L)===!1?n.renderbufferStorageMultisample(36161,ve,35056,L.width,L.height):Qe(L)?h.renderbufferStorageMultisampleEXT(36161,ve,35056,L.width,L.height):n.renderbufferStorage(36161,34041,L.width,L.height),n.framebufferRenderbuffer(36160,33306,36161,W)}else{const ve=L.isWebGLMultipleRenderTargets===!0?L.texture:[L.texture];for(let xe=0;xe<ve.length;xe++){const Ce=ve[xe],qe=s.convert(Ce.format,Ce.encoding),Te=s.convert(Ce.type),pe=b(Ce.internalFormat,qe,Te,Ce.encoding),We=rt(L);q&&Qe(L)===!1?n.renderbufferStorageMultisample(36161,We,pe,L.width,L.height):Qe(L)?h.renderbufferStorageMultisampleEXT(36161,We,pe,L.width,L.height):n.renderbufferStorage(36161,pe,L.width,L.height)}}n.bindRenderbuffer(36161,null)}function he(W,L){if(L&&L.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,W),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(L.depthTexture).__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),H(L.depthTexture,0);const ve=r.get(L.depthTexture).__webglTexture,xe=rt(L);if(L.depthTexture.format===pl)Qe(L)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,ve,0,xe):n.framebufferTexture2D(36160,36096,3553,ve,0);else if(L.depthTexture.format===Ku)Qe(L)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,ve,0,xe):n.framebufferTexture2D(36160,33306,3553,ve,0);else throw new Error("Unknown depthTexture format")}function ae(W){const L=r.get(W),q=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!L.__autoAllocateDepthBuffer){if(q)throw new Error("target.depthTexture not supported in Cube render targets");he(L.__webglFramebuffer,W)}else if(q){L.__webglDepthbuffer=[];for(let ve=0;ve<6;ve++)t.bindFramebuffer(36160,L.__webglFramebuffer[ve]),L.__webglDepthbuffer[ve]=n.createRenderbuffer(),Ve(L.__webglDepthbuffer[ve],W,!1)}else t.bindFramebuffer(36160,L.__webglFramebuffer),L.__webglDepthbuffer=n.createRenderbuffer(),Ve(L.__webglDepthbuffer,W,!1);t.bindFramebuffer(36160,null)}function Ae(W,L,q){const ve=r.get(W);L!==void 0&&be(ve.__webglFramebuffer,W,W.texture,36064,3553),q!==void 0&&ae(W)}function Fe(W){const L=W.texture,q=r.get(W),ve=r.get(L);W.addEventListener("dispose",j),W.isWebGLMultipleRenderTargets!==!0&&(ve.__webglTexture===void 0&&(ve.__webglTexture=n.createTexture()),ve.__version=L.version,o.memory.textures++);const xe=W.isWebGLCubeRenderTarget===!0,Ce=W.isWebGLMultipleRenderTargets===!0,qe=M(W)||a;if(xe){q.__webglFramebuffer=[];for(let Te=0;Te<6;Te++)q.__webglFramebuffer[Te]=n.createFramebuffer()}else{if(q.__webglFramebuffer=n.createFramebuffer(),Ce)if(i.drawBuffers){const Te=W.texture;for(let pe=0,We=Te.length;pe<We;pe++){const Ze=r.get(Te[pe]);Ze.__webglTexture===void 0&&(Ze.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&W.samples>0&&Qe(W)===!1){const Te=Ce?L:[L];q.__webglMultisampledFramebuffer=n.createFramebuffer(),q.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,q.__webglMultisampledFramebuffer);for(let pe=0;pe<Te.length;pe++){const We=Te[pe];q.__webglColorRenderbuffer[pe]=n.createRenderbuffer(),n.bindRenderbuffer(36161,q.__webglColorRenderbuffer[pe]);const Ze=s.convert(We.format,We.encoding),Ue=s.convert(We.type),Ye=b(We.internalFormat,Ze,Ue,We.encoding,W.isXRRenderTarget===!0),je=rt(W);n.renderbufferStorageMultisample(36161,je,Ye,W.width,W.height),n.framebufferRenderbuffer(36160,36064+pe,36161,q.__webglColorRenderbuffer[pe])}n.bindRenderbuffer(36161,null),W.depthBuffer&&(q.__webglDepthRenderbuffer=n.createRenderbuffer(),Ve(q.__webglDepthRenderbuffer,W,!0)),t.bindFramebuffer(36160,null)}}if(xe){t.bindTexture(34067,ve.__webglTexture),se(34067,L,qe);for(let Te=0;Te<6;Te++)be(q.__webglFramebuffer[Te],W,L,36064,34069+Te);T(L,qe)&&R(34067),t.unbindTexture()}else if(Ce){const Te=W.texture;for(let pe=0,We=Te.length;pe<We;pe++){const Ze=Te[pe],Ue=r.get(Ze);t.bindTexture(3553,Ue.__webglTexture),se(3553,Ze,qe),be(q.__webglFramebuffer,W,Ze,36064+pe,3553),T(Ze,qe)&&R(3553)}t.unbindTexture()}else{let Te=3553;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(a?Te=W.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Te,ve.__webglTexture),se(Te,L,qe),be(q.__webglFramebuffer,W,L,36064,Te),T(L,qe)&&R(Te),t.unbindTexture()}W.depthBuffer&&ae(W)}function Ee(W){const L=M(W)||a,q=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let ve=0,xe=q.length;ve<xe;ve++){const Ce=q[ve];if(T(Ce,L)){const qe=W.isWebGLCubeRenderTarget?34067:3553,Te=r.get(Ce).__webglTexture;t.bindTexture(qe,Te),R(qe),t.unbindTexture()}}}function at(W){if(a&&W.samples>0&&Qe(W)===!1){const L=W.isWebGLMultipleRenderTargets?W.texture:[W.texture],q=W.width,ve=W.height;let xe=16384;const Ce=[],qe=W.stencilBuffer?33306:36096,Te=r.get(W),pe=W.isWebGLMultipleRenderTargets===!0;if(pe)for(let We=0;We<L.length;We++)t.bindFramebuffer(36160,Te.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+We,36161,null),t.bindFramebuffer(36160,Te.__webglFramebuffer),n.framebufferTexture2D(36009,36064+We,3553,null,0);t.bindFramebuffer(36008,Te.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Te.__webglFramebuffer);for(let We=0;We<L.length;We++){Ce.push(36064+We),W.depthBuffer&&Ce.push(qe);const Ze=Te.__ignoreDepthValues!==void 0?Te.__ignoreDepthValues:!1;if(Ze===!1&&(W.depthBuffer&&(xe|=256),W.stencilBuffer&&(xe|=1024)),pe&&n.framebufferRenderbuffer(36008,36064,36161,Te.__webglColorRenderbuffer[We]),Ze===!0&&(n.invalidateFramebuffer(36008,[qe]),n.invalidateFramebuffer(36009,[qe])),pe){const Ue=r.get(L[We]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,Ue,0)}n.blitFramebuffer(0,0,q,ve,0,0,q,ve,xe,9728),m&&n.invalidateFramebuffer(36008,Ce)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),pe)for(let We=0;We<L.length;We++){t.bindFramebuffer(36160,Te.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+We,36161,Te.__webglColorRenderbuffer[We]);const Ze=r.get(L[We]).__webglTexture;t.bindFramebuffer(36160,Te.__webglFramebuffer),n.framebufferTexture2D(36009,36064+We,3553,Ze,0)}t.bindFramebuffer(36009,Te.__webglMultisampledFramebuffer)}}function rt(W){return Math.min(f,W.samples)}function Qe(W){const L=r.get(W);return a&&W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&L.__useRenderToTexture!==!1}function Tt(W){const L=o.render.frame;g.get(W)!==L&&(g.set(W,L),W.update())}function Lt(W,L){const q=W.encoding,ve=W.format,xe=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||W.format===nv||q!==Sl&&(q===Nt?a===!1?e.has("EXT_sRGB")===!0&&ve===oi?(W.format=nv,W.minFilter=vn,W.generateMipmaps=!1):L=Vb.sRGBToLinear(L):(ve!==oi||xe!==ca)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",q)),L}this.allocateTextureUnit=O,this.resetTextureUnits=te,this.setTexture2D=H,this.setTexture2DArray=K,this.setTexture3D=ee,this.setTextureCube=ce,this.rebindTextures=Ae,this.setupRenderTarget=Fe,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=at,this.setupDepthRenderbuffer=ae,this.setupFrameBufferTexture=be,this.useMultisampledRTT=Qe}function pO(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===ca)return 5121;if(s===OF)return 32819;if(s===NF)return 32820;if(s===LF)return 5120;if(s===kF)return 5122;if(s===zb)return 5123;if(s===FF)return 5124;if(s===el)return 5125;if(s===qo)return 5126;if(s===ed)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===zF)return 6406;if(s===oi)return 6408;if(s===GF)return 6409;if(s===HF)return 6410;if(s===pl)return 6402;if(s===Ku)return 34041;if(s===VF)return 6403;if(s===UF)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===nv)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===WF)return 36244;if(s===jF)return 33319;if(s===$F)return 33320;if(s===JF)return 36249;if(s===yy||s===vy||s===xy||s===_y)if(o===Nt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===yy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===vy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===xy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===_y)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===yy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===vy)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===xy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===_y)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===ZS||s===eA||s===tA||s===nA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===ZS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===eA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===tA)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===nA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===XF)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===rA||s===iA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===rA)return o===Nt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===iA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===sA||s===oA||s===aA||s===lA||s===uA||s===cA||s===fA||s===dA||s===hA||s===pA||s===mA||s===gA||s===yA||s===vA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===sA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===oA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===aA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===lA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===uA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===cA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===fA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===dA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===hA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===pA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===mA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===gA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===yA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===vA)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===xA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===xA)return o===Nt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Iu?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class mO extends $n{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ns extends wt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const s$={type:"move"};class G_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ns,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ns,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ns,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const y of e.hand.values()){const v=t.getJointPose(y,r);if(u.joints[y.jointName]===void 0){const _=new Ns;_.matrixAutoUpdate=!1,_.visible=!1,u.joints[y.jointName]=_,u.add(_)}const x=u.joints[y.jointName];v!==null&&(x.matrix.fromArray(v.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=v.radius),x.visible=v!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),m=.02,g=.005;u.inputState.pinching&&h>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(s$)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}}class gO extends fn{constructor(e,t,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:pl,c!==pl&&c!==Ku)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===pl&&(r=el),r===void 0&&c===Ku&&(r=Iu),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Un,this.minFilter=l!==void 0?l:Un,this.flipY=!1,this.generateMipmaps=!1}}class o$ extends va{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,c=null,f=null,h=null,m=null;const g=t.getContextAttributes();let y=null,v=null;const x=[],_=[],S=new $n;S.layers.enable(1),S.viewport=new At;const M=new $n;M.layers.enable(2),M.viewport=new At;const C=[S,M],T=new mO;T.layers.enable(1),T.layers.enable(2);let R=null,b=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let H=x[z];return H===void 0&&(H=new G_,x[z]=H),H.getTargetRaySpace()},this.getControllerGrip=function(z){let H=x[z];return H===void 0&&(H=new G_,x[z]=H),H.getGripSpace()},this.getHand=function(z){let H=x[z];return H===void 0&&(H=new G_,x[z]=H),H.getHandSpace()};function B(z){const H=_.indexOf(z.inputSource);if(H===-1)return;const K=x[H];K!==void 0&&K.dispatchEvent({type:z.type,data:z.inputSource})}function I(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",I),i.removeEventListener("inputsourceschange",k);for(let z=0;z<x.length;z++){const H=_[z];H!==null&&(_[z]=null,x[z].disconnect(H))}R=null,b=null,e.setRenderTarget(y),h=null,f=null,c=null,i=null,v=null,O.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){s=z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){a=z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(z){l=z},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return c},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(z){if(i=z,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",I),i.addEventListener("inputsourceschange",k),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const H={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,t,H),i.updateRenderState({baseLayer:h}),v=new mi(h.framebufferWidth,h.framebufferHeight,{format:oi,type:ca,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let H=null,K=null,ee=null;g.depth&&(ee=g.stencil?35056:33190,H=g.stencil?Ku:pl,K=g.stencil?Iu:el);const ce={colorFormat:32856,depthFormat:ee,scaleFactor:s};c=new XRWebGLBinding(i,t),f=c.createProjectionLayer(ce),i.updateRenderState({layers:[f]}),v=new mi(f.textureWidth,f.textureHeight,{format:oi,type:ca,depthTexture:new gO(f.textureWidth,f.textureHeight,K,void 0,void 0,void 0,void 0,void 0,void 0,H),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const ge=e.properties.get(v);ge.__ignoreDepthValues=f.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),O.setContext(i),O.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function k(z){for(let H=0;H<z.removed.length;H++){const K=z.removed[H],ee=_.indexOf(K);ee>=0&&(_[ee]=null,x[ee].dispatchEvent({type:"disconnected",data:K}))}for(let H=0;H<z.added.length;H++){const K=z.added[H];let ee=_.indexOf(K);if(ee===-1){for(let ge=0;ge<x.length;ge++)if(ge>=_.length){_.push(K),ee=ge;break}else if(_[ge]===null){_[ge]=K,ee=ge;break}if(ee===-1)break}const ce=x[ee];ce&&ce.dispatchEvent({type:"connected",data:K})}}const j=new F,G=new F;function N(z,H,K){j.setFromMatrixPosition(H.matrixWorld),G.setFromMatrixPosition(K.matrixWorld);const ee=j.distanceTo(G),ce=H.projectionMatrix.elements,ge=K.projectionMatrix.elements,Re=ce[14]/(ce[10]-1),se=ce[14]/(ce[10]+1),He=(ce[9]+1)/ce[5],Ge=(ce[9]-1)/ce[5],Ke=(ce[8]-1)/ce[0],be=(ge[8]+1)/ge[0],Ve=Re*Ke,he=Re*be,ae=ee/(-Ke+be),Ae=ae*-Ke;H.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(Ae),z.translateZ(ae),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const Fe=Re+ae,Ee=se+ae,at=Ve-Ae,rt=he+(ee-Ae),Qe=He*se/Ee*Fe,Tt=Ge*se/Ee*Fe;z.projectionMatrix.makePerspective(at,rt,Qe,Tt,Fe,Ee)}function $(z,H){H===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(H.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(i===null)return;T.near=M.near=S.near=z.near,T.far=M.far=S.far=z.far,(R!==T.near||b!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),R=T.near,b=T.far);const H=z.parent,K=T.cameras;$(T,H);for(let ce=0;ce<K.length;ce++)$(K[ce],H);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),z.matrix.copy(T.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale);const ee=z.children;for(let ce=0,ge=ee.length;ce<ge;ce++)ee[ce].updateMatrixWorld(!0);K.length===2?N(T,S,M):T.projectionMatrix.copy(S.projectionMatrix)},this.getCamera=function(){return T},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(z){f!==null&&(f.fixedFoveation=z),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=z)};let X=null;function te(z,H){if(u=H.getViewerPose(l||o),m=H,u!==null){const K=u.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let ee=!1;K.length!==T.cameras.length&&(T.cameras.length=0,ee=!0);for(let ce=0;ce<K.length;ce++){const ge=K[ce];let Re=null;if(h!==null)Re=h.getViewport(ge);else{const He=c.getViewSubImage(f,ge);Re=He.viewport,ce===0&&(e.setRenderTargetTextures(v,He.colorTexture,f.ignoreDepthValues?void 0:He.depthStencilTexture),e.setRenderTarget(v))}let se=C[ce];se===void 0&&(se=new $n,se.layers.enable(ce),se.viewport=new At,C[ce]=se),se.matrix.fromArray(ge.transform.matrix),se.projectionMatrix.fromArray(ge.projectionMatrix),se.viewport.set(Re.x,Re.y,Re.width,Re.height),ce===0&&T.matrix.copy(se.matrix),ee===!0&&T.cameras.push(se)}}for(let K=0;K<x.length;K++){const ee=_[K],ce=x[K];ee!==null&&ce!==void 0&&ce.update(ee,H,l||o)}X&&X(z,H),m=null}const O=new uO;O.setAnimationLoop(te),this.setAnimationLoop=function(z){X=z},this.dispose=function(){}}}function a$(n,e){function t(y,v){y.fogColor.value.copy(v.color),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function r(y,v,x,_,S){v.isMeshBasicMaterial||v.isMeshLambertMaterial?i(y,v):v.isMeshToonMaterial?(i(y,v),c(y,v)):v.isMeshPhongMaterial?(i(y,v),u(y,v)):v.isMeshStandardMaterial?(i(y,v),f(y,v),v.isMeshPhysicalMaterial&&h(y,v,S)):v.isMeshMatcapMaterial?(i(y,v),m(y,v)):v.isMeshDepthMaterial?i(y,v):v.isMeshDistanceMaterial?(i(y,v),g(y,v)):v.isMeshNormalMaterial?i(y,v):v.isLineBasicMaterial?(s(y,v),v.isLineDashedMaterial&&o(y,v)):v.isPointsMaterial?a(y,v,x,_):v.isSpriteMaterial?l(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map),v.alphaMap&&(y.alphaMap.value=v.alphaMap),v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===Bi&&(y.bumpScale.value*=-1)),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===Bi&&y.normalScale.value.negate()),v.specularMap&&(y.specularMap.value=v.specularMap),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const x=e.get(v).envMap;if(x&&(y.envMap.value=x,y.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap){y.lightMap.value=v.lightMap;const M=n.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=v.lightMapIntensity*M}v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity);let _;v.map?_=v.map:v.specularMap?_=v.specularMap:v.displacementMap?_=v.displacementMap:v.normalMap?_=v.normalMap:v.bumpMap?_=v.bumpMap:v.roughnessMap?_=v.roughnessMap:v.metalnessMap?_=v.metalnessMap:v.alphaMap?_=v.alphaMap:v.emissiveMap?_=v.emissiveMap:v.clearcoatMap?_=v.clearcoatMap:v.clearcoatNormalMap?_=v.clearcoatNormalMap:v.clearcoatRoughnessMap?_=v.clearcoatRoughnessMap:v.iridescenceMap?_=v.iridescenceMap:v.iridescenceThicknessMap?_=v.iridescenceThicknessMap:v.specularIntensityMap?_=v.specularIntensityMap:v.specularColorMap?_=v.specularColorMap:v.transmissionMap?_=v.transmissionMap:v.thicknessMap?_=v.thicknessMap:v.sheenColorMap?_=v.sheenColorMap:v.sheenRoughnessMap&&(_=v.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),y.uvTransform.value.copy(_.matrix));let S;v.aoMap?S=v.aoMap:v.lightMap&&(S=v.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),y.uv2Transform.value.copy(S.matrix))}function s(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity}function o(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function a(y,v,x,_){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*x,y.scale.value=_*.5,v.map&&(y.map.value=v.map),v.alphaMap&&(y.alphaMap.value=v.alphaMap),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);let S;v.map?S=v.map:v.alphaMap&&(S=v.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),y.uvTransform.value.copy(S.matrix))}function l(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map),v.alphaMap&&(y.alphaMap.value=v.alphaMap),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);let x;v.map?x=v.map:v.alphaMap&&(x=v.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),y.uvTransform.value.copy(x.matrix))}function u(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function c(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function f(y,v){y.roughness.value=v.roughness,y.metalness.value=v.metalness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function h(y,v,x){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),y.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===Bi&&y.clearcoatNormalScale.value.negate())),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=x.texture,y.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap)}function m(y,v){v.matcap&&(y.matcap.value=v.matcap)}function g(y,v){y.referencePosition.value.copy(v.referencePosition),y.nearDistance.value=v.nearDistance,y.farDistance.value=v.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function l$(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,S){const M=S.program;r.uniformBlockBinding(_,M)}function u(_,S){let M=i[_.id];M===void 0&&(g(_),M=c(_),i[_.id]=M,_.addEventListener("dispose",v));const C=S.program;r.updateUBOMapping(_,C);const T=e.render.frame;s[_.id]!==T&&(h(_),s[_.id]=T)}function c(_){const S=f();_.__bindingPointIndex=S;const M=n.createBuffer(),C=_.__size,T=_.usage;return n.bindBuffer(35345,M),n.bufferData(35345,C,T),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,M),M}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const S=i[_.id],M=_.uniforms,C=_.__cache;n.bindBuffer(35345,S);for(let T=0,R=M.length;T<R;T++){const b=M[T];if(m(b,T,C)===!0){const B=b.value,I=b.__offset;typeof B=="number"?(b.__data[0]=B,n.bufferSubData(35345,I,b.__data)):(b.value.isMatrix3?(b.__data[0]=b.value.elements[0],b.__data[1]=b.value.elements[1],b.__data[2]=b.value.elements[2],b.__data[3]=b.value.elements[0],b.__data[4]=b.value.elements[3],b.__data[5]=b.value.elements[4],b.__data[6]=b.value.elements[5],b.__data[7]=b.value.elements[0],b.__data[8]=b.value.elements[6],b.__data[9]=b.value.elements[7],b.__data[10]=b.value.elements[8],b.__data[11]=b.value.elements[0]):B.toArray(b.__data),n.bufferSubData(35345,I,b.__data))}}n.bindBuffer(35345,null)}function m(_,S,M){const C=_.value;if(M[S]===void 0)return typeof C=="number"?M[S]=C:M[S]=C.clone(),!0;if(typeof C=="number"){if(M[S]!==C)return M[S]=C,!0}else{const T=M[S];if(T.equals(C)===!1)return T.copy(C),!0}return!1}function g(_){const S=_.uniforms;let M=0;const C=16;let T=0;for(let R=0,b=S.length;R<b;R++){const B=S[R],I=y(B);if(B.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=M,R>0){T=M%C;const k=C-T;T!==0&&k-I.boundary<0&&(M+=C-T,B.__offset=M)}M+=I.storage}return T=M%C,T>0&&(M+=C-T),_.__size=M,_.__cache={},this}function y(_){const S=_.value,M={boundary:0,storage:0};return typeof S=="number"?(M.boundary=4,M.storage=4):S.isVector2?(M.boundary=8,M.storage=8):S.isVector3||S.isColor?(M.boundary=16,M.storage=12):S.isVector4?(M.boundary=16,M.storage=16):S.isMatrix3?(M.boundary=48,M.storage=48):S.isMatrix4?(M.boundary=64,M.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),M}function v(_){const S=_.target;S.removeEventListener("dispose",v);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function x(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:u,dispose:x}}function u$(){const n=Dp("canvas");return n.style.display="block",n}function Jb(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:u$(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let c;t!==null?c=t.getContextAttributes().alpha:c=n.alpha!==void 0?n.alpha:!1;let f=null,h=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Sl,this.physicallyCorrectLights=!1,this.toneMapping=Gs,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const y=this;let v=!1,x=0,_=0,S=null,M=-1,C=null;const T=new At,R=new At;let b=null,B=e.width,I=e.height,k=1,j=null,G=null;const N=new At(0,0,B,I),$=new At(0,0,B,I);let X=!1;const te=new i1;let O=!1,z=!1,H=null;const K=new Le,ee=new ye,ce=new F,ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Re(){return S===null?k:1}let se=t;function He(U,re){for(let fe=0;fe<U.length;fe++){const ne=U[fe],me=e.getContext(ne,re);if(me!==null)return me}return null}try{const U={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${sm}`),e.addEventListener("webglcontextlost",Ye,!1),e.addEventListener("webglcontextrestored",je,!1),e.addEventListener("webglcontextcreationerror",vt,!1),se===null){const re=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&re.shift(),se=He(re,U),se===null)throw He(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}se.getShaderPrecisionFormat===void 0&&(se.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let Ge,Ke,be,Ve,he,ae,Ae,Fe,Ee,at,rt,Qe,Tt,Lt,W,L,q,ve,xe,Ce,qe,Te,pe,We;function Ze(){Ge=new b7(se),Ke=new x7(se,Ge,n),Ge.init(Ke),Te=new pO(se,Ge,Ke),be=new r$(se,Ge,Ke),Ve=new T7,he=new jj,ae=new i$(se,Ge,be,he,Ke,Te,Ve),Ae=new w7(y),Fe=new M7(y),Ee=new OH(se,Ke),pe=new y7(se,Ge,Ee,Ke),at=new C7(se,Ee,Ve,pe),rt=new D7(se,at,Ee,Ve),xe=new B7(se,Ke,ae),L=new _7(he),Qe=new Wj(y,Ae,Fe,Ge,Ke,pe,L),Tt=new a$(y,he),Lt=new Jj,W=new Zj(Ge,Ke),ve=new g7(y,Ae,Fe,be,rt,c,o),q=new n$(y,rt,Ke),We=new l$(se,Ve,Ke,be),Ce=new v7(se,Ge,Ve,Ke),qe=new E7(se,Ge,Ve,Ke),Ve.programs=Qe.programs,y.capabilities=Ke,y.extensions=Ge,y.properties=he,y.renderLists=Lt,y.shadowMap=q,y.state=be,y.info=Ve}Ze();const Ue=new o$(y,se);this.xr=Ue,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){const U=Ge.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=Ge.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(U){U!==void 0&&(k=U,this.setSize(B,I,!1))},this.getSize=function(U){return U.set(B,I)},this.setSize=function(U,re,fe){if(Ue.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=U,I=re,e.width=Math.floor(U*k),e.height=Math.floor(re*k),fe!==!1&&(e.style.width=U+"px",e.style.height=re+"px"),this.setViewport(0,0,U,re)},this.getDrawingBufferSize=function(U){return U.set(B*k,I*k).floor()},this.setDrawingBufferSize=function(U,re,fe){B=U,I=re,k=fe,e.width=Math.floor(U*fe),e.height=Math.floor(re*fe),this.setViewport(0,0,U,re)},this.getCurrentViewport=function(U){return U.copy(T)},this.getViewport=function(U){return U.copy(N)},this.setViewport=function(U,re,fe,ne){U.isVector4?N.set(U.x,U.y,U.z,U.w):N.set(U,re,fe,ne),be.viewport(T.copy(N).multiplyScalar(k).floor())},this.getScissor=function(U){return U.copy($)},this.setScissor=function(U,re,fe,ne){U.isVector4?$.set(U.x,U.y,U.z,U.w):$.set(U,re,fe,ne),be.scissor(R.copy($).multiplyScalar(k).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(U){be.setScissorTest(X=U)},this.setOpaqueSort=function(U){j=U},this.setTransparentSort=function(U){G=U},this.getClearColor=function(U){return U.copy(ve.getClearColor())},this.setClearColor=function(){ve.setClearColor.apply(ve,arguments)},this.getClearAlpha=function(){return ve.getClearAlpha()},this.setClearAlpha=function(){ve.setClearAlpha.apply(ve,arguments)},this.clear=function(U=!0,re=!0,fe=!0){let ne=0;U&&(ne|=16384),re&&(ne|=256),fe&&(ne|=1024),se.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ye,!1),e.removeEventListener("webglcontextrestored",je,!1),e.removeEventListener("webglcontextcreationerror",vt,!1),Lt.dispose(),W.dispose(),he.dispose(),Ae.dispose(),Fe.dispose(),rt.dispose(),pe.dispose(),We.dispose(),Qe.dispose(),Ue.dispose(),Ue.removeEventListener("sessionstart",Ie),Ue.removeEventListener("sessionend",Je),H&&(H.dispose(),H=null),Bt.stop()};function Ye(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function je(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const U=Ve.autoReset,re=q.enabled,fe=q.autoUpdate,ne=q.needsUpdate,me=q.type;Ze(),Ve.autoReset=U,q.enabled=re,q.autoUpdate=fe,q.needsUpdate=ne,q.type=me}function vt(U){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",U.statusMessage)}function Ut(U){const re=U.target;re.removeEventListener("dispose",Ut),bn(re)}function bn(U){Q(U),he.remove(U)}function Q(U){const re=he.get(U).programs;re!==void 0&&(re.forEach(function(fe){Qe.releaseProgram(fe)}),U.isShaderMaterial&&Qe.releaseShaderCache(U))}this.renderBufferDirect=function(U,re,fe,ne,me,et){re===null&&(re=ge);const lt=me.isMesh&&me.matrixWorld.determinant()<0,pt=U1(U,re,fe,ne,me);be.setMaterial(ne,lt);let dt=fe.index;const Dt=fe.attributes.position;if(dt===null){if(Dt===void 0||Dt.count===0)return}else if(dt.count===0)return;let xt=1;ne.wireframe===!0&&(dt=at.getWireframeAttribute(fe),xt=2),pe.setup(me,ne,pt,fe,dt);let Ct,sn=Ce;dt!==null&&(Ct=Ee.get(dt),sn=qe,sn.setIndex(Ct));const Co=dt!==null?dt.count:Dt.count,Sa=fe.drawRange.start*xt,Aa=fe.drawRange.count*xt,Qr=et!==null?et.start*xt:0,Mt=et!==null?et.count*xt:1/0,Qs=Math.max(Sa,Qr),on=Math.min(Co,Sa+Aa,Qr+Mt)-1,qr=Math.max(0,on-Qs+1);if(qr!==0){if(me.isMesh)ne.wireframe===!0?(be.setLineWidth(ne.wireframeLinewidth*Re()),sn.setMode(1)):sn.setMode(4);else if(me.isLine){let Gi=ne.linewidth;Gi===void 0&&(Gi=1),be.setLineWidth(Gi*Re()),me.isLineSegments?sn.setMode(1):me.isLineLoop?sn.setMode(2):sn.setMode(3)}else me.isPoints?sn.setMode(0):me.isSprite&&sn.setMode(4);if(me.isInstancedMesh)sn.renderInstances(Qs,qr,me.count);else if(fe.isInstancedBufferGeometry){const Gi=Math.min(fe.instanceCount,fe._maxInstanceCount);sn.renderInstances(Qs,qr,Gi)}else sn.render(Qs,qr)}},this.compile=function(U,re){function fe(ne,me,et){ne.transparent===!0&&ne.side===po?(ne.side=Bi,ne.needsUpdate=!0,Yr(ne,me,et),ne.side=xl,ne.needsUpdate=!0,Yr(ne,me,et),ne.side=po):Yr(ne,me,et)}h=W.get(U),h.init(),g.push(h),U.traverseVisible(function(ne){ne.isLight&&ne.layers.test(re.layers)&&(h.pushLight(ne),ne.castShadow&&h.pushShadow(ne))}),h.setupLights(y.physicallyCorrectLights),U.traverse(function(ne){const me=ne.material;if(me)if(Array.isArray(me))for(let et=0;et<me.length;et++){const lt=me[et];fe(lt,U,ne)}else fe(me,U,ne)}),g.pop(),h=null};let de=null;function we(U){de&&de(U)}function Ie(){Bt.stop()}function Je(){Bt.start()}const Bt=new uO;Bt.setAnimationLoop(we),typeof self<"u"&&Bt.setContext(self),this.setAnimationLoop=function(U){de=U,Ue.setAnimationLoop(U),U===null?Bt.stop():Bt.start()},Ue.addEventListener("sessionstart",Ie),Ue.addEventListener("sessionend",Je),this.render=function(U,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),Ue.enabled===!0&&Ue.isPresenting===!0&&(Ue.cameraAutoUpdate===!0&&Ue.updateCamera(re),re=Ue.getCamera()),U.isScene===!0&&U.onBeforeRender(y,U,re,S),h=W.get(U,g.length),h.init(),g.push(h),K.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),te.setFromProjectionMatrix(K),z=this.localClippingEnabled,O=L.init(this.clippingPlanes,z,re),f=Lt.get(U,m.length),f.init(),m.push(f),In(U,re,0,y.sortObjects),f.finish(),y.sortObjects===!0&&f.sort(j,G),O===!0&&L.beginShadows();const fe=h.state.shadowsArray;if(q.render(fe,U,re),O===!0&&L.endShadows(),this.info.autoReset===!0&&this.info.reset(),ve.render(f,U),h.setupLights(y.physicallyCorrectLights),re.isArrayCamera){const ne=re.cameras;for(let me=0,et=ne.length;me<et;me++){const lt=ne[me];sr(f,U,lt,lt.viewport)}}else sr(f,U,re);S!==null&&(ae.updateMultisampleRenderTarget(S),ae.updateRenderTargetMipmap(S)),U.isScene===!0&&U.onAfterRender(y,U,re),pe.resetDefaultState(),M=-1,C=null,g.pop(),g.length>0?h=g[g.length-1]:h=null,m.pop(),m.length>0?f=m[m.length-1]:f=null};function In(U,re,fe,ne){if(U.visible===!1)return;if(U.layers.test(re.layers)){if(U.isGroup)fe=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(re);else if(U.isLight)h.pushLight(U),U.castShadow&&h.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||te.intersectsSprite(U)){ne&&ce.setFromMatrixPosition(U.matrixWorld).applyMatrix4(K);const lt=rt.update(U),pt=U.material;pt.visible&&f.push(U,lt,pt,fe,ce.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(U.isSkinnedMesh&&U.skeleton.frame!==Ve.render.frame&&(U.skeleton.update(),U.skeleton.frame=Ve.render.frame),!U.frustumCulled||te.intersectsObject(U))){ne&&ce.setFromMatrixPosition(U.matrixWorld).applyMatrix4(K);const lt=rt.update(U),pt=U.material;if(Array.isArray(pt)){const dt=lt.groups;for(let Dt=0,xt=dt.length;Dt<xt;Dt++){const Ct=dt[Dt],sn=pt[Ct.materialIndex];sn&&sn.visible&&f.push(U,lt,sn,fe,ce.z,Ct)}}else pt.visible&&f.push(U,lt,pt,fe,ce.z,null)}}const et=U.children;for(let lt=0,pt=et.length;lt<pt;lt++)In(et[lt],re,fe,ne)}function sr(U,re,fe,ne){const me=U.opaque,et=U.transmissive,lt=U.transparent;h.setupLightsView(fe),et.length>0&&Ys(me,re,fe),ne&&be.viewport(T.copy(ne)),me.length>0&&$t(me,re,fe),et.length>0&&$t(et,re,fe),lt.length>0&&$t(lt,re,fe),be.buffers.depth.setTest(!0),be.buffers.depth.setMask(!0),be.buffers.color.setMask(!0),be.setPolygonOffset(!1)}function Ys(U,re,fe){const ne=Ke.isWebGL2;H===null&&(H=new mi(1,1,{generateMipmaps:!0,type:Ge.has("EXT_color_buffer_half_float")?ed:ca,minFilter:ya,samples:ne&&s===!0?4:0})),y.getDrawingBufferSize(ee),ne?H.setSize(ee.x,ee.y):H.setSize(rv(ee.x),rv(ee.y));const me=y.getRenderTarget();y.setRenderTarget(H),y.clear();const et=y.toneMapping;y.toneMapping=Gs,$t(U,re,fe),y.toneMapping=et,ae.updateMultisampleRenderTarget(H),ae.updateRenderTargetMipmap(H),y.setRenderTarget(me)}function $t(U,re,fe){const ne=re.isScene===!0?re.overrideMaterial:null;for(let me=0,et=U.length;me<et;me++){const lt=U[me],pt=lt.object,dt=lt.geometry,Dt=ne===null?lt.material:ne,xt=lt.group;pt.layers.test(fe.layers)&&Ui(pt,re,fe,dt,Dt,xt)}}function Ui(U,re,fe,ne,me,et){U.onBeforeRender(y,re,fe,ne,me,et),U.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),me.onBeforeRender(y,re,fe,ne,U,et),me.transparent===!0&&me.side===po?(me.side=Bi,me.needsUpdate=!0,y.renderBufferDirect(fe,re,ne,me,U,et),me.side=xl,me.needsUpdate=!0,y.renderBufferDirect(fe,re,ne,me,U,et),me.side=po):y.renderBufferDirect(fe,re,ne,me,U,et),U.onAfterRender(y,re,fe,ne,me,et)}function Yr(U,re,fe){re.isScene!==!0&&(re=ge);const ne=he.get(U),me=h.state.lights,et=h.state.shadowsArray,lt=me.state.version,pt=Qe.getParameters(U,me.state,et,re,fe),dt=Qe.getProgramCacheKey(pt);let Dt=ne.programs;ne.environment=U.isMeshStandardMaterial?re.environment:null,ne.fog=re.fog,ne.envMap=(U.isMeshStandardMaterial?Fe:Ae).get(U.envMap||ne.environment),Dt===void 0&&(U.addEventListener("dispose",Ut),Dt=new Map,ne.programs=Dt);let xt=Dt.get(dt);if(xt!==void 0){if(ne.currentProgram===xt&&ne.lightsStateVersion===lt)return zm(U,pt),xt}else pt.uniforms=Qe.getUniforms(U),U.onBuild(fe,pt,y),U.onBeforeCompile(pt,y),xt=Qe.acquireProgram(pt,dt),Dt.set(dt,xt),ne.uniforms=pt.uniforms;const Ct=ne.uniforms;(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(Ct.clippingPlanes=L.uniform),zm(U,pt),ne.needsLights=Rd(U),ne.lightsStateVersion=lt,ne.needsLights&&(Ct.ambientLightColor.value=me.state.ambient,Ct.lightProbe.value=me.state.probe,Ct.directionalLights.value=me.state.directional,Ct.directionalLightShadows.value=me.state.directionalShadow,Ct.spotLights.value=me.state.spot,Ct.spotLightShadows.value=me.state.spotShadow,Ct.rectAreaLights.value=me.state.rectArea,Ct.ltc_1.value=me.state.rectAreaLTC1,Ct.ltc_2.value=me.state.rectAreaLTC2,Ct.pointLights.value=me.state.point,Ct.pointLightShadows.value=me.state.pointShadow,Ct.hemisphereLights.value=me.state.hemi,Ct.directionalShadowMap.value=me.state.directionalShadowMap,Ct.directionalShadowMatrix.value=me.state.directionalShadowMatrix,Ct.spotShadowMap.value=me.state.spotShadowMap,Ct.spotLightMatrix.value=me.state.spotLightMatrix,Ct.spotLightMap.value=me.state.spotLightMap,Ct.pointShadowMap.value=me.state.pointShadowMap,Ct.pointShadowMatrix.value=me.state.pointShadowMatrix);const sn=xt.getUniforms(),Co=My.seqWithValue(sn.seq,Ct);return ne.currentProgram=xt,ne.uniformsList=Co,xt}function zm(U,re){const fe=he.get(U);fe.outputEncoding=re.outputEncoding,fe.instancing=re.instancing,fe.skinning=re.skinning,fe.morphTargets=re.morphTargets,fe.morphNormals=re.morphNormals,fe.morphColors=re.morphColors,fe.morphTargetsCount=re.morphTargetsCount,fe.numClippingPlanes=re.numClippingPlanes,fe.numIntersection=re.numClipIntersection,fe.vertexAlphas=re.vertexAlphas,fe.vertexTangents=re.vertexTangents,fe.toneMapping=re.toneMapping}function U1(U,re,fe,ne,me){re.isScene!==!0&&(re=ge),ae.resetTextureUnits();const et=re.fog,lt=ne.isMeshStandardMaterial?re.environment:null,pt=S===null?y.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:Sl,dt=(ne.isMeshStandardMaterial?Fe:Ae).get(ne.envMap||lt),Dt=ne.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,xt=!!ne.normalMap&&!!fe.attributes.tangent,Ct=!!fe.morphAttributes.position,sn=!!fe.morphAttributes.normal,Co=!!fe.morphAttributes.color,Sa=ne.toneMapped?y.toneMapping:Gs,Aa=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,Qr=Aa!==void 0?Aa.length:0,Mt=he.get(ne),Qs=h.state.lights;if(O===!0&&(z===!0||U!==C)){const Ht=U===C&&ne.id===M;L.setState(ne,U,Ht)}let on=!1;ne.version===Mt.__version?(Mt.needsLights&&Mt.lightsStateVersion!==Qs.state.version||Mt.outputEncoding!==pt||me.isInstancedMesh&&Mt.instancing===!1||!me.isInstancedMesh&&Mt.instancing===!0||me.isSkinnedMesh&&Mt.skinning===!1||!me.isSkinnedMesh&&Mt.skinning===!0||Mt.envMap!==dt||ne.fog===!0&&Mt.fog!==et||Mt.numClippingPlanes!==void 0&&(Mt.numClippingPlanes!==L.numPlanes||Mt.numIntersection!==L.numIntersection)||Mt.vertexAlphas!==Dt||Mt.vertexTangents!==xt||Mt.morphTargets!==Ct||Mt.morphNormals!==sn||Mt.morphColors!==Co||Mt.toneMapping!==Sa||Ke.isWebGL2===!0&&Mt.morphTargetsCount!==Qr)&&(on=!0):(on=!0,Mt.__version=ne.version);let qr=Mt.currentProgram;on===!0&&(qr=Yr(ne,re,me));let Gi=!1,Hi=!1,Vi=!1;const ht=qr.getUniforms(),Pt=Mt.uniforms;if(be.useProgram(qr.program)&&(Gi=!0,Hi=!0,Vi=!0),ne.id!==M&&(M=ne.id,Hi=!0),Gi||C!==U){if(ht.setValue(se,"projectionMatrix",U.projectionMatrix),Ke.logarithmicDepthBuffer&&ht.setValue(se,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),C!==U&&(C=U,Hi=!0,Vi=!0),ne.isShaderMaterial||ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshStandardMaterial||ne.envMap){const Ht=ht.map.cameraPosition;Ht!==void 0&&Ht.setValue(se,ce.setFromMatrixPosition(U.matrixWorld))}(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&ht.setValue(se,"isOrthographic",U.isOrthographicCamera===!0),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial||ne.isShadowMaterial||me.isSkinnedMesh)&&ht.setValue(se,"viewMatrix",U.matrixWorldInverse)}if(me.isSkinnedMesh){ht.setOptional(se,me,"bindMatrix"),ht.setOptional(se,me,"bindMatrixInverse");const Ht=me.skeleton;Ht&&(Ke.floatVertexTextures?(Ht.boneTexture===null&&Ht.computeBoneTexture(),ht.setValue(se,"boneTexture",Ht.boneTexture,ae),ht.setValue(se,"boneTextureSize",Ht.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Wi=fe.morphAttributes;if((Wi.position!==void 0||Wi.normal!==void 0||Wi.color!==void 0&&Ke.isWebGL2===!0)&&xe.update(me,fe,ne,qr),(Hi||Mt.receiveShadow!==me.receiveShadow)&&(Mt.receiveShadow=me.receiveShadow,ht.setValue(se,"receiveShadow",me.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(Pt.envMap.value=dt,Pt.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1),Hi&&(ht.setValue(se,"toneMappingExposure",y.toneMappingExposure),Mt.needsLights&&Um(Pt,Vi),et&&ne.fog===!0&&Tt.refreshFogUniforms(Pt,et),Tt.refreshMaterialUniforms(Pt,ne,k,I,H),My.upload(se,Mt.uniformsList,Pt,ae)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(My.upload(se,Mt.uniformsList,Pt,ae),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&ht.setValue(se,"center",me.center),ht.setValue(se,"modelViewMatrix",me.modelViewMatrix),ht.setValue(se,"normalMatrix",me.normalMatrix),ht.setValue(se,"modelMatrix",me.matrixWorld),ne.isShaderMaterial||ne.isRawShaderMaterial){const Ht=ne.uniformsGroups;for(let or=0,Eo=Ht.length;or<Eo;or++)if(Ke.isWebGL2){const To=Ht[or];We.update(To,qr),We.bind(To,qr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return qr}function Um(U,re){U.ambientLightColor.needsUpdate=re,U.lightProbe.needsUpdate=re,U.directionalLights.needsUpdate=re,U.directionalLightShadows.needsUpdate=re,U.pointLights.needsUpdate=re,U.pointLightShadows.needsUpdate=re,U.spotLights.needsUpdate=re,U.spotLightShadows.needsUpdate=re,U.rectAreaLights.needsUpdate=re,U.hemisphereLights.needsUpdate=re}function Rd(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(U,re,fe){he.get(U.texture).__webglTexture=re,he.get(U.depthTexture).__webglTexture=fe;const ne=he.get(U);ne.__hasExternalTextures=!0,ne.__hasExternalTextures&&(ne.__autoAllocateDepthBuffer=fe===void 0,ne.__autoAllocateDepthBuffer||Ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ne.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(U,re){const fe=he.get(U);fe.__webglFramebuffer=re,fe.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(U,re=0,fe=0){S=U,x=re,_=fe;let ne=!0,me=null,et=!1,lt=!1;if(U){const dt=he.get(U);dt.__useDefaultFramebuffer!==void 0?(be.bindFramebuffer(36160,null),ne=!1):dt.__webglFramebuffer===void 0?ae.setupRenderTarget(U):dt.__hasExternalTextures&&ae.rebindTextures(U,he.get(U.texture).__webglTexture,he.get(U.depthTexture).__webglTexture);const Dt=U.texture;(Dt.isData3DTexture||Dt.isDataArrayTexture||Dt.isCompressedArrayTexture)&&(lt=!0);const xt=he.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(me=xt[re],et=!0):Ke.isWebGL2&&U.samples>0&&ae.useMultisampledRTT(U)===!1?me=he.get(U).__webglMultisampledFramebuffer:me=xt,T.copy(U.viewport),R.copy(U.scissor),b=U.scissorTest}else T.copy(N).multiplyScalar(k).floor(),R.copy($).multiplyScalar(k).floor(),b=X;if(be.bindFramebuffer(36160,me)&&Ke.drawBuffers&&ne&&be.drawBuffers(U,me),be.viewport(T),be.scissor(R),be.setScissorTest(b),et){const dt=he.get(U.texture);se.framebufferTexture2D(36160,36064,34069+re,dt.__webglTexture,fe)}else if(lt){const dt=he.get(U.texture),Dt=re||0;se.framebufferTextureLayer(36160,36064,dt.__webglTexture,fe||0,Dt)}M=-1},this.readRenderTargetPixels=function(U,re,fe,ne,me,et,lt){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pt=he.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&lt!==void 0&&(pt=pt[lt]),pt){be.bindFramebuffer(36160,pt);try{const dt=U.texture,Dt=dt.format,xt=dt.type;if(Dt!==oi&&Te.convert(Dt)!==se.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ct=xt===ed&&(Ge.has("EXT_color_buffer_half_float")||Ke.isWebGL2&&Ge.has("EXT_color_buffer_float"));if(xt!==ca&&Te.convert(xt)!==se.getParameter(35738)&&!(xt===qo&&(Ke.isWebGL2||Ge.has("OES_texture_float")||Ge.has("WEBGL_color_buffer_float")))&&!Ct){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=U.width-ne&&fe>=0&&fe<=U.height-me&&se.readPixels(re,fe,ne,me,Te.convert(Dt),Te.convert(xt),et)}finally{const dt=S!==null?he.get(S).__webglFramebuffer:null;be.bindFramebuffer(36160,dt)}}},this.copyFramebufferToTexture=function(U,re,fe=0){const ne=Math.pow(2,-fe),me=Math.floor(re.image.width*ne),et=Math.floor(re.image.height*ne);ae.setTexture2D(re,0),se.copyTexSubImage2D(3553,fe,0,0,U.x,U.y,me,et),be.unbindTexture()},this.copyTextureToTexture=function(U,re,fe,ne=0){const me=re.image.width,et=re.image.height,lt=Te.convert(fe.format),pt=Te.convert(fe.type);ae.setTexture2D(fe,0),se.pixelStorei(37440,fe.flipY),se.pixelStorei(37441,fe.premultiplyAlpha),se.pixelStorei(3317,fe.unpackAlignment),re.isDataTexture?se.texSubImage2D(3553,ne,U.x,U.y,me,et,lt,pt,re.image.data):re.isCompressedTexture?se.compressedTexSubImage2D(3553,ne,U.x,U.y,re.mipmaps[0].width,re.mipmaps[0].height,lt,re.mipmaps[0].data):se.texSubImage2D(3553,ne,U.x,U.y,lt,pt,re.image),ne===0&&fe.generateMipmaps&&se.generateMipmap(3553),be.unbindTexture()},this.copyTextureToTexture3D=function(U,re,fe,ne,me=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const et=U.max.x-U.min.x+1,lt=U.max.y-U.min.y+1,pt=U.max.z-U.min.z+1,dt=Te.convert(ne.format),Dt=Te.convert(ne.type);let xt;if(ne.isData3DTexture)ae.setTexture3D(ne,0),xt=32879;else if(ne.isDataArrayTexture)ae.setTexture2DArray(ne,0),xt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}se.pixelStorei(37440,ne.flipY),se.pixelStorei(37441,ne.premultiplyAlpha),se.pixelStorei(3317,ne.unpackAlignment);const Ct=se.getParameter(3314),sn=se.getParameter(32878),Co=se.getParameter(3316),Sa=se.getParameter(3315),Aa=se.getParameter(32877),Qr=fe.isCompressedTexture?fe.mipmaps[0]:fe.image;se.pixelStorei(3314,Qr.width),se.pixelStorei(32878,Qr.height),se.pixelStorei(3316,U.min.x),se.pixelStorei(3315,U.min.y),se.pixelStorei(32877,U.min.z),fe.isDataTexture||fe.isData3DTexture?se.texSubImage3D(xt,me,re.x,re.y,re.z,et,lt,pt,dt,Dt,Qr.data):fe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),se.compressedTexSubImage3D(xt,me,re.x,re.y,re.z,et,lt,pt,dt,Qr.data)):se.texSubImage3D(xt,me,re.x,re.y,re.z,et,lt,pt,dt,Dt,Qr),se.pixelStorei(3314,Ct),se.pixelStorei(32878,sn),se.pixelStorei(3316,Co),se.pixelStorei(3315,Sa),se.pixelStorei(32877,Aa),me===0&&ne.generateMipmaps&&se.generateMipmap(xt),be.unbindTexture()},this.initTexture=function(U){U.isCubeTexture?ae.setTextureCube(U,0):U.isData3DTexture?ae.setTexture3D(U,0):U.isDataArrayTexture||U.isCompressedArrayTexture?ae.setTexture2DArray(U,0):ae.setTexture2D(U,0),be.unbindTexture()},this.resetState=function(){x=0,_=0,S=null,be.reset(),pe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class yO extends Jb{}yO.prototype.isWebGL1Renderer=!0;class a1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Me(e),this.density=t}clone(){return new a1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class l1{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Me(e),this.near=t,this.far=r}clone(){return new l1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class iv extends wt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class fm{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Rp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Di()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Di()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Di()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Nr=new F;class Al{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Nr.fromBufferAttribute(this,t),Nr.applyMatrix4(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Nr.fromBufferAttribute(this,t),Nr.applyNormalMatrix(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Nr.fromBufferAttribute(this,t),Nr.transformDirection(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}setX(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Kt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Zo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Zo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Zo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Zo(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array),i=Kt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Kt(t,this.array),r=Kt(r,this.array),i=Kt(i,this.array),s=Kt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new zt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Al(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Xb extends Kn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Me(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Wc;const lh=new F,jc=new F,$c=new F,Jc=new ye,uh=new ye,vO=new Le,y0=new F,ch=new F,v0=new F,X3=new ye,H_=new ye,K3=new ye;class xO extends wt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Wc===void 0){Wc=new ot;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new fm(t,5);Wc.setIndex([0,1,2,0,2,3]),Wc.setAttribute("position",new Al(r,3,0,!1)),Wc.setAttribute("uv",new Al(r,2,3,!1))}this.geometry=Wc,this.material=e!==void 0?e:new Xb,this.center=new ye(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),jc.setFromMatrixScale(this.matrixWorld),vO.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),$c.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&jc.multiplyScalar(-$c.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;x0(y0.set(-.5,-.5,0),$c,o,jc,i,s),x0(ch.set(.5,-.5,0),$c,o,jc,i,s),x0(v0.set(.5,.5,0),$c,o,jc,i,s),X3.set(0,0),H_.set(1,0),K3.set(1,1);let a=e.ray.intersectTriangle(y0,ch,v0,!1,lh);if(a===null&&(x0(ch.set(-.5,.5,0),$c,o,jc,i,s),H_.set(0,1),a=e.ray.intersectTriangle(y0,v0,ch,!1,lh),a===null))return;const l=e.ray.origin.distanceTo(lh);l<e.near||l>e.far||t.push({distance:l,point:lh.clone(),uv:fs.getUV(lh,y0,ch,v0,X3,H_,K3,new ye),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function x0(n,e,t,r,i,s){Jc.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(uh.x=s*Jc.x-i*Jc.y,uh.y=i*Jc.x+s*Jc.y):uh.copy(Jc),n.copy(e),n.x+=uh.x,n.y+=uh.y,n.applyMatrix4(vO)}const _0=new F,Y3=new F;class _O extends wt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){_0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(_0);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){_0.setFromMatrixPosition(e.matrixWorld),Y3.setFromMatrixPosition(this.matrixWorld);const r=_0.distanceTo(Y3)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const Q3=new F,q3=new At,Z3=new At,c$=new F,eP=new Le;class u1 extends Xn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Le,this.bindMatrixInverse=new Le}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new At,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;q3.fromBufferAttribute(i.attributes.skinIndex,e),Z3.fromBufferAttribute(i.attributes.skinWeight,e),Q3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Z3.getComponent(s);if(o!==0){const a=q3.getComponent(s);eP.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(c$.copy(Q3).applyMatrix4(eP),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class rd extends wt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Of extends fn{constructor(e=null,t=1,r=1,i,s,o,a,l,u=Un,c=Un,f,h){super(null,o,a,l,u,c,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const tP=new Le,f$=new Le;class _d{constructor(e=[],t=[]){this.uuid=Di(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Le)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Le;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:f$;tP.multiplyMatrices(a,t[s]),tP.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new _d(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=rO(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Of(t,e,e,oi,qo);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new rd),this.bones.push(o),this.boneInverses.push(new Le().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class id extends zt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const nP=new Le,rP=new Le,w0=[],d$=new Le,fh=new Xn;class Kb extends Xn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new id(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,d$)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(fh.geometry=this.geometry,fh.material=this.material,fh.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,nP),rP.multiplyMatrices(r,nP),fh.matrixWorld=rP,fh.raycast(e,w0);for(let o=0,a=w0.length;o<a;o++){const l=w0[o];l.instanceId=s,l.object=this,t.push(l)}w0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new id(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class _r extends Kn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Me(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const iP=new F,sP=new F,oP=new Le,V_=new lm,S0=new Ll;class Ao extends wt{constructor(e=new ot,t=new _r){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)iP.fromBufferAttribute(t,i-1),sP.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=iP.distanceTo(sP);e.setAttribute("lineDistance",new ke(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),S0.copy(r.boundingSphere),S0.applyMatrix4(i),S0.radius+=s,e.ray.intersectsSphere(S0)===!1)return;oP.copy(i).invert(),V_.copy(e.ray).applyMatrix4(oP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new F,c=new F,f=new F,h=new F,m=this.isLineSegments?2:1,g=r.index,v=r.attributes.position;if(g!==null){const x=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let S=x,M=_-1;S<M;S+=m){const C=g.getX(S),T=g.getX(S+1);if(u.fromBufferAttribute(v,C),c.fromBufferAttribute(v,T),V_.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||t.push({distance:b,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let S=x,M=_-1;S<M;S+=m){if(u.fromBufferAttribute(v,S),c.fromBufferAttribute(v,S+1),V_.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(h);T<e.near||T>e.far||t.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const aP=new F,lP=new F;class Js extends Ao{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)aP.fromBufferAttribute(t,i),lP.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+aP.distanceTo(lP);e.setAttribute("lineDistance",new ke(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Yb extends Ao{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class c1 extends Kn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Me(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const uP=new Le,MA=new lm,A0=new Ll,M0=new F;class Qb extends wt{constructor(e=new ot,t=new c1){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),A0.copy(r.boundingSphere),A0.applyMatrix4(i),A0.radius+=s,e.ray.intersectsSphere(A0)===!1)return;uP.copy(i).invert(),MA.copy(e.ray).applyMatrix4(uP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=h,y=m;g<y;g++){const v=u.getX(g);M0.fromBufferAttribute(f,v),cP(M0,v,l,i,e,t,this)}}else{const h=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=h,y=m;g<y;g++)M0.fromBufferAttribute(f,g),cP(M0,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function cP(n,e,t,r,i,s,o){const a=MA.distanceSqToPoint(n);if(a<t){const l=new F;MA.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class h$ extends fn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:vn,this.magFilter=s!==void 0?s:vn,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class p$ extends fn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Un,this.minFilter=Un,this.generateMipmaps=!1,this.needsUpdate=!0}}class qb extends fn{constructor(e,t,r,i,s,o,a,l,u,c,f,h){super(null,o,a,l,u,c,i,s,f,h),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class m$ extends qb{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Zn}}class g$ extends fn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class As{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],h=r[i+1]-c,m=(o-c)/h;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new ye:new F);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new F,i=[],s=[],o=[],a=new F,l=new Le;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new F)}s[0]=new F,o[0]=new F;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Gn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Gn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class f1 extends As{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new ye,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,m=u-this.aY;l=h*c-m*f+this.aX,u=h*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class wO extends f1{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Zb(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let h=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+f)+(l-a)/f;h*=c,m*=c,i(o,a,h,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const b0=new F,W_=new Zb,j_=new Zb,$_=new Zb;class SO extends As{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new F){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(b0.subVectors(i[0],i[1]).add(i[0]),u=b0);const f=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(b0.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=b0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(h),m),v=Math.pow(h.distanceToSquared(c),m);y<1e-4&&(y=1),g<1e-4&&(g=y),v<1e-4&&(v=y),W_.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,g,y,v),j_.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,g,y,v),$_.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,g,y,v)}else this.curveType==="catmullrom"&&(W_.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),j_.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),$_.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(W_.calc(l),j_.calc(l),$_.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new F().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function fP(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function y$(n,e){const t=1-n;return t*t*e}function v$(n,e){return 2*(1-n)*n*e}function x$(n,e){return n*n*e}function Jh(n,e,t,r){return y$(n,e)+v$(n,t)+x$(n,r)}function _$(n,e){const t=1-n;return t*t*t*e}function w$(n,e){const t=1-n;return 3*t*t*n*e}function S$(n,e){return 3*(1-n)*n*n*e}function A$(n,e){return n*n*n*e}function Xh(n,e,t,r,i){return _$(n,e)+w$(n,t)+S$(n,r)+A$(n,i)}class eC extends As{constructor(e=new ye,t=new ye,r=new ye,i=new ye){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ye){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Xh(e,i.x,s.x,o.x,a.x),Xh(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class AO extends As{constructor(e=new F,t=new F,r=new F,i=new F){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new F){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Xh(e,i.x,s.x,o.x,a.x),Xh(e,i.y,s.y,o.y,a.y),Xh(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class d1 extends As{constructor(e=new ye,t=new ye){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ye){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new ye;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MO extends As{constructor(e=new F,t=new F){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new F){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tC extends As{constructor(e=new ye,t=new ye,r=new ye){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ye){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Jh(e,i.x,s.x,o.x),Jh(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nC extends As{constructor(e=new F,t=new F,r=new F){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new F){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Jh(e,i.x,s.x,o.x),Jh(e,i.y,s.y,o.y),Jh(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rC extends As{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ye){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(fP(a,l.x,u.x,c.x,f.x),fP(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ye().fromArray(i))}return this}}var iC=Object.freeze({__proto__:null,ArcCurve:wO,CatmullRomCurve3:SO,CubicBezierCurve:eC,CubicBezierCurve3:AO,EllipseCurve:f1,LineCurve:d1,LineCurve3:MO,QuadraticBezierCurve:tC,QuadraticBezierCurve3:nC,SplineCurve:rC});class bO extends As{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new d1(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new iC[i.type]().fromJSON(i))}return this}}class Ip extends bO{constructor(e){super(),this.type="Path",this.currentPoint=new ye,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new d1(this.currentPoint.clone(),new ye(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new tC(this.currentPoint.clone(),new ye(e,t),new ye(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new eC(this.currentPoint.clone(),new ye(e,t),new ye(r,i),new ye(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new rC(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new f1(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class wd extends ot{constructor(e=[new ye(0,-.5),new ye(.5,0),new ye(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Gn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/t,f=new F,h=new ye,m=new F,g=new F,y=new F;let v=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:v=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-v,m.z=x*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:v=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-v,m.z=x*0,g.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(g)}for(let _=0;_<=t;_++){const S=r+_*c*i,M=Math.sin(S),C=Math.cos(S);for(let T=0;T<=e.length-1;T++){f.x=e[T].x*M,f.y=e[T].y,f.z=e[T].x*C,o.push(f.x,f.y,f.z),h.x=_/t,h.y=T/(e.length-1),a.push(h.x,h.y);const R=l[3*T+0]*M,b=l[3*T+1],B=l[3*T+0]*C;u.push(R,b,B)}}for(let _=0;_<t;_++)for(let S=0;S<e.length-1;S++){const M=S+_*e.length,C=M,T=M+e.length,R=M+e.length+1,b=M+1;s.push(C,T,b),s.push(R,b,T)}this.setIndex(s),this.setAttribute("position",new ke(o,3)),this.setAttribute("uv",new ke(a,2)),this.setAttribute("normal",new ke(u,3))}static fromJSON(e){return new wd(e.points,e.segments,e.phiStart,e.phiLength)}}class dm extends wd{constructor(e=1,t=1,r=4,i=8){const s=new Ip;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new dm(e.radius,e.length,e.capSegments,e.radialSegments)}}class hm extends ot{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new F,c=new ye;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=t;f++,h+=3){const m=r+f/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new ke(o,3)),this.setAttribute("normal",new ke(a,3)),this.setAttribute("uv",new ke(l,2))}static fromJSON(e){return new hm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class cc extends ot{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],h=[],m=[];let g=0;const y=[],v=r/2;let x=0;_(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(c),this.setAttribute("position",new ke(f,3)),this.setAttribute("normal",new ke(h,3)),this.setAttribute("uv",new ke(m,2));function _(){const M=new F,C=new F;let T=0;const R=(t-e)/r;for(let b=0;b<=s;b++){const B=[],I=b/s,k=I*(t-e)+e;for(let j=0;j<=i;j++){const G=j/i,N=G*l+a,$=Math.sin(N),X=Math.cos(N);C.x=k*$,C.y=-I*r+v,C.z=k*X,f.push(C.x,C.y,C.z),M.set($,R,X).normalize(),h.push(M.x,M.y,M.z),m.push(G,1-I),B.push(g++)}y.push(B)}for(let b=0;b<i;b++)for(let B=0;B<s;B++){const I=y[B][b],k=y[B+1][b],j=y[B+1][b+1],G=y[B][b+1];c.push(I,k,G),c.push(k,j,G),T+=6}u.addGroup(x,T,0),x+=T}function S(M){const C=g,T=new ye,R=new F;let b=0;const B=M===!0?e:t,I=M===!0?1:-1;for(let j=1;j<=i;j++)f.push(0,v*I,0),h.push(0,I,0),m.push(.5,.5),g++;const k=g;for(let j=0;j<=i;j++){const N=j/i*l+a,$=Math.cos(N),X=Math.sin(N);R.x=B*X,R.y=v*I,R.z=B*$,f.push(R.x,R.y,R.z),h.push(0,I,0),T.x=$*.5+.5,T.y=X*.5*I+.5,m.push(T.x,T.y),g++}for(let j=0;j<i;j++){const G=C+j,N=k+j;M===!0?c.push(N,N+1,G):c.push(N+1,N,G),b+=3}u.addGroup(x,b,M===!0?1:2),x+=b}}static fromJSON(e){return new cc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pm extends cc{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new pm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class xa extends ot{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new ke(s,3)),this.setAttribute("normal",new ke(s.slice(),3)),this.setAttribute("uv",new ke(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const S=new F,M=new F,C=new F;for(let T=0;T<t.length;T+=3)m(t[T+0],S),m(t[T+1],M),m(t[T+2],C),l(S,M,C,_)}function l(_,S,M,C){const T=C+1,R=[];for(let b=0;b<=T;b++){R[b]=[];const B=_.clone().lerp(M,b/T),I=S.clone().lerp(M,b/T),k=T-b;for(let j=0;j<=k;j++)j===0&&b===T?R[b][j]=B:R[b][j]=B.clone().lerp(I,j/k)}for(let b=0;b<T;b++)for(let B=0;B<2*(T-b)-1;B++){const I=Math.floor(B/2);B%2===0?(h(R[b][I+1]),h(R[b+1][I]),h(R[b][I])):(h(R[b][I+1]),h(R[b+1][I+1]),h(R[b+1][I]))}}function u(_){const S=new F;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(_),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function c(){const _=new F;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const M=v(_)/2/Math.PI+.5,C=x(_)/Math.PI+.5;o.push(M,1-C)}g(),f()}function f(){for(let _=0;_<o.length;_+=6){const S=o[_+0],M=o[_+2],C=o[_+4],T=Math.max(S,M,C),R=Math.min(S,M,C);T>.9&&R<.1&&(S<.2&&(o[_+0]+=1),M<.2&&(o[_+2]+=1),C<.2&&(o[_+4]+=1))}}function h(_){s.push(_.x,_.y,_.z)}function m(_,S){const M=_*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function g(){const _=new F,S=new F,M=new F,C=new F,T=new ye,R=new ye,b=new ye;for(let B=0,I=0;B<s.length;B+=9,I+=6){_.set(s[B+0],s[B+1],s[B+2]),S.set(s[B+3],s[B+4],s[B+5]),M.set(s[B+6],s[B+7],s[B+8]),T.set(o[I+0],o[I+1]),R.set(o[I+2],o[I+3]),b.set(o[I+4],o[I+5]),C.copy(_).add(S).add(M).divideScalar(3);const k=v(C);y(T,I+0,_,k),y(R,I+2,S,k),y(b,I+4,M,k)}}function y(_,S,M,C){C<0&&_.x===1&&(o[S]=_.x-1),M.x===0&&M.z===0&&(o[S]=C/2/Math.PI+.5)}function v(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new xa(e.vertices,e.indices,e.radius,e.details)}}class mm extends xa{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mm(e.radius,e.detail)}}const C0=new F,E0=new F,J_=new F,T0=new fs;class CO extends ot{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Lu*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:y,b:v,c:x}=T0;if(y.fromBufferAttribute(a,u[0]),v.fromBufferAttribute(a,u[1]),x.fromBufferAttribute(a,u[2]),T0.getNormal(J_),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const S=(_+1)%3,M=f[_],C=f[S],T=T0[c[_]],R=T0[c[S]],b=`${M}_${C}`,B=`${C}_${M}`;B in h&&h[B]?(J_.dot(h[B].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(R.x,R.y,R.z)),h[B]=null):b in h||(h[b]={index0:u[_],index1:u[S],normal:J_.clone()})}}for(const g in h)if(h[g]){const{index0:y,index1:v}=h[g];C0.fromBufferAttribute(a,y),E0.fromBufferAttribute(a,v),m.push(C0.x,C0.y,C0.z),m.push(E0.x,E0.y,E0.z)}this.setAttribute("position",new ke(m,3))}}}class Ou extends Ip{constructor(e){super(e),this.uuid=Di(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Ip().fromJSON(i))}return this}}const M$={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=EO(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,h,m;if(r&&(s=P$(n,e,s,t)),n.length>80*t){a=u=n[0],l=c=n[1];for(let g=t;g<i;g+=t)f=n[g],h=n[g+1],f<a&&(a=f),h<l&&(l=h),f>u&&(u=f),h>c&&(c=h);m=Math.max(u-a,c-l),m=m!==0?32767/m:0}return Lp(s,o,t,a,l,m,0),o}};function EO(n,e,t,r,i){let s,o;if(i===U$(n,e,t,r)>0)for(s=e;s<t;s+=r)o=dP(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=dP(s,n[s],n[s+1],o);return o&&h1(o,o.next)&&(Fp(o),o=o.next),o}function Qu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(h1(t,t.next)||xn(t.prev,t,t.next)===0)){if(Fp(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Lp(n,e,t,r,i,s,o){if(!n)return;!o&&s&&L$(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?C$(n,r,i,s):b$(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),Fp(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=E$(Qu(n),e,t),Lp(n,e,t,r,i,s,2)):o===2&&T$(n,e,t,r,i,s):Lp(Qu(n),e,t,r,i,s,1);break}}}function b$(n){const e=n.prev,t=n,r=n.next;if(xn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,h=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=f&&g.y<=m&&Sf(i,a,s,l,o,u,g.x,g.y)&&xn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function C$(n,e,t,r){const i=n.prev,s=n,o=n.next;if(xn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,h=o.y,m=a<l?a<u?a:u:l<u?l:u,g=c<f?c<h?c:h:f<h?f:h,y=a>l?a>u?a:u:l>u?l:u,v=c>f?c>h?c:h:f>h?f:h,x=bA(m,g,e,t,r),_=bA(y,v,e,t,r);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=x&&M&&M.z<=_;){if(S.x>=m&&S.x<=y&&S.y>=g&&S.y<=v&&S!==i&&S!==o&&Sf(a,c,l,f,u,h,S.x,S.y)&&xn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=y&&M.y>=g&&M.y<=v&&M!==i&&M!==o&&Sf(a,c,l,f,u,h,M.x,M.y)&&xn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=x;){if(S.x>=m&&S.x<=y&&S.y>=g&&S.y<=v&&S!==i&&S!==o&&Sf(a,c,l,f,u,h,S.x,S.y)&&xn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=_;){if(M.x>=m&&M.x<=y&&M.y>=g&&M.y<=v&&M!==i&&M!==o&&Sf(a,c,l,f,u,h,M.x,M.y)&&xn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function E$(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!h1(i,s)&&TO(i,r,r.next,s)&&kp(i,s)&&kp(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Fp(r),Fp(r.next),r=n=s),r=r.next}while(r!==n);return Qu(r)}function T$(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&O$(o,a)){let l=PO(o,a);o=Qu(o,o.next),l=Qu(l,l.next),Lp(o,e,t,r,i,s,0),Lp(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function P$(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=EO(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(F$(u));for(i.sort(R$),s=0;s<i.length;s++)t=B$(i[s],t);return t}function R$(n,e){return n.x-e.x}function B$(n,e){const t=D$(n,e);if(!t)return e;const r=PO(t,n);return Qu(r,r.next),Qu(t,t.next)}function D$(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const h=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=s&&h>r&&(r=h,i=t.x<t.next.x?t:t.next,h===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&Sf(o<u?s:r,o,l,u,o<u?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),kp(t,n)&&(f<c||f===c&&(t.x>i.x||t.x===i.x&&I$(i,t)))&&(i=t,c=f)),t=t.next;while(t!==a);return i}function I$(n,e){return xn(n.prev,n,e.prev)<0&&xn(e.next,n,n.next)<0}function L$(n,e,t,r){let i=n;do i.z===0&&(i.z=bA(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,k$(i)}function k$(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function bA(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function F$(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Sf(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function O$(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!N$(n,e)&&(kp(n,e)&&kp(e,n)&&z$(n,e)&&(xn(n.prev,n,e.prev)||xn(n,e.prev,e))||h1(n,e)&&xn(n.prev,n,n.next)>0&&xn(e.prev,e,e.next)>0)}function xn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function h1(n,e){return n.x===e.x&&n.y===e.y}function TO(n,e,t,r){const i=R0(xn(n,e,t)),s=R0(xn(n,e,r)),o=R0(xn(t,r,n)),a=R0(xn(t,r,e));return!!(i!==s&&o!==a||i===0&&P0(n,t,e)||s===0&&P0(n,r,e)||o===0&&P0(t,n,r)||a===0&&P0(t,e,r))}function P0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function R0(n){return n>0?1:n<0?-1:0}function N$(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&TO(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function kp(n,e){return xn(n.prev,n,n.next)<0?xn(n,e,n.next)>=0&&xn(n,n.prev,e)>=0:xn(n,e,n.prev)<0||xn(n,n.next,e)<0}function z$(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function PO(n,e){const t=new CA(n.i,n.x,n.y),r=new CA(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function dP(n,e,t,r){const i=new CA(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Fp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function CA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function U$(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class vo{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return vo.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];hP(e),pP(r,e);let o=e.length;t.forEach(hP);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,pP(r,t[l]);const a=M$.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function hP(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function pP(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class gm extends ot{constructor(e=new Ou([new ye(.5,.5),new ye(-.5,.5),new ye(-.5,-.5),new ye(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new ke(i,3)),this.setAttribute("uv",new ke(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:G$;let S,M=!1,C,T,R,b;x&&(S=x.getSpacedPoints(c),M=!0,h=!1,C=x.computeFrenetFrames(c,!1),T=new F,R=new F,b=new F),h||(v=0,m=0,g=0,y=0);const B=a.extractPoints(u);let I=B.shape;const k=B.holes;if(!vo.isClockWise(I)){I=I.reverse();for(let he=0,ae=k.length;he<ae;he++){const Ae=k[he];vo.isClockWise(Ae)&&(k[he]=Ae.reverse())}}const G=vo.triangulateShape(I,k),N=I;for(let he=0,ae=k.length;he<ae;he++){const Ae=k[he];I=I.concat(Ae)}function $(he,ae,Ae){return ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),ae.clone().multiplyScalar(Ae).add(he)}const X=I.length,te=G.length;function O(he,ae,Ae){let Fe,Ee,at;const rt=he.x-ae.x,Qe=he.y-ae.y,Tt=Ae.x-he.x,Lt=Ae.y-he.y,W=rt*rt+Qe*Qe,L=rt*Lt-Qe*Tt;if(Math.abs(L)>Number.EPSILON){const q=Math.sqrt(W),ve=Math.sqrt(Tt*Tt+Lt*Lt),xe=ae.x-Qe/q,Ce=ae.y+rt/q,qe=Ae.x-Lt/ve,Te=Ae.y+Tt/ve,pe=((qe-xe)*Lt-(Te-Ce)*Tt)/(rt*Lt-Qe*Tt);Fe=xe+rt*pe-he.x,Ee=Ce+Qe*pe-he.y;const We=Fe*Fe+Ee*Ee;if(We<=2)return new ye(Fe,Ee);at=Math.sqrt(We/2)}else{let q=!1;rt>Number.EPSILON?Tt>Number.EPSILON&&(q=!0):rt<-Number.EPSILON?Tt<-Number.EPSILON&&(q=!0):Math.sign(Qe)===Math.sign(Lt)&&(q=!0),q?(Fe=-Qe,Ee=rt,at=Math.sqrt(W)):(Fe=rt,Ee=Qe,at=Math.sqrt(W/2))}return new ye(Fe/at,Ee/at)}const z=[];for(let he=0,ae=N.length,Ae=ae-1,Fe=he+1;he<ae;he++,Ae++,Fe++)Ae===ae&&(Ae=0),Fe===ae&&(Fe=0),z[he]=O(N[he],N[Ae],N[Fe]);const H=[];let K,ee=z.concat();for(let he=0,ae=k.length;he<ae;he++){const Ae=k[he];K=[];for(let Fe=0,Ee=Ae.length,at=Ee-1,rt=Fe+1;Fe<Ee;Fe++,at++,rt++)at===Ee&&(at=0),rt===Ee&&(rt=0),K[Fe]=O(Ae[Fe],Ae[at],Ae[rt]);H.push(K),ee=ee.concat(K)}for(let he=0;he<v;he++){const ae=he/v,Ae=m*Math.cos(ae*Math.PI/2),Fe=g*Math.sin(ae*Math.PI/2)+y;for(let Ee=0,at=N.length;Ee<at;Ee++){const rt=$(N[Ee],z[Ee],Fe);He(rt.x,rt.y,-Ae)}for(let Ee=0,at=k.length;Ee<at;Ee++){const rt=k[Ee];K=H[Ee];for(let Qe=0,Tt=rt.length;Qe<Tt;Qe++){const Lt=$(rt[Qe],K[Qe],Fe);He(Lt.x,Lt.y,-Ae)}}}const ce=g+y;for(let he=0;he<X;he++){const ae=h?$(I[he],ee[he],ce):I[he];M?(R.copy(C.normals[0]).multiplyScalar(ae.x),T.copy(C.binormals[0]).multiplyScalar(ae.y),b.copy(S[0]).add(R).add(T),He(b.x,b.y,b.z)):He(ae.x,ae.y,0)}for(let he=1;he<=c;he++)for(let ae=0;ae<X;ae++){const Ae=h?$(I[ae],ee[ae],ce):I[ae];M?(R.copy(C.normals[he]).multiplyScalar(Ae.x),T.copy(C.binormals[he]).multiplyScalar(Ae.y),b.copy(S[he]).add(R).add(T),He(b.x,b.y,b.z)):He(Ae.x,Ae.y,f/c*he)}for(let he=v-1;he>=0;he--){const ae=he/v,Ae=m*Math.cos(ae*Math.PI/2),Fe=g*Math.sin(ae*Math.PI/2)+y;for(let Ee=0,at=N.length;Ee<at;Ee++){const rt=$(N[Ee],z[Ee],Fe);He(rt.x,rt.y,f+Ae)}for(let Ee=0,at=k.length;Ee<at;Ee++){const rt=k[Ee];K=H[Ee];for(let Qe=0,Tt=rt.length;Qe<Tt;Qe++){const Lt=$(rt[Qe],K[Qe],Fe);M?He(Lt.x,Lt.y+S[c-1].y,S[c-1].x+Ae):He(Lt.x,Lt.y,f+Ae)}}}ge(),Re();function ge(){const he=i.length/3;if(h){let ae=0,Ae=X*ae;for(let Fe=0;Fe<te;Fe++){const Ee=G[Fe];Ge(Ee[2]+Ae,Ee[1]+Ae,Ee[0]+Ae)}ae=c+v*2,Ae=X*ae;for(let Fe=0;Fe<te;Fe++){const Ee=G[Fe];Ge(Ee[0]+Ae,Ee[1]+Ae,Ee[2]+Ae)}}else{for(let ae=0;ae<te;ae++){const Ae=G[ae];Ge(Ae[2],Ae[1],Ae[0])}for(let ae=0;ae<te;ae++){const Ae=G[ae];Ge(Ae[0]+X*c,Ae[1]+X*c,Ae[2]+X*c)}}r.addGroup(he,i.length/3-he,0)}function Re(){const he=i.length/3;let ae=0;se(N,ae),ae+=N.length;for(let Ae=0,Fe=k.length;Ae<Fe;Ae++){const Ee=k[Ae];se(Ee,ae),ae+=Ee.length}r.addGroup(he,i.length/3-he,1)}function se(he,ae){let Ae=he.length;for(;--Ae>=0;){const Fe=Ae;let Ee=Ae-1;Ee<0&&(Ee=he.length-1);for(let at=0,rt=c+v*2;at<rt;at++){const Qe=X*at,Tt=X*(at+1),Lt=ae+Fe+Qe,W=ae+Ee+Qe,L=ae+Ee+Tt,q=ae+Fe+Tt;Ke(Lt,W,L,q)}}}function He(he,ae,Ae){l.push(he),l.push(ae),l.push(Ae)}function Ge(he,ae,Ae){be(he),be(ae),be(Ae);const Fe=i.length/3,Ee=_.generateTopUV(r,i,Fe-3,Fe-2,Fe-1);Ve(Ee[0]),Ve(Ee[1]),Ve(Ee[2])}function Ke(he,ae,Ae,Fe){be(he),be(ae),be(Fe),be(ae),be(Ae),be(Fe);const Ee=i.length/3,at=_.generateSideWallUV(r,i,Ee-6,Ee-3,Ee-2,Ee-1);Ve(at[0]),Ve(at[1]),Ve(at[3]),Ve(at[1]),Ve(at[2]),Ve(at[3])}function be(he){i.push(l[he*3+0]),i.push(l[he*3+1]),i.push(l[he*3+2])}function Ve(he){s.push(he.x),s.push(he.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return H$(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new iC[i.type]().fromJSON(i)),new gm(r,e.options)}}const G$={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new ye(s,o),new ye(a,l),new ye(u,c)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[s*3],v=e[s*3+1],x=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new ye(o,1-l),new ye(u,1-f),new ye(h,1-g),new ye(y,1-x)]:[new ye(a,1-l),new ye(c,1-f),new ye(m,1-g),new ye(v,1-x)]}};function H$(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class ym extends xa{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ym(e.radius,e.detail)}}class Sd extends xa{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Sd(e.radius,e.detail)}}class vm extends ot{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const h=(t-e)/i,m=new F,g=new ye;for(let y=0;y<=i;y++){for(let v=0;v<=r;v++){const x=s+v/r*o;m.x=f*Math.cos(x),m.y=f*Math.sin(x),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,c.push(g.x,g.y)}f+=h}for(let y=0;y<i;y++){const v=y*(r+1);for(let x=0;x<r;x++){const _=x+v,S=_,M=_+r+1,C=_+r+2,T=_+1;a.push(S,M,T),a.push(M,C,T)}}this.setIndex(a),this.setAttribute("position",new ke(l,3)),this.setAttribute("normal",new ke(u,3)),this.setAttribute("uv",new ke(c,2))}static fromJSON(e){return new vm(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class xm extends ot{constructor(e=new Ou([new ye(0,.5),new ye(-.5,-.5),new ye(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new ke(i,3)),this.setAttribute("normal",new ke(s,3)),this.setAttribute("uv",new ke(o,2));function u(c){const f=i.length/3,h=c.extractPoints(t);let m=h.shape;const g=h.holes;vo.isClockWise(m)===!1&&(m=m.reverse());for(let v=0,x=g.length;v<x;v++){const _=g[v];vo.isClockWise(_)===!0&&(g[v]=_.reverse())}const y=vo.triangulateShape(m,g);for(let v=0,x=g.length;v<x;v++){const _=g[v];m=m.concat(_)}for(let v=0,x=m.length;v<x;v++){const _=m[v];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let v=0,x=y.length;v<x;v++){const _=y[v],S=_[0]+f,M=_[1]+f,C=_[2]+f;r.push(S,M,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return V$(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new xm(r,e.curveSegments)}}function V$(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Ad extends ot{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new F,h=new F,m=[],g=[],y=[],v=[];for(let x=0;x<=r;x++){const _=[],S=x/r;let M=0;x==0&&o==0?M=.5/t:x==r&&l==Math.PI&&(M=-.5/t);for(let C=0;C<=t;C++){const T=C/t;f.x=-e*Math.cos(i+T*s)*Math.sin(o+S*a),f.y=e*Math.cos(o+S*a),f.z=e*Math.sin(i+T*s)*Math.sin(o+S*a),g.push(f.x,f.y,f.z),h.copy(f).normalize(),y.push(h.x,h.y,h.z),v.push(T+M,1-S),_.push(u++)}c.push(_)}for(let x=0;x<r;x++)for(let _=0;_<t;_++){const S=c[x][_+1],M=c[x][_],C=c[x+1][_],T=c[x+1][_+1];(x!==0||o>0)&&m.push(S,M,T),(x!==r-1||l<Math.PI)&&m.push(M,C,T)}this.setIndex(m),this.setAttribute("position",new ke(g,3)),this.setAttribute("normal",new ke(y,3)),this.setAttribute("uv",new ke(v,2))}static fromJSON(e){return new Ad(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class _m extends xa{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _m(e.radius,e.detail)}}class wm extends ot{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new F,f=new F,h=new F;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const y=g/i*s,v=m/r*Math.PI*2;f.x=(e+t*Math.cos(v))*Math.cos(y),f.y=(e+t*Math.cos(v))*Math.sin(y),f.z=t*Math.sin(v),a.push(f.x,f.y,f.z),c.x=e*Math.cos(y),c.y=e*Math.sin(y),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const y=(i+1)*m+g-1,v=(i+1)*(m-1)+g-1,x=(i+1)*(m-1)+g,_=(i+1)*m+g;o.push(y,v,_),o.push(v,x,_)}this.setIndex(o),this.setAttribute("position",new ke(a,3)),this.setAttribute("normal",new ke(l,3)),this.setAttribute("uv",new ke(u,2))}static fromJSON(e){return new wm(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Sm extends ot{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new F,h=new F,m=new F,g=new F,y=new F,v=new F,x=new F;for(let S=0;S<=r;++S){const M=S/r*s*Math.PI*2;_(M,s,o,e,m),_(M+.01,s,o,e,g),v.subVectors(g,m),x.addVectors(g,m),y.crossVectors(v,x),x.crossVectors(y,v),y.normalize(),x.normalize();for(let C=0;C<=i;++C){const T=C/i*Math.PI*2,R=-t*Math.cos(T),b=t*Math.sin(T);f.x=m.x+(R*x.x+b*y.x),f.y=m.y+(R*x.y+b*y.y),f.z=m.z+(R*x.z+b*y.z),l.push(f.x,f.y,f.z),h.subVectors(f,m).normalize(),u.push(h.x,h.y,h.z),c.push(S/r),c.push(C/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const C=(i+1)*(S-1)+(M-1),T=(i+1)*S+(M-1),R=(i+1)*S+M,b=(i+1)*(S-1)+M;a.push(C,T,b),a.push(T,R,b)}this.setIndex(a),this.setAttribute("position",new ke(l,3)),this.setAttribute("normal",new ke(u,3)),this.setAttribute("uv",new ke(c,2));function _(S,M,C,T,R){const b=Math.cos(S),B=Math.sin(S),I=C/M*S,k=Math.cos(I);R.x=T*(2+k)*.5*b,R.y=T*(2+k)*B*.5,R.z=T*Math.sin(I)*.5}}static fromJSON(e){return new Sm(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Am extends ot{constructor(e=new nC(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,l=new F,u=new ye;let c=new F;const f=[],h=[],m=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new ke(f,3)),this.setAttribute("normal",new ke(h,3)),this.setAttribute("uv",new ke(m,2));function y(){for(let S=0;S<t;S++)v(S);v(s===!1?t:0),_(),x()}function v(S){c=e.getPointAt(S/t,c);const M=o.normals[S],C=o.binormals[S];for(let T=0;T<=i;T++){const R=T/i*Math.PI*2,b=Math.sin(R),B=-Math.cos(R);l.x=B*M.x+b*C.x,l.y=B*M.y+b*C.y,l.z=B*M.z+b*C.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function x(){for(let S=1;S<=t;S++)for(let M=1;M<=i;M++){const C=(i+1)*(S-1)+(M-1),T=(i+1)*S+(M-1),R=(i+1)*S+M,b=(i+1)*(S-1)+M;g.push(C,T,b),g.push(T,R,b)}}function _(){for(let S=0;S<=t;S++)for(let M=0;M<=i;M++)u.x=S/t,u.y=M/i,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Am(new iC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class RO extends ot{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,m=f.count;for(let g=h,y=h+m;g<y;g+=3)for(let v=0;v<3;v++){const x=a.getX(g+v),_=a.getX(g+(v+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,_),mP(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),mP(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new ke(t,3))}}}function mP(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var gP=Object.freeze({__proto__:null,BoxGeometry:kl,CapsuleGeometry:dm,CircleGeometry:hm,ConeGeometry:pm,CylinderGeometry:cc,DodecahedronGeometry:mm,EdgesGeometry:CO,ExtrudeGeometry:gm,IcosahedronGeometry:ym,LatheGeometry:wd,OctahedronGeometry:Sd,PlaneGeometry:lc,PolyhedronGeometry:xa,RingGeometry:vm,ShapeGeometry:xm,SphereGeometry:Ad,TetrahedronGeometry:_m,TorusGeometry:wm,TorusKnotGeometry:Sm,TubeGeometry:Am,WireframeGeometry:RO});class BO extends Kn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Me(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class DO extends ws{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Mm extends Kn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Me(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _a extends Mm{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Gn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Me(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Me(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Me(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Kh extends Kn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Me(16777215),this.specular=new Me(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=om,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class IO extends Kn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Me(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class LO extends Kn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class sC extends Kn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Me(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=om,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kO extends Kn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Me(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Dl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FO extends _r{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function os(n,e,t){return oC(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Cu(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function oC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function OO(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function EA(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function aC(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function W$(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],h=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<t||g>=r)){f.push(u.times[m]);for(let y=0;y<c;++y)h.push(u.values[m*c+y])}}f.length!==0&&(u.times=Cu(f,u.times.constructor),u.values=Cu(h,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function j$(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const g=a.times.length-1;let y;if(s<=a.times[0]){const x=c,_=f-c;y=os(a.values,x,_)}else if(s>=a.times[g]){const x=g*f+c,_=x+f-c;y=os(a.values,x,_)}else{const x=a.createInterpolant(),_=c,S=f-c;x.evaluate(s),y=os(x.resultBuffer,_,S)}l==="quaternion"&&new wn().fromArray(y).normalize().conjugate().toArray(y);const v=u.times.length;for(let x=0;x<v;++x){const _=x*m+h;if(l==="quaternion")wn.multiplyQuaternionsFlat(u.values,_,y,0,u.values,_);else{const S=m-h*2;for(let M=0;M<S;++M)u.values[_+M]-=y[M]}}}return n.blendMode=Ub,n}var $$=Object.freeze({__proto__:null,arraySlice:os,convertArray:Cu,isTypedArray:oC,getKeyframeOrder:OO,sortedArray:EA,flattenJSON:aC,subclip:W$,makeClipAdditive:j$});class Md{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class NO extends Md{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Au,endingEnd:Au}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Mu:s=e,a=2*t-r;break;case Pp:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Mu:o=e,l=2*r-t;break;case Pp:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),y=g*g,v=y*g,x=-h*v+2*h*y-h*g,_=(1+h)*v+(-1.5-2*h)*y+(-.5+h)*g+1,S=(-1-m)*v+(1.5+m)*y+.5*g,M=m*v-m*y;for(let C=0;C!==a;++C)s[C]=x*o[c+C]+_*o[u+C]+S*o[l+C]+M*o[f+C];return s}}class lC extends Md{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-t)/(i-t),f=1-c;for(let h=0;h!==a;++h)s[h]=o[u+h]*f+o[l+h]*c;return s}}class zO extends Md{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Xs{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Cu(t,this.TimeBufferType),this.values=Cu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Cu(e.times,Array),values:Cu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new zO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new lC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new NO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case td:t=this.InterpolantFactoryMethodDiscrete;break;case Yu:t=this.InterpolantFactoryMethodLinear;break;case wy:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return td;case this.InterpolantFactoryMethodLinear:return Yu;case this.InterpolantFactoryMethodSmooth:return wy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=os(r,s,o),this.values=os(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&oC(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=os(this.times),t=os(this.values),r=this.getValueSize(),i=this.getInterpolation()===wy,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,h=f-r,m=f+r;for(let g=0;g!==r;++g){const y=t[f+g];if(y!==t[h+g]||y!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,h=o*r;for(let m=0;m!==r;++m)t[h+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=os(e,0,o),this.values=os(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=os(this.times,0),t=os(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Xs.prototype.TimeBufferType=Float32Array;Xs.prototype.ValueBufferType=Float32Array;Xs.prototype.DefaultInterpolation=Yu;class fc extends Xs{}fc.prototype.ValueTypeName="bool";fc.prototype.ValueBufferType=Array;fc.prototype.DefaultInterpolation=td;fc.prototype.InterpolantFactoryMethodLinear=void 0;fc.prototype.InterpolantFactoryMethodSmooth=void 0;class uC extends Xs{}uC.prototype.ValueTypeName="color";class qu extends Xs{}qu.prototype.ValueTypeName="number";class UO extends Md{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let c=u+a;u!==c;u+=4)wn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class fa extends Xs{InterpolantFactoryMethodLinear(e){return new UO(this.times,this.values,this.getValueSize(),e)}}fa.prototype.ValueTypeName="quaternion";fa.prototype.DefaultInterpolation=Yu;fa.prototype.InterpolantFactoryMethodSmooth=void 0;class dc extends Xs{}dc.prototype.ValueTypeName="string";dc.prototype.ValueBufferType=Array;dc.prototype.DefaultInterpolation=td;dc.prototype.InterpolantFactoryMethodLinear=void 0;dc.prototype.InterpolantFactoryMethodSmooth=void 0;class Zu extends Xs{}Zu.prototype.ValueTypeName="vector";class ec{constructor(e,t=-1,r,i=t1){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Di(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(X$(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Xs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=OO(l);l=EA(l,1,c),u=EA(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new qu(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,m,g,y){if(m.length!==0){const v=[],x=[];aC(m,v,x,g),v.length!==0&&y.push(new f(h,v,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let y=0;y<h[g].morphTargets.length;y++)m[h[g].morphTargets[y]]=-1;for(const y in m){const v=[],x=[];for(let _=0;_!==h[g].morphTargets.length;++_){const S=h[g];v.push(S.time),x.push(S.morphTarget===y?1:0)}i.push(new qu(".morphTargetInfluence["+y+"]",v,x))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(Zu,m+".position",h,"pos",i),r(fa,m+".quaternion",h,"rot",i),r(Zu,m+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function J$(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return qu;case"vector":case"vector2":case"vector3":case"vector4":return Zu;case"color":return uC;case"quaternion":return fa;case"bool":case"boolean":return fc;case"string":return dc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function X$(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=J$(n.type);if(n.times===void 0){const t=[],r=[];aC(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const tc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class cC{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const m=u[f],g=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null}}}const GO=new cC;class Lr{constructor(e){this.manager=e!==void 0?e:GO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Uo={};class K$ extends Error{constructor(e,t){super(e),this.response=t}}class gi extends Lr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=tc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Uo[e]!==void 0){Uo[e].push({onLoad:t,onProgress:r,onError:i});return}Uo[e]=[],Uo[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Uo[e],f=u.body.getReader(),h=u.headers.get("Content-Length"),m=h?parseInt(h):0,g=m!==0;let y=0;const v=new ReadableStream({start(x){_();function _(){f.read().then(({done:S,value:M})=>{if(S)x.close();else{y+=M.byteLength;const C=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:m});for(let T=0,R=c.length;T<R;T++){const b=c[T];b.onProgress&&b.onProgress(C)}x.enqueue(M),_()}})}}});return new Response(v)}else throw new K$(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(h);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{tc.add(e,u);const c=Uo[e];delete Uo[e];for(let f=0,h=c.length;f<h;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=Uo[e];if(c===void 0)throw this.manager.itemError(e),u;delete Uo[e];for(let f=0,h=c.length;f<h;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Y$ extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new gi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=ec.parse(e[r]);t.push(i)}return t}}class Q$ extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new qb,l=new gi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const m=s.parse(h,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=vn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let y=0;y<h.mipmapCount;y++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+y]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=vn),a.format=h.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Op extends Lr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=tc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Dp("img");function l(){c(),tc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class q$ extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=new cm,o=new Op(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class Z$ extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Of,a=new gi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Zn,o.wrapT=u.wrapT!==void 0?u.wrapT:Zn,o.magFilter=u.magFilter!==void 0?u.magFilter:vn,o.minFilter=u.minFilter!==void 0?u.minFilter:vn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=ya),u.mipmapCount===1&&(o.minFilter=vn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class fC extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=new fn,o=new Op(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Fl extends wt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Me(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class HO extends Fl{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wt.DefaultUp),this.updateMatrix(),this.groundColor=new Me(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const X_=new Le,yP=new F,vP=new F;class dC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ye(512,512),this.map=null,this.mapPass=null,this.matrix=new Le,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new i1,this._frameExtents=new ye(1,1),this._viewportCount=1,this._viewports=[new At(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;yP.setFromMatrixPosition(e.matrixWorld),t.position.copy(yP),vP.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(vP),t.updateMatrixWorld(),X_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(X_),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(X_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class eJ extends dC{constructor(){super(new $n(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Bp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class p1 extends Fl{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wt.DefaultUp),this.updateMatrix(),this.target=new wt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new eJ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const xP=new Le,dh=new F,K_=new F;class tJ extends dC{constructor(){super(new $n(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ye(4,2),this._viewportCount=6,this._viewports=[new At(2,1,1,1),new At(0,1,1,1),new At(3,1,1,1),new At(1,1,1,1),new At(3,0,1,1),new At(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),dh.setFromMatrixPosition(e.matrixWorld),r.position.copy(dh),K_.copy(r.position),K_.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(K_),r.updateMatrixWorld(),i.makeTranslation(-dh.x,-dh.y,-dh.z),xP.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xP)}}class Np extends Fl{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new tJ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class nJ extends dC{constructor(){super(new uc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class m1 extends Fl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wt.DefaultUp),this.updateMatrix(),this.target=new wt,this.shadow=new nJ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class hC extends Fl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class VO extends Fl{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class WO{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class g1 extends Fl{constructor(e=new WO,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class y1 extends Lr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new gi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=y1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Me().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Me().setHex(o.value);break;case"v2":i.uniforms[s].value=new ye().fromArray(o.value);break;case"v3":i.uniforms[s].value=new F().fromArray(o.value);break;case"v4":i.uniforms[s].value=new At().fromArray(o.value);break;case"m3":i.uniforms[s].value=new jr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Le().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ye().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ye().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:BO,SpriteMaterial:Xb,RawShaderMaterial:DO,ShaderMaterial:ws,PointsMaterial:c1,MeshPhysicalMaterial:_a,MeshStandardMaterial:Mm,MeshPhongMaterial:Kh,MeshToonMaterial:IO,MeshNormalMaterial:LO,MeshLambertMaterial:sC,MeshDepthMaterial:o1,MeshDistanceMaterial:$b,MeshBasicMaterial:Pi,MeshMatcapMaterial:kO,LineDashedMaterial:FO,LineBasicMaterial:_r,Material:Kn};return new t[e]}}class Ii{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class jO extends ot{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class $O extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new gi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const v=m.interleavedBuffers[g],x=s(m,v.buffer),_=_f(v.type,x),S=new fm(_,v.stride);return S.uuid=v.uuid,t[g]=S,S}function s(m,g){if(r[g]!==void 0)return r[g];const v=m.arrayBuffers[g],x=new Uint32Array(v).buffer;return r[g]=x,x}const o=e.isInstancedBufferGeometry?new jO:new ot,a=e.data.index;if(a!==void 0){const m=_f(a.type,a.array);o.setIndex(new zt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let y;if(g.isInterleavedBufferAttribute){const v=i(e.data,g.data);y=new Al(v,g.itemSize,g.offset,g.normalized)}else{const v=_f(g.type,g.array),x=g.isInstancedBufferAttribute?id:zt;y=new x(v,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),g.updateRange!==void 0&&(y.updateRange.offset=g.updateRange.offset,y.updateRange.count=g.updateRange.count),o.setAttribute(m,y)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],y=[];for(let v=0,x=g.length;v<x;v++){const _=g[v];let S;if(_.isInterleavedBufferAttribute){const M=i(e.data,_.data);S=new Al(M,_.itemSize,_.offset,_.normalized)}else{const M=_f(_.type,_.array);S=new zt(M,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),y.push(S)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const y=f[m];o.addGroup(y.start,y.count,y.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const m=new F;h.center!==void 0&&m.fromArray(h.center),o.boundingSphere=new Ll(m,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class rJ extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Ii.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new gi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Ii.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new gi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),t!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Ou().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new _d().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new $O;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in gP?a=gP[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new y1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=ec.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:_f(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new cC(t);s=new Op(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const m=[];for(let g=0,y=h.length;g<y;g++){const v=h[g],x=a(v);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new Of(x.data,x.width,x.height)))}i[f.uuid]=new bu(m)}else{const m=a(f.url);i[f.uuid]=new bu(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:_f(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Op(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const m=u[f],g=await s(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new Of(g.data,g.width,g.height)))}r[l.uuid]=new bu(c)}else{const c=await s(l.url);r[l.uuid]=new bu(c)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let c;Array.isArray(u)?(c=new cm,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Of:c=new fn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,iJ)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],_P),c.wrapT=r(a.wrap[1],_P)),a.format!==void 0&&(c.format=a.format),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,wP)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,wP)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,t,r,i,s){let o;function a(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let g=0,y=h.length;g<y;g++){const v=h[g];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),m.push(r[v])}return m}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":o=new iv,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Me(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new l1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new a1(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new $n(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new uc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new hC(e.color,e.intensity);break;case"DirectionalLight":o=new m1(e.color,e.intensity);break;case"PointLight":o=new Np(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new VO(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new p1(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new HO(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new g1().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new u1(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new Xn(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const h=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new Kb(c,f,h),o.instanceMatrix=new id(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new id(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new _O;break;case"Line":o=new Ao(a(e.geometry),l(e.material));break;case"LineLoop":o=new Yb(a(e.geometry),l(e.material));break;case"LineSegments":o=new Js(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Qb(a(e.geometry),l(e.material));break;case"Sprite":o=new xO(l(e.material));break;case"Group":o=new Ns;break;case"Bone":o=new rd;break;default:o=new wt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)o.add(this.parseObject(h[m],t,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const g=h[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const g=h[m],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const iJ={UVMapping:Zv,CubeReflectionMapping:_l,CubeRefractionMapping:wl,EquirectangularReflectionMapping:qf,EquirectangularRefractionMapping:Cp,CubeUVReflectionMapping:vd},_P={RepeatWrapping:So,ClampToEdgeWrapping:Zn,MirroredRepeatWrapping:Zf},wP={NearestFilter:Un,NearestMipmapNearestFilter:Ep,NearestMipmapLinearFilter:Tp,LinearFilter:vn,LinearMipmapNearestFilter:e1,LinearMipmapLinearFilter:ya};class JO extends Lr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=tc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){tc.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let B0;class pC{static getContext(){return B0===void 0&&(B0=new(window.AudioContext||window.webkitAudioContext)),B0}static setContext(e){B0=e}}class sJ extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new gi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);pC.getContext().decodeAudioData(l,function(c){t(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class oJ extends g1{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Me().set(e),s=new Me().set(t),o=new F(i.r,i.g,i.b),a=new F(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class aJ extends g1{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Me().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const SP=new Le,AP=new Le,eu=new Le;class lJ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new $n,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new $n,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,eu.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Lu*t.fov*.5)/t.zoom;let a,l;AP.elements[12]=-i,SP.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,eu.elements[0]=2*t.near/(l-a),eu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(eu),a=-o*t.aspect-s,l=o*t.aspect-s,eu.elements[0]=2*t.near/(l-a),eu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(eu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(AP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(SP)}}class mC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=MP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=MP();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function MP(){return(typeof performance>"u"?Date:performance).now()}const tu=new F,bP=new wn,uJ=new F,nu=new F;class cJ extends wt{constructor(){super(),this.type="AudioListener",this.context=pC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new mC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(tu,bP,uJ),nu.set(0,0,-1).applyQuaternion(bP),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(tu.x,i),t.positionY.linearRampToValueAtTime(tu.y,i),t.positionZ.linearRampToValueAtTime(tu.z,i),t.forwardX.linearRampToValueAtTime(nu.x,i),t.forwardY.linearRampToValueAtTime(nu.y,i),t.forwardZ.linearRampToValueAtTime(nu.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(tu.x,tu.y,tu.z),t.setOrientation(nu.x,nu.y,nu.z,r.x,r.y,r.z)}}class XO extends wt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ru=new F,CP=new wn,fJ=new F,iu=new F;class dJ extends XO{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ru,CP,fJ),iu.set(0,0,1).applyQuaternion(CP);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ru.x,r),t.positionY.linearRampToValueAtTime(ru.y,r),t.positionZ.linearRampToValueAtTime(ru.z,r),t.orientationX.linearRampToValueAtTime(iu.x,r),t.orientationY.linearRampToValueAtTime(iu.y,r),t.orientationZ.linearRampToValueAtTime(iu.z,r)}else t.setPosition(ru.x,ru.y,ru.z),t.setOrientation(iu.x,iu.y,iu.z)}}class hJ{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class KO{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){wn.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;wn.multiplyQuaternionsFlat(e,o,e,t,e,r),wn.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const gC="\\[\\]\\.:\\/",pJ=new RegExp("["+gC+"]","g"),yC="[^"+gC+"]",mJ="[^"+gC.replace("\\.","")+"]",gJ=/((?:WC+[\/:])*)/.source.replace("WC",yC),yJ=/(WCOD+)?/.source.replace("WCOD",mJ),vJ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",yC),xJ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",yC),_J=new RegExp("^"+gJ+yJ+vJ+xJ+"$"),wJ=["material","materials","bones","map"];class SJ{constructor(e,t,r){const i=r||_t.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class _t{constructor(e,t,r){this.path=t,this.parsedPath=r||_t.parseTrackName(t),this.node=_t.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new _t.Composite(e,t,r):new _t(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(pJ,"")}static parseTrackName(e){const t=_J.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);wJ.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=_t.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}_t.Composite=SJ;_t.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};_t.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};_t.prototype.GetterByBindingType=[_t.prototype._getValue_direct,_t.prototype._getValue_array,_t.prototype._getValue_arrayElement,_t.prototype._getValue_toArray];_t.prototype.SetterByBindingTypeAndVersioning=[[_t.prototype._setValue_direct,_t.prototype._setValue_direct_setNeedsUpdate,_t.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_array,_t.prototype._setValue_array_setNeedsUpdate,_t.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_arrayElement,_t.prototype._setValue_arrayElement_setNeedsUpdate,_t.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_t.prototype._setValue_fromArray,_t.prototype._setValue_fromArray_setNeedsUpdate,_t.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AJ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Di(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],m=h.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(h);for(let y=0,v=o;y!==v;++y)s[y].push(new _t(h,r[y],i[y]))}else if(g<u){a=e[g];const y=--u,v=e[y];t[v.uuid]=g,e[g]=v,t[m]=y,e[y]=h;for(let x=0,_=o;x!==_;++x){const S=s[x],M=S[y];let C=S[g];S[g]=M,C===void 0&&(C=new _t(h,r[x],i[x])),S[y]=C}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=t[u];if(c!==void 0&&c>=s){const f=s++,h=e[f];t[h.uuid]=c,e[c]=h,t[u]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const y=r[m],v=y[f],x=y[c];y[c]=v,y[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<s){const h=--s,m=e[h],g=--o,y=e[g];t[m.uuid]=f,e[f]=m,t[y.uuid]=h,e[h]=y,e.pop();for(let v=0,x=i;v!==x;++v){const _=r[v],S=_[h],M=_[g];_[f]=S,_[h]=M,_.pop()}}else{const h=--o,m=e[h];h>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let g=0,y=i;g!==y;++g){const v=r[g];v[f]=v[h],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let h=c,m=l.length;h!==m;++h){const g=l[h];f[h]=new _t(g,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class MJ{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Au,endingEnd:Au};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=YF,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Ub:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case t1:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===QF;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===KF){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Mu,i.endingEnd=Mu):(e?i.endingStart=this.zeroSlopeAtStart?Mu:Au:i.endingStart=Pp,t?i.endingEnd=this.zeroSlopeAtEnd?Mu:Au:i.endingEnd=Pp)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const bJ=new Float32Array(1);class YO extends va{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const h=i[f],m=h.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const y=t&&t._propertyBindings[f].binding.parsedPath;g=new KO(_t.create(r,m,y),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new lC(new Float32Array(2),new Float32Array(2),1,bJ),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?ec.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=t1),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new MJ(this,o,t,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?ec.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class vC{constructor(e){this.value=e}clone(){return new vC(this.value.clone===void 0?this.value:this.value.clone())}}let CJ=0;class EJ extends va{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:CJ++}),this.name="",this.usage=Rp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class TJ extends fm{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class PJ{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class QO{constructor(e,t,r=0,i=1/0){this.ray=new lm(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Fu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return TA(e,this,r,t),r.sort(EP),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)TA(e[i],this,r,t);return r.sort(EP),r}}function EP(n,e){return n.distance-e.distance}function TA(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)TA(i[s],e,t,!0)}}class qO{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Gn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class RJ{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const TP=new ye;class BJ{constructor(e=new ye(1/0,1/0),t=new ye(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=TP.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return TP.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const PP=new F,D0=new F;class DJ{constructor(e=new F,t=new F){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){PP.subVectors(e,this.start),D0.subVectors(this.end,this.start);const r=D0.dot(D0);let s=D0.dot(PP)/r;return t&&(s=Gn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const RP=new F;class IJ extends wt{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new ot,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new ke(i,3));const s=new _r({fog:!1,toneMapped:!1});this.cone=new Js(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),RP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(RP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ua=new F,I0=new Le,Y_=new Le;class LJ extends Js{constructor(e){const t=ZO(e),r=new ot,i=[],s=[],o=new Me(0,0,1),a=new Me(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new ke(i,3)),r.setAttribute("color",new ke(s,3));const l=new _r({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");Y_.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(I0.multiplyMatrices(Y_,a.matrixWorld),Ua.setFromMatrixPosition(I0),i.setXYZ(o,Ua.x,Ua.y,Ua.z),I0.multiplyMatrices(Y_,a.parent.matrixWorld),Ua.setFromMatrixPosition(I0),i.setXYZ(o+1,Ua.x,Ua.y,Ua.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function ZO(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,ZO(n.children[t]));return e}class kJ extends Xn{constructor(e,t,r){const i=new Ad(t,4,2),s=new Pi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const FJ=new F,BP=new Me,DP=new Me;class OJ extends wt{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Sd(t);i.rotateY(Math.PI*.5),this.material=new Pi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new zt(o,3)),this.add(new Xn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");BP.copy(this.light.color),DP.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?BP:DP;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(FJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class NJ extends Js{constructor(e=10,t=10,r=4473924,i=8947848){r=new Me(r),i=new Me(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let h=0,m=0,g=-a;h<=t;h++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const y=h===s?r:i;y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3}const c=new ot;c.setAttribute("position",new ke(l,3)),c.setAttribute("color",new ke(u,3));const f=new _r({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class zJ extends Js{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Me(s),o=new Me(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const h=f/t*(Math.PI*2),m=Math.sin(h)*e,g=Math.cos(h)*e;a.push(0,0,0),a.push(m,0,g);const y=f&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const h=f&1?s:o,m=e-e/r*f;for(let g=0;g<i;g++){let y=g/i*(Math.PI*2),v=Math.sin(y)*m,x=Math.cos(y)*m;a.push(v,0,x),l.push(h.r,h.g,h.b),y=(g+1)/i*(Math.PI*2),v=Math.sin(y)*m,x=Math.cos(y)*m,a.push(v,0,x),l.push(h.r,h.g,h.b)}}const u=new ot;u.setAttribute("position",new ke(a,3)),u.setAttribute("color",new ke(l,3));const c=new _r({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const IP=new F,L0=new F,LP=new F;class UJ extends wt{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new ot;i.setAttribute("position",new ke([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new _r({fog:!1,toneMapped:!1});this.lightPlane=new Ao(i,s),this.add(this.lightPlane),i=new ot,i.setAttribute("position",new ke([0,0,0,0,0,1],3)),this.targetLine=new Ao(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){IP.setFromMatrixPosition(this.light.matrixWorld),L0.setFromMatrixPosition(this.light.target.matrixWorld),LP.subVectors(L0,IP),this.lightPlane.lookAt(L0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(L0),this.targetLine.scale.z=LP.length()}}const k0=new F,En=new um;class GJ extends Js{constructor(e){const t=new ot,r=new _r({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,y){l(g),l(y)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new ke(i,3)),t.setAttribute("color",new ke(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Me(16755200),c=new Me(16711680),f=new Me(43775),h=new Me(16777215),m=new Me(3355443);this.setColors(u,c,f,h,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;En.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),kn("c",t,e,En,0,0,-1),kn("t",t,e,En,0,0,1),kn("n1",t,e,En,-r,-i,-1),kn("n2",t,e,En,r,-i,-1),kn("n3",t,e,En,-r,i,-1),kn("n4",t,e,En,r,i,-1),kn("f1",t,e,En,-r,-i,1),kn("f2",t,e,En,r,-i,1),kn("f3",t,e,En,-r,i,1),kn("f4",t,e,En,r,i,1),kn("u1",t,e,En,r*.7,i*1.1,-1),kn("u2",t,e,En,-r*.7,i*1.1,-1),kn("u3",t,e,En,0,i*2,-1),kn("cf1",t,e,En,-r,0,1),kn("cf2",t,e,En,r,0,1),kn("cf3",t,e,En,0,-i,1),kn("cf4",t,e,En,0,i,1),kn("cn1",t,e,En,-r,0,-1),kn("cn2",t,e,En,r,0,-1),kn("cn3",t,e,En,0,-i,-1),kn("cn4",t,e,En,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function kn(n,e,t,r,i,s,o){k0.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],k0.x,k0.y,k0.z)}}const F0=new Il;class HJ extends Js{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new ot;s.setIndex(new zt(r,1)),s.setAttribute("position",new zt(i,3)),super(s,new _r({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&F0.setFromObject(this.object),F0.isEmpty())return;const t=F0.min,r=F0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class VJ extends Js{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ot;s.setIndex(new zt(r,1)),s.setAttribute("position",new ke(i,3)),super(s,new _r({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class WJ extends Ao{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ot;o.setAttribute("position",new ke(s,3)),o.computeBoundingSphere(),super(o,new _r({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ot;l.setAttribute("position",new ke(a,3)),l.computeBoundingSphere(),this.add(new Xn(l,new Pi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const kP=new F;let O0,Q_;class jJ extends wt{constructor(e=new F(0,0,1),t=new F(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",O0===void 0&&(O0=new ot,O0.setAttribute("position",new ke([0,0,0,0,1,0],3)),Q_=new cc(0,.5,1,5,1),Q_.translate(0,-.5,0)),this.position.copy(t),this.line=new Ao(O0,new _r({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Xn(Q_,new Pi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{kP.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(kP,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class $J extends Js{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new ot;i.setAttribute("position",new ke(t,3)),i.setAttribute("color",new ke(r,3));const s=new _r({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Me,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class JJ{constructor(){this.type="ShapePath",this.color=new Me,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ip,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const _=[];for(let S=0,M=x.length;S<M;S++){const C=x[S],T=new Ou;T.curves=C.curves,_.push(T)}return _}function r(x,_){const S=_.length;let M=!1;for(let C=S-1,T=0;T<S;C=T++){let R=_[C],b=_[T],B=b.x-R.x,I=b.y-R.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(R=_[T],B=-B,b=_[C],I=-I),x.y<R.y||x.y>b.y)continue;if(x.y===R.y){if(x.x===R.x)return!0}else{const k=I*(x.x-R.x)-B*(x.y-R.y);if(k===0)return!0;if(k<0)continue;M=!M}}else{if(x.y!==R.y)continue;if(b.x<=x.x&&x.x<=R.x||R.x<=x.x&&x.x<=b.x)return!0}}return M}const i=vo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Ou,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],h=[];let m=[],g=0,y;h[g]=void 0,m[g]=[];for(let x=0,_=s.length;x<_;x++)a=s[x],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!c&&h[g]&&g++,h[g]={s:new Ou,p:y},h[g].s.curves=a.curves,c&&g++,m[g]=[]):m[g].push({h:a,p:y[0]});if(!h[0])return t(s);if(h.length>1){let x=!1,_=0;for(let S=0,M=h.length;S<M;S++)f[S]=[];for(let S=0,M=h.length;S<M;S++){const C=m[S];for(let T=0;T<C.length;T++){const R=C[T];let b=!0;for(let B=0;B<h.length;B++)r(R.p,h[B].p)&&(S!==B&&_++,b?(b=!1,f[B].push(R)):x=!0);b&&f[S].push(R)}}_>0&&x===!1&&(m=f)}let v;for(let x=0,_=h.length;x<_;x++){l=h[x].s,u.push(l),v=m[x];for(let S=0,M=v.length;S<M;S++)l.holes.push(v[S].h)}return u}}const Jo=XJ();function XJ(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function KJ(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Gn(n,-65504,65504),Jo.floatView[0]=n;const e=Jo.uint32View[0],t=e>>23&511;return Jo.baseTable[t]+((e&8388607)>>Jo.shiftTable[t])}function YJ(n){const e=n>>10;return Jo.uint32View[0]=Jo.mantissaTable[Jo.offsetTable[e]+(n&1023)]+Jo.exponentTable[e],Jo.floatView[0]}var QJ=Object.freeze({__proto__:null,toHalfFloat:KJ,fromHalfFloat:YJ});function qJ(){console.error("THREE.ImmediateRenderObject has been removed.")}class ZJ extends mi{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class eX extends am{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class tX extends n1{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class nX extends kl{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class rX extends dm{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class iX extends hm{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class sX extends pm{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class oX extends cc{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class aX extends mm{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class lX extends gm{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class uX extends ym{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class cX extends wd{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class fX extends Sd{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class dX extends lc{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class hX extends xa{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class pX extends vm{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class mX extends xm{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class gX extends Ad{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class yX extends _m{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class vX extends wm{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class xX extends Sm{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class _X extends Am{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:sm}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=sm);const wX=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Nb,AddEquation:gu,AddOperation:PF,AdditiveAnimationBlendMode:Ub,AdditiveBlending:XS,AlphaFormat:zF,AlwaysDepth:SF,AlwaysStencilFunc:nO,AmbientLight:hC,AmbientLightProbe:aJ,AnimationClip:ec,AnimationLoader:Y$,AnimationMixer:YO,AnimationObjectGroup:AJ,AnimationUtils:$$,ArcCurve:wO,ArrayCamera:mO,ArrowHelper:jJ,Audio:XO,AudioAnalyser:hJ,AudioContext:pC,AudioListener:cJ,AudioLoader:sJ,AxesHelper:$J,BackSide:Bi,BasicDepthPacking:ZF,BasicShadowMap:lF,Bone:rd,BooleanKeyframeTrack:fc,Box2:BJ,Box3:Il,Box3Helper:VJ,BoxBufferGeometry:nX,BoxGeometry:kl,BoxHelper:HJ,BufferAttribute:zt,BufferGeometry:ot,BufferGeometryLoader:$O,ByteType:LF,Cache:tc,Camera:um,CameraHelper:GJ,CanvasTexture:g$,CapsuleBufferGeometry:rX,CapsuleGeometry:dm,CatmullRomCurve3:SO,CineonToneMapping:DF,CircleBufferGeometry:iX,CircleGeometry:hm,ClampToEdgeWrapping:Zn,Clock:mC,Color:Me,ColorKeyframeTrack:uC,ColorManagement:ns,CompressedArrayTexture:m$,CompressedTexture:qb,CompressedTextureLoader:Q$,ConeBufferGeometry:sX,ConeGeometry:pm,CubeCamera:aO,CubeReflectionMapping:_l,CubeRefractionMapping:wl,CubeTexture:cm,CubeTextureLoader:q$,CubeUVReflectionMapping:vd,CubicBezierCurve:eC,CubicBezierCurve3:AO,CubicInterpolant:NO,CullFaceBack:JS,CullFaceFront:aF,CullFaceFrontBack:SG,CullFaceNone:oF,Curve:As,CurvePath:bO,CustomBlending:uF,CustomToneMapping:IF,CylinderBufferGeometry:oX,CylinderGeometry:cc,Cylindrical:RJ,Data3DTexture:n1,DataArrayTexture:am,DataTexture:Of,DataTexture2DArray:eX,DataTexture3D:tX,DataTextureLoader:Z$,DataUtils:QJ,DecrementStencilOp:BG,DecrementWrapStencilOp:IG,DefaultLoadingManager:GO,DepthFormat:pl,DepthStencilFormat:Ku,DepthTexture:gO,DirectionalLight:m1,DirectionalLightHelper:UJ,DiscreteInterpolant:zO,DodecahedronBufferGeometry:aX,DodecahedronGeometry:mm,DoubleSide:po,DstAlphaFactor:gF,DstColorFactor:vF,DynamicCopyUsage:XG,DynamicDrawUsage:HG,DynamicReadUsage:jG,EdgesGeometry:CO,EllipseCurve:f1,EqualDepth:MF,EqualStencilFunc:OG,EquirectangularReflectionMapping:qf,EquirectangularRefractionMapping:Cp,Euler:Ti,EventDispatcher:va,ExtrudeBufferGeometry:lX,ExtrudeGeometry:gm,FileLoader:gi,Float16BufferAttribute:TH,Float32BufferAttribute:ke,Float64BufferAttribute:PH,FloatType:qo,Fog:l1,FogExp2:a1,FramebufferTexture:p$,FrontSide:xl,Frustum:i1,GLBufferAttribute:PJ,GLSL1:YG,GLSL3:_A,GreaterDepth:CF,GreaterEqualDepth:bF,GreaterEqualStencilFunc:GG,GreaterStencilFunc:zG,GridHelper:NJ,Group:Ns,HalfFloatType:ed,HemisphereLight:HO,HemisphereLightHelper:OJ,HemisphereLightProbe:oJ,IcosahedronBufferGeometry:uX,IcosahedronGeometry:ym,ImageBitmapLoader:JO,ImageLoader:Op,ImageUtils:Vb,ImmediateRenderObject:qJ,IncrementStencilOp:RG,IncrementWrapStencilOp:DG,InstancedBufferAttribute:id,InstancedBufferGeometry:jO,InstancedInterleavedBuffer:TJ,InstancedMesh:Kb,Int16BufferAttribute:CH,Int32BufferAttribute:EH,Int8BufferAttribute:AH,IntType:FF,InterleavedBuffer:fm,InterleavedBufferAttribute:Al,Interpolant:Md,InterpolateDiscrete:td,InterpolateLinear:Yu,InterpolateSmooth:wy,InvertStencilOp:LG,KeepStencilOp:Sy,KeyframeTrack:Xs,LOD:_O,LatheBufferGeometry:cX,LatheGeometry:wd,Layers:Fu,LessDepth:AF,LessEqualDepth:ev,LessEqualStencilFunc:NG,LessStencilFunc:FG,Light:Fl,LightProbe:g1,Line:Ao,Line3:DJ,LineBasicMaterial:_r,LineCurve:d1,LineCurve3:MO,LineDashedMaterial:FO,LineLoop:Yb,LineSegments:Js,LinearEncoding:Sl,LinearFilter:vn,LinearInterpolant:lC,LinearMipMapLinearFilter:CG,LinearMipMapNearestFilter:bG,LinearMipmapLinearFilter:ya,LinearMipmapNearestFilter:e1,LinearSRGBColorSpace:tl,LinearToneMapping:RF,Loader:Lr,LoaderUtils:Ii,LoadingManager:cC,LoopOnce:KF,LoopPingPong:QF,LoopRepeat:YF,LuminanceAlphaFormat:HF,LuminanceFormat:GF,MOUSE:_G,Material:Kn,MaterialLoader:y1,MathUtils:cs,Matrix3:jr,Matrix4:Le,MaxEquation:qS,Mesh:Xn,MeshBasicMaterial:Pi,MeshDepthMaterial:o1,MeshDistanceMaterial:$b,MeshLambertMaterial:sC,MeshMatcapMaterial:kO,MeshNormalMaterial:LO,MeshPhongMaterial:Kh,MeshPhysicalMaterial:_a,MeshStandardMaterial:Mm,MeshToonMaterial:IO,MinEquation:QS,MirroredRepeatWrapping:Zf,MixOperation:TF,MultiplyBlending:YS,MultiplyOperation:om,NearestFilter:Un,NearestMipMapLinearFilter:MG,NearestMipMapNearestFilter:AG,NearestMipmapLinearFilter:Tp,NearestMipmapNearestFilter:Ep,NeverDepth:wF,NeverStencilFunc:kG,NoBlending:na,NoColorSpace:EG,NoToneMapping:Gs,NormalAnimationBlendMode:t1,NormalBlending:Du,NotEqualDepth:EF,NotEqualStencilFunc:UG,NumberKeyframeTrack:qu,Object3D:wt,ObjectLoader:rJ,ObjectSpaceNormalMap:tO,OctahedronBufferGeometry:fX,OctahedronGeometry:Sd,OneFactor:hF,OneMinusDstAlphaFactor:yF,OneMinusDstColorFactor:xF,OneMinusSrcAlphaFactor:Ob,OneMinusSrcColorFactor:mF,OrthographicCamera:uc,PCFShadowMap:qv,PCFSoftShadowMap:jh,PMREMGenerator:SA,Path:Ip,PerspectiveCamera:$n,Plane:Ja,PlaneBufferGeometry:dX,PlaneGeometry:lc,PlaneHelper:WJ,PointLight:Np,PointLightHelper:kJ,Points:Qb,PointsMaterial:c1,PolarGridHelper:zJ,PolyhedronBufferGeometry:hX,PolyhedronGeometry:xa,PositionalAudio:dJ,PropertyBinding:_t,PropertyMixer:KO,QuadraticBezierCurve:tC,QuadraticBezierCurve3:nC,Quaternion:wn,QuaternionKeyframeTrack:fa,QuaternionLinearInterpolant:UO,REVISION:sm,RGBADepthPacking:eO,RGBAFormat:oi,RGBAIntegerFormat:JF,RGBA_ASTC_10x10_Format:gA,RGBA_ASTC_10x5_Format:hA,RGBA_ASTC_10x6_Format:pA,RGBA_ASTC_10x8_Format:mA,RGBA_ASTC_12x10_Format:yA,RGBA_ASTC_12x12_Format:vA,RGBA_ASTC_4x4_Format:sA,RGBA_ASTC_5x4_Format:oA,RGBA_ASTC_5x5_Format:aA,RGBA_ASTC_6x5_Format:lA,RGBA_ASTC_6x6_Format:uA,RGBA_ASTC_8x5_Format:cA,RGBA_ASTC_8x6_Format:fA,RGBA_ASTC_8x8_Format:dA,RGBA_BPTC_Format:xA,RGBA_ETC2_EAC_Format:iA,RGBA_PVRTC_2BPPV1_Format:nA,RGBA_PVRTC_4BPPV1_Format:tA,RGBA_S3TC_DXT1_Format:vy,RGBA_S3TC_DXT3_Format:xy,RGBA_S3TC_DXT5_Format:_y,RGBFormat:UF,RGB_ETC1_Format:XF,RGB_ETC2_Format:rA,RGB_PVRTC_2BPPV1_Format:eA,RGB_PVRTC_4BPPV1_Format:ZS,RGB_S3TC_DXT1_Format:yy,RGFormat:jF,RGIntegerFormat:$F,RawShaderMaterial:DO,Ray:lm,Raycaster:QO,RectAreaLight:VO,RedFormat:VF,RedIntegerFormat:WF,ReinhardToneMapping:BF,RepeatWrapping:So,ReplaceStencilOp:PG,ReverseSubtractEquation:fF,RingBufferGeometry:pX,RingGeometry:vm,SRGBColorSpace:uo,Scene:iv,ShaderChunk:gt,ShaderLib:Os,ShaderMaterial:ws,ShadowMaterial:BO,Shape:Ou,ShapeBufferGeometry:mX,ShapeGeometry:xm,ShapePath:JJ,ShapeUtils:vo,ShortType:kF,Skeleton:_d,SkeletonHelper:LJ,SkinnedMesh:u1,Source:bu,Sphere:Ll,SphereBufferGeometry:gX,SphereGeometry:Ad,Spherical:qO,SphericalHarmonics3:WO,SplineCurve:rC,SpotLight:p1,SpotLightHelper:IJ,Sprite:xO,SpriteMaterial:Xb,SrcAlphaFactor:Fb,SrcAlphaSaturateFactor:_F,SrcColorFactor:pF,StaticCopyUsage:JG,StaticDrawUsage:Rp,StaticReadUsage:WG,StereoCamera:lJ,StreamCopyUsage:KG,StreamDrawUsage:VG,StreamReadUsage:$G,StringKeyframeTrack:dc,SubtractEquation:cF,SubtractiveBlending:KS,TOUCH:wG,TangentSpaceNormalMap:Dl,TetrahedronBufferGeometry:yX,TetrahedronGeometry:_m,Texture:fn,TextureLoader:fC,TorusBufferGeometry:vX,TorusGeometry:wm,TorusKnotBufferGeometry:xX,TorusKnotGeometry:Sm,Triangle:fs,TriangleFanDrawMode:tv,TriangleStripDrawMode:Gb,TrianglesDrawMode:qF,TubeBufferGeometry:_X,TubeGeometry:Am,UVMapping:Zv,Uint16BufferAttribute:r1,Uint32BufferAttribute:Wb,Uint8BufferAttribute:MH,Uint8ClampedBufferAttribute:bH,Uniform:vC,UniformsGroup:EJ,UniformsLib:Pe,UniformsUtils:oO,UnsignedByteType:ca,UnsignedInt248Type:Iu,UnsignedIntType:el,UnsignedShort4444Type:OF,UnsignedShort5551Type:NF,UnsignedShortType:zb,VSMShadowMap:Su,Vector2:ye,Vector3:F,Vector4:At,VectorKeyframeTrack:Zu,VideoTexture:h$,WebGL1Renderer:yO,WebGL3DRenderTarget:hH,WebGLArrayRenderTarget:dH,WebGLCubeRenderTarget:lO,WebGLMultipleRenderTargets:pH,WebGLMultisampleRenderTarget:ZJ,WebGLRenderTarget:mi,WebGLRenderer:Jb,WebGLUtils:pO,WireframeGeometry:RO,WrapAroundEnding:Pp,ZeroCurvatureEnding:Au,ZeroFactor:dF,ZeroSlopeEnding:Mu,ZeroStencilOp:TG,_SRGBAFormat:nv,sRGBEncoding:Nt},Symbol.toStringTag,{value:"Module"}));var e4={exports:{}},hc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */hc.ConcurrentRoot=1;hc.ContinuousEventPriority=4;hc.DefaultEventPriority=16;hc.DiscreteEventPriority=1;hc.IdleEventPriority=536870912;hc.LegacyRoot=0;e4.exports=hc;var Af=e4.exports;function SX(n){let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),t.forEach(m=>m(e,h))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function m(){const g=c(e);if(!f(h,g)){const y=h;u(h=g,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const AX=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),FP=AX?P.useEffect:P.useLayoutEffect;function MX(n){const e=typeof n=="function"?SX(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=P.useReducer(v=>v+1,0),o=e.getState(),a=P.useRef(o),l=P.useRef(r),u=P.useRef(i),c=P.useRef(!1),f=P.useRef();f.current===void 0&&(f.current=r(o));let h,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),m=!i(f.current,h)),FP(()=>{m&&(f.current=h),a.current=o,l.current=r,u.current=i,c.current=!1});const g=P.useRef(o);FP(()=>{const v=()=>{try{const _=e.getState(),S=l.current(_);u.current(f.current,S)||(a.current=_,f.current=S,s())}catch{c.current=!0,s()}},x=e.subscribe(v);return e.getState()!==g.current&&v(),x},[]);const y=m?h:f.current;return P.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var t4={exports:{}},n4={exports:{}},r4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,z){var H=O.length;O.push(z);e:for(;0<H;){var K=H-1>>>1,ee=O[K];if(0<i(ee,z))O[K]=z,O[H]=ee,H=K;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],H=O.pop();if(H!==z){O[0]=H;e:for(var K=0,ee=O.length,ce=ee>>>1;K<ce;){var ge=2*(K+1)-1,Re=O[ge],se=ge+1,He=O[se];if(0>i(Re,H))se<ee&&0>i(He,Re)?(O[K]=He,O[se]=H,K=se):(O[K]=Re,O[ge]=H,K=ge);else if(se<ee&&0>i(He,H))O[K]=He,O[se]=H,K=se;else break e}}return z}function i(O,z){var H=O.sortIndex-z.sortIndex;return H!==0?H:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var z=t(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=O)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(u)}}function M(O){if(y=!1,S(O),!g)if(t(l)!==null)g=!0,X(C);else{var z=t(u);z!==null&&te(M,z.startTime-O)}}function C(O,z){g=!1,y&&(y=!1,x(b),b=-1),m=!0;var H=h;try{for(S(z),f=t(l);f!==null&&(!(f.expirationTime>z)||O&&!k());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var ee=K(f.expirationTime<=z);z=n.unstable_now(),typeof ee=="function"?f.callback=ee:f===t(l)&&r(l),S(z)}else r(l);f=t(l)}if(f!==null)var ce=!0;else{var ge=t(u);ge!==null&&te(M,ge.startTime-z),ce=!1}return ce}finally{f=null,h=H,m=!1}}var T=!1,R=null,b=-1,B=5,I=-1;function k(){return!(n.unstable_now()-I<B)}function j(){if(R!==null){var O=n.unstable_now();I=O;var z=!0;try{z=R(!0,O)}finally{z?G():(T=!1,R=null)}}else T=!1}var G;if(typeof _=="function")G=function(){_(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=j,G=function(){$.postMessage(null)}}else G=function(){v(j,0)};function X(O){R=O,T||(T=!0,G())}function te(O,z){b=v(function(){O(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,X(C))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var H=h;h=z;try{return O()}finally{h=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=h;h=O;try{return z()}finally{h=H}},n.unstable_scheduleCallback=function(O,z,H){var K=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,O){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=H+ee,O={id:c++,callback:z,priorityLevel:O,startTime:H,expirationTime:ee,sortIndex:-1},H>K?(O.sortIndex=H,e(u,O),t(l)===null&&O===t(u)&&(y?(x(b),b=-1):y=!0,te(M,H-K))):(O.sortIndex=ee,e(l,O),g||m||(g=!0,X(C))),O},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(O){var z=h;return function(){var H=h;h=z;try{return O.apply(this,arguments)}finally{h=H}}}})(r4);n4.exports=r4;var PA=n4.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bX=function(e){var t={},r=P,i=PA,s=Object.assign;function o(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),C=Symbol.iterator;function T(d){return d===null||typeof d!="object"?null:(d=C&&d[C]||d["@@iterator"],typeof d=="function"?d:null)}function R(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case x:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case y:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case _:return p=d.displayName||null,p!==null?p:R(d.type)||"Memo";case S:p=d._payload,d=d._init;try{return R(d(p))}catch{}}return null}function b(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function B(d){var p=d,w=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,p.flags&4098&&(w=p.return),d=p.return;while(d)}return p.tag===3?w:null}function I(d){if(B(d)!==d)throw Error(o(188))}function k(d){var p=d.alternate;if(!p){if(p=B(d),p===null)throw Error(o(188));return p!==d?null:d}for(var w=d,A=p;;){var E=w.return;if(E===null)break;var D=E.alternate;if(D===null){if(A=E.return,A!==null){w=A;continue}break}if(E.child===D.child){for(D=E.child;D;){if(D===w)return I(E),d;if(D===A)return I(E),p;D=D.sibling}throw Error(o(188))}if(w.return!==A.return)w=E,A=D;else{for(var V=!1,Y=E.child;Y;){if(Y===w){V=!0,w=E,A=D;break}if(Y===A){V=!0,A=E,w=D;break}Y=Y.sibling}if(!V){for(Y=D.child;Y;){if(Y===w){V=!0,w=D,A=E;break}if(Y===A){V=!0,A=D,w=E;break}Y=Y.sibling}if(!V)throw Error(o(189))}}if(w.alternate!==A)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?d:p}function j(d){return d=k(d),d!==null?G(d):null}function G(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=G(d);if(p!==null)return p;d=d.sibling}return null}function N(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var p=N(d);if(p!==null)return p}d=d.sibling}return null}var $=Array.isArray,X=e.getPublicInstance,te=e.getRootHostContext,O=e.getChildHostContext,z=e.prepareForCommit,H=e.resetAfterCommit,K=e.createInstance,ee=e.appendInitialChild,ce=e.finalizeInitialChildren,ge=e.prepareUpdate,Re=e.shouldSetTextContent,se=e.createTextInstance,He=e.scheduleTimeout,Ge=e.cancelTimeout,Ke=e.noTimeout,be=e.isPrimaryRenderer,Ve=e.supportsMutation,he=e.supportsPersistence,ae=e.supportsHydration,Ae=e.getInstanceFromNode,Fe=e.preparePortalMount,Ee=e.getCurrentEventPriority,at=e.detachDeletedInstance,rt=e.supportsMicrotasks,Qe=e.scheduleMicrotask,Tt=e.supportsTestSelectors,Lt=e.findFiberRoot,W=e.getBoundingRect,L=e.getTextContent,q=e.isHiddenSubtree,ve=e.matchAccessibilityRole,xe=e.setFocusIfFocusable,Ce=e.setupIntersectionObserver,qe=e.appendChild,Te=e.appendChildToContainer,pe=e.commitTextUpdate,We=e.commitMount,Ze=e.commitUpdate,Ue=e.insertBefore,Ye=e.insertInContainerBefore,je=e.removeChild,vt=e.removeChildFromContainer,Ut=e.resetTextContent,bn=e.hideInstance,Q=e.hideTextInstance,de=e.unhideInstance,we=e.unhideTextInstance,Ie=e.clearContainer,Je=e.cloneInstance,Bt=e.createContainerChildSet,In=e.appendChildToContainerChildSet,sr=e.finalizeContainerChildren,Ys=e.replaceContainerChildren,$t=e.cloneHiddenInstance,Ui=e.cloneHiddenTextInstance,Yr=e.canHydrateInstance,zm=e.canHydrateTextInstance,U1=e.canHydrateSuspenseInstance,Um=e.isSuspenseInstancePending,Rd=e.isSuspenseInstanceFallback,U=e.registerSuspenseInstanceRetry,re=e.getNextHydratableSibling,fe=e.getFirstHydratableChild,ne=e.getFirstHydratableChildWithinContainer,me=e.getFirstHydratableChildWithinSuspenseInstance,et=e.hydrateInstance,lt=e.hydrateTextInstance,pt=e.hydrateSuspenseInstance,dt=e.getNextHydratableInstanceAfterSuspenseInstance,Dt=e.commitHydratedContainer,xt=e.commitHydratedSuspenseInstance,Ct=e.clearSuspenseBoundary,sn=e.clearSuspenseBoundaryFromContainer,Co=e.shouldDeleteUnhydratedTailInstances,Sa=e.didNotMatchHydratedContainerTextInstance,Aa=e.didNotMatchHydratedTextInstance,Qr;function Mt(d){if(Qr===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);Qr=p&&p[1]||""}return`
`+Qr+d}var Qs=!1;function on(d,p){if(!d||Qs)return"";Qs=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Se){var A=Se}Reflect.construct(d,[],p)}else{try{p.call()}catch(Se){A=Se}d.call(p.prototype)}else{try{throw Error()}catch(Se){A=Se}d()}}catch(Se){if(Se&&A&&typeof Se.stack=="string"){for(var E=Se.stack.split(`
`),D=A.stack.split(`
`),V=E.length-1,Y=D.length-1;1<=V&&0<=Y&&E[V]!==D[Y];)Y--;for(;1<=V&&0<=Y;V--,Y--)if(E[V]!==D[Y]){if(V!==1||Y!==1)do if(V--,Y--,0>Y||E[V]!==D[Y]){var ue=`
`+E[V].replace(" at new "," at ");return d.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",d.displayName)),ue}while(1<=V&&0<=Y);break}}}finally{Qs=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?Mt(d):""}var qr=Object.prototype.hasOwnProperty,Gi=[],Hi=-1;function Vi(d){return{current:d}}function ht(d){0>Hi||(d.current=Gi[Hi],Gi[Hi]=null,Hi--)}function Pt(d,p){Hi++,Gi[Hi]=d.current,d.current=p}var Wi={},Ht=Vi(Wi),or=Vi(!1),Eo=Wi;function To(d,p){var w=d.type.contextTypes;if(!w)return Wi;var A=d.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===p)return A.__reactInternalMemoizedMaskedChildContext;var E={},D;for(D in w)E[D]=p[D];return A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=E),E}function Zr(d){return d=d.childContextTypes,d!=null}function Gm(){ht(or),ht(Ht)}function EE(d,p,w){if(Ht.current!==Wi)throw Error(o(168));Pt(Ht,p),Pt(or,w)}function TE(d,p,w){var A=d.stateNode;if(p=p.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var E in A)if(!(E in p))throw Error(o(108,b(d)||"Unknown",E));return s({},w,A)}function Hm(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Wi,Eo=Ht.current,Pt(Ht,d),Pt(or,or.current),!0}function PE(d,p,w){var A=d.stateNode;if(!A)throw Error(o(169));w?(d=TE(d,p,Eo),A.__reactInternalMemoizedMergedChildContext=d,ht(or),ht(Ht),Pt(Ht,d)):ht(or),Pt(or,w)}var bs=Math.clz32?Math.clz32:s9,r9=Math.log,i9=Math.LN2;function s9(d){return d>>>=0,d===0?32:31-(r9(d)/i9|0)|0}var Vm=64,Wm=4194304;function Bd(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function jm(d,p){var w=d.pendingLanes;if(w===0)return 0;var A=0,E=d.suspendedLanes,D=d.pingedLanes,V=w&268435455;if(V!==0){var Y=V&~E;Y!==0?A=Bd(Y):(D&=V,D!==0&&(A=Bd(D)))}else V=w&~E,V!==0?A=Bd(V):D!==0&&(A=Bd(D));if(A===0)return 0;if(p!==0&&p!==A&&!(p&E)&&(E=A&-A,D=p&-p,E>=D||E===16&&(D&4194240)!==0))return p;if(A&4&&(A|=w&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=A;0<p;)w=31-bs(p),E=1<<w,A|=d[w],p&=~E;return A}function o9(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a9(d,p){for(var w=d.suspendedLanes,A=d.pingedLanes,E=d.expirationTimes,D=d.pendingLanes;0<D;){var V=31-bs(D),Y=1<<V,ue=E[V];ue===-1?(!(Y&w)||Y&A)&&(E[V]=o9(Y,p)):ue<=p&&(d.expiredLanes|=Y),D&=~Y}}function G1(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function H1(d){for(var p=[],w=0;31>w;w++)p.push(d);return p}function Dd(d,p,w){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-bs(p),d[p]=w}function l9(d,p){var w=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var A=d.eventTimes;for(d=d.expirationTimes;0<w;){var E=31-bs(w),D=1<<E;p[E]=0,A[E]=-1,d[E]=-1,w&=~D}}function V1(d,p){var w=d.entangledLanes|=p;for(d=d.entanglements;w;){var A=31-bs(w),E=1<<A;E&p|d[A]&p&&(d[A]|=p),w&=~E}}var kt=0;function RE(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var W1=i.unstable_scheduleCallback,BE=i.unstable_cancelCallback,u9=i.unstable_shouldYield,c9=i.unstable_requestPaint,ar=i.unstable_now,j1=i.unstable_ImmediatePriority,f9=i.unstable_UserBlockingPriority,$1=i.unstable_NormalPriority,d9=i.unstable_IdlePriority,$m=null,qs=null;function h9(d){if(qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot($m,d,void 0,(d.current.flags&128)===128)}catch{}}function p9(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Zs=typeof Object.is=="function"?Object.is:p9,Po=null,Jm=!1,J1=!1;function DE(d){Po===null?Po=[d]:Po.push(d)}function m9(d){Jm=!0,DE(d)}function eo(){if(!J1&&Po!==null){J1=!0;var d=0,p=kt;try{var w=Po;for(kt=1;d<w.length;d++){var A=w[d];do A=A(!0);while(A!==null)}Po=null,Jm=!1}catch(E){throw Po!==null&&(Po=Po.slice(d+1)),W1(j1,eo),E}finally{kt=p,J1=!1}}return null}var g9=a.ReactCurrentBatchConfig;function Xm(d,p){if(Zs(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var w=Object.keys(d),A=Object.keys(p);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var E=w[A];if(!qr.call(p,E)||!Zs(d[E],p[E]))return!1}return!0}function y9(d){switch(d.tag){case 5:return Mt(d.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 2:case 15:return d=on(d.type,!1),d;case 11:return d=on(d.type.render,!1),d;case 1:return d=on(d.type,!0),d;default:return""}}function Cs(d,p){if(d&&d.defaultProps){p=s({},p),d=d.defaultProps;for(var w in d)p[w]===void 0&&(p[w]=d[w]);return p}return p}var Km=Vi(null),Ym=null,yc=null,X1=null;function K1(){X1=yc=Ym=null}function IE(d,p,w){be?(Pt(Km,p._currentValue),p._currentValue=w):(Pt(Km,p._currentValue2),p._currentValue2=w)}function Y1(d){var p=Km.current;ht(Km),be?d._currentValue=p:d._currentValue2=p}function Q1(d,p,w){for(;d!==null;){var A=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),d===w)break;d=d.return}}function vc(d,p){Ym=d,X1=yc=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&p&&(_i=!0),d.firstContext=null)}function ji(d){var p=be?d._currentValue:d._currentValue2;if(X1!==d)if(d={context:d,memoizedValue:p,next:null},yc===null){if(Ym===null)throw Error(o(308));yc=d,Ym.dependencies={lanes:0,firstContext:d}}else yc=yc.next=d;return p}var to=null,Ma=!1;function q1(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LE(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ro(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function ba(d,p){var w=d.updateQueue;w!==null&&(w=w.shared,Hn!==null&&d.mode&1&&!(yt&2)?(d=w.interleaved,d===null?(p.next=p,to===null?to=[w]:to.push(w)):(p.next=d.next,d.next=p),w.interleaved=p):(d=w.pending,d===null?p.next=p:(p.next=d.next,d.next=p),w.pending=p))}function Qm(d,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var A=p.lanes;A&=d.pendingLanes,w|=A,p.lanes=w,V1(d,w)}}function kE(d,p){var w=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var E=null,D=null;if(w=w.firstBaseUpdate,w!==null){do{var V={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};D===null?E=D=V:D=D.next=V,w=w.next}while(w!==null);D===null?E=D=p:D=D.next=p}else E=D=p;w={baseState:A.baseState,firstBaseUpdate:E,lastBaseUpdate:D,shared:A.shared,effects:A.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=p:d.next=p,w.lastBaseUpdate=p}function qm(d,p,w,A){var E=d.updateQueue;Ma=!1;var D=E.firstBaseUpdate,V=E.lastBaseUpdate,Y=E.shared.pending;if(Y!==null){E.shared.pending=null;var ue=Y,Se=ue.next;ue.next=null,V===null?D=Se:V.next=Se,V=ue;var Ne=d.alternate;Ne!==null&&(Ne=Ne.updateQueue,Y=Ne.lastBaseUpdate,Y!==V&&(Y===null?Ne.firstBaseUpdate=Se:Y.next=Se,Ne.lastBaseUpdate=ue))}if(D!==null){var ct=E.baseState;V=0,Ne=Se=ue=null,Y=D;do{var tt=Y.lane,Jt=Y.eventTime;if((A&tt)===tt){Ne!==null&&(Ne=Ne.next={eventTime:Jt,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Xe=d,Mr=Y;switch(tt=p,Jt=w,Mr.tag){case 1:if(Xe=Mr.payload,typeof Xe=="function"){ct=Xe.call(Jt,ct,tt);break e}ct=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=Mr.payload,tt=typeof Xe=="function"?Xe.call(Jt,ct,tt):Xe,tt==null)break e;ct=s({},ct,tt);break e;case 2:Ma=!0}}Y.callback!==null&&Y.lane!==0&&(d.flags|=64,tt=E.effects,tt===null?E.effects=[Y]:tt.push(Y))}else Jt={eventTime:Jt,lane:tt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ne===null?(Se=Ne=Jt,ue=ct):Ne=Ne.next=Jt,V|=tt;if(Y=Y.next,Y===null){if(Y=E.shared.pending,Y===null)break;tt=Y,Y=tt.next,tt.next=null,E.lastBaseUpdate=tt,E.shared.pending=null}}while(1);if(Ne===null&&(ue=ct),E.baseState=ue,E.firstBaseUpdate=Se,E.lastBaseUpdate=Ne,p=E.shared.interleaved,p!==null){E=p;do V|=E.lane,E=E.next;while(E!==p)}else D===null&&(E.shared.lanes=0);Ec|=V,d.lanes=V,d.memoizedState=ct}}function FE(d,p,w){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var A=d[p],E=A.callback;if(E!==null){if(A.callback=null,A=w,typeof E!="function")throw Error(o(191,E));E.call(A)}}}var OE=new r.Component().refs;function Z1(d,p,w,A){p=d.memoizedState,w=w(A,p),w=w==null?p:s({},p,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var Zm={isMounted:function(d){return(d=d._reactInternals)?B(d)===d:!1},enqueueSetState:function(d,p,w){d=d._reactInternals;var A=Or(),E=Ta(d),D=Ro(A,E);D.payload=p,w!=null&&(D.callback=w),ba(d,D),p=Yi(d,E,A),p!==null&&Qm(p,d,E)},enqueueReplaceState:function(d,p,w){d=d._reactInternals;var A=Or(),E=Ta(d),D=Ro(A,E);D.tag=1,D.payload=p,w!=null&&(D.callback=w),ba(d,D),p=Yi(d,E,A),p!==null&&Qm(p,d,E)},enqueueForceUpdate:function(d,p){d=d._reactInternals;var w=Or(),A=Ta(d),E=Ro(w,A);E.tag=2,p!=null&&(E.callback=p),ba(d,E),p=Yi(d,A,w),p!==null&&Qm(p,d,A)}};function NE(d,p,w,A,E,D,V){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,D,V):p.prototype&&p.prototype.isPureReactComponent?!Xm(w,A)||!Xm(E,D):!0}function zE(d,p,w){var A=!1,E=Wi,D=p.contextType;return typeof D=="object"&&D!==null?D=ji(D):(E=Zr(p)?Eo:Ht.current,A=p.contextTypes,D=(A=A!=null)?To(d,E):Wi),p=new p(w,D),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Zm,d.stateNode=p,p._reactInternals=d,A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=E,d.__reactInternalMemoizedMaskedChildContext=D),p}function UE(d,p,w,A){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,A),p.state!==d&&Zm.enqueueReplaceState(p,p.state,null)}function ex(d,p,w,A){var E=d.stateNode;E.props=w,E.state=d.memoizedState,E.refs=OE,q1(d);var D=p.contextType;typeof D=="object"&&D!==null?E.context=ji(D):(D=Zr(p)?Eo:Ht.current,E.context=To(d,D)),E.state=d.memoizedState,D=p.getDerivedStateFromProps,typeof D=="function"&&(Z1(d,p,D,w),E.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(p=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),p!==E.state&&Zm.enqueueReplaceState(E,E.state,null),qm(d,w,E,A),E.state=d.memoizedState),typeof E.componentDidMount=="function"&&(d.flags|=4194308)}var xc=[],_c=0,eg=null,tg=0,$i=[],Ji=0,Hl=null,Bo=1,Do="";function Vl(d,p){xc[_c++]=tg,xc[_c++]=eg,eg=d,tg=p}function GE(d,p,w){$i[Ji++]=Bo,$i[Ji++]=Do,$i[Ji++]=Hl,Hl=d;var A=Bo;d=Do;var E=32-bs(A)-1;A&=~(1<<E),w+=1;var D=32-bs(p)+E;if(30<D){var V=E-E%5;D=(A&(1<<V)-1).toString(32),A>>=V,E-=V,Bo=1<<32-bs(p)+E|w<<E|A,Do=D+d}else Bo=1<<D|w<<E|A,Do=d}function tx(d){d.return!==null&&(Vl(d,1),GE(d,1,0))}function nx(d){for(;d===eg;)eg=xc[--_c],xc[_c]=null,tg=xc[--_c],xc[_c]=null;for(;d===Hl;)Hl=$i[--Ji],$i[Ji]=null,Do=$i[--Ji],$i[Ji]=null,Bo=$i[--Ji],$i[Ji]=null}var vi=null,xi=null,an=!1,Id=!1,Es=null;function HE(d,p){var w=Qi(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=d,p=d.deletions,p===null?(d.deletions=[w],d.flags|=16):p.push(w)}function VE(d,p){switch(d.tag){case 5:return p=Yr(p,d.type,d.pendingProps),p!==null?(d.stateNode=p,vi=d,xi=fe(p),!0):!1;case 6:return p=zm(p,d.pendingProps),p!==null?(d.stateNode=p,vi=d,xi=null,!0):!1;case 13:if(p=U1(p),p!==null){var w=Hl!==null?{id:Bo,overflow:Do}:null;return d.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=Qi(18,null,null,0),w.stateNode=p,w.return=d,d.child=w,vi=d,xi=null,!0}return!1;default:return!1}}function rx(d){return(d.mode&1)!==0&&(d.flags&128)===0}function ix(d){if(an){var p=xi;if(p){var w=p;if(!VE(d,p)){if(rx(d))throw Error(o(418));p=re(w);var A=vi;p&&VE(d,p)?HE(A,w):(d.flags=d.flags&-4097|2,an=!1,vi=d)}}else{if(rx(d))throw Error(o(418));d.flags=d.flags&-4097|2,an=!1,vi=d}}}function WE(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;vi=d}function Ld(d){if(!ae||d!==vi)return!1;if(!an)return WE(d),an=!0,!1;if(d.tag!==3&&(d.tag!==5||Co(d.type)&&!Re(d.type,d.memoizedProps))){var p=xi;if(p){if(rx(d)){for(d=xi;d;)d=re(d);throw Error(o(418))}for(;p;)HE(d,p),p=re(p)}}if(WE(d),d.tag===13){if(!ae)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));xi=dt(d)}else xi=vi?re(d.stateNode):null;return!0}function wc(){ae&&(xi=vi=null,Id=an=!1)}function sx(d){Es===null?Es=[d]:Es.push(d)}function kd(d,p,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var A=w.stateNode}if(!A)throw Error(o(147,d));var E=A,D=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===D?p.ref:(p=function(V){var Y=E.refs;Y===OE&&(Y=E.refs={}),V===null?delete Y[D]:Y[D]=V},p._stringRef=D,p)}if(typeof d!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,d))}return d}function ng(d,p){throw d=Object.prototype.toString.call(p),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function jE(d){var p=d._init;return p(d._payload)}function $E(d){function p(ie,Z){if(d){var le=ie.deletions;le===null?(ie.deletions=[Z],ie.flags|=16):le.push(Z)}}function w(ie,Z){if(!d)return null;for(;Z!==null;)p(ie,Z),Z=Z.sibling;return null}function A(ie,Z){for(ie=new Map;Z!==null;)Z.key!==null?ie.set(Z.key,Z):ie.set(Z.index,Z),Z=Z.sibling;return ie}function E(ie,Z){return ie=Ra(ie,Z),ie.index=0,ie.sibling=null,ie}function D(ie,Z,le){return ie.index=le,d?(le=ie.alternate,le!==null?(le=le.index,le<Z?(ie.flags|=2,Z):le):(ie.flags|=2,Z)):(ie.flags|=1048576,Z)}function V(ie){return d&&ie.alternate===null&&(ie.flags|=2),ie}function Y(ie,Z,le,De){return Z===null||Z.tag!==6?(Z=Hx(le,ie.mode,De),Z.return=ie,Z):(Z=E(Z,le),Z.return=ie,Z)}function ue(ie,Z,le,De){var $e=le.type;return $e===c?Ne(ie,Z,le.props.children,De,le.key):Z!==null&&(Z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===S&&jE($e)===Z.type)?(De=E(Z,le.props),De.ref=kd(ie,Z,le),De.return=ie,De):(De=Ig(le.type,le.key,le.props,null,ie.mode,De),De.ref=kd(ie,Z,le),De.return=ie,De)}function Se(ie,Z,le,De){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==le.containerInfo||Z.stateNode.implementation!==le.implementation?(Z=Vx(le,ie.mode,De),Z.return=ie,Z):(Z=E(Z,le.children||[]),Z.return=ie,Z)}function Ne(ie,Z,le,De,$e){return Z===null||Z.tag!==7?(Z=Yl(le,ie.mode,De,$e),Z.return=ie,Z):(Z=E(Z,le),Z.return=ie,Z)}function ct(ie,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Hx(""+Z,ie.mode,le),Z.return=ie,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:return le=Ig(Z.type,Z.key,Z.props,null,ie.mode,le),le.ref=kd(ie,null,Z),le.return=ie,le;case u:return Z=Vx(Z,ie.mode,le),Z.return=ie,Z;case S:var De=Z._init;return ct(ie,De(Z._payload),le)}if($(Z)||T(Z))return Z=Yl(Z,ie.mode,le,null),Z.return=ie,Z;ng(ie,Z)}return null}function tt(ie,Z,le,De){var $e=Z!==null?Z.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return $e!==null?null:Y(ie,Z,""+le,De);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case l:return le.key===$e?ue(ie,Z,le,De):null;case u:return le.key===$e?Se(ie,Z,le,De):null;case S:return $e=le._init,tt(ie,Z,$e(le._payload),De)}if($(le)||T(le))return $e!==null?null:Ne(ie,Z,le,De,null);ng(ie,le)}return null}function Jt(ie,Z,le,De,$e){if(typeof De=="string"&&De!==""||typeof De=="number")return ie=ie.get(le)||null,Y(Z,ie,""+De,$e);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case l:return ie=ie.get(De.key===null?le:De.key)||null,ue(Z,ie,De,$e);case u:return ie=ie.get(De.key===null?le:De.key)||null,Se(Z,ie,De,$e);case S:var mt=De._init;return Jt(ie,Z,le,mt(De._payload),$e)}if($(De)||T(De))return ie=ie.get(le)||null,Ne(Z,ie,De,$e,null);ng(Z,De)}return null}function Xe(ie,Z,le,De){for(var $e=null,mt=null,ft=Z,Ft=Z=0,ur=null;ft!==null&&Ft<le.length;Ft++){ft.index>Ft?(ur=ft,ft=null):ur=ft.sibling;var Ot=tt(ie,ft,le[Ft],De);if(Ot===null){ft===null&&(ft=ur);break}d&&ft&&Ot.alternate===null&&p(ie,ft),Z=D(Ot,Z,Ft),mt===null?$e=Ot:mt.sibling=Ot,mt=Ot,ft=ur}if(Ft===le.length)return w(ie,ft),an&&Vl(ie,Ft),$e;if(ft===null){for(;Ft<le.length;Ft++)ft=ct(ie,le[Ft],De),ft!==null&&(Z=D(ft,Z,Ft),mt===null?$e=ft:mt.sibling=ft,mt=ft);return an&&Vl(ie,Ft),$e}for(ft=A(ie,ft);Ft<le.length;Ft++)ur=Jt(ft,ie,Ft,le[Ft],De),ur!==null&&(d&&ur.alternate!==null&&ft.delete(ur.key===null?Ft:ur.key),Z=D(ur,Z,Ft),mt===null?$e=ur:mt.sibling=ur,mt=ur);return d&&ft.forEach(function(Ba){return p(ie,Ba)}),an&&Vl(ie,Ft),$e}function Mr(ie,Z,le,De){var $e=T(le);if(typeof $e!="function")throw Error(o(150));if(le=$e.call(le),le==null)throw Error(o(151));for(var mt=$e=null,ft=Z,Ft=Z=0,ur=null,Ot=le.next();ft!==null&&!Ot.done;Ft++,Ot=le.next()){ft.index>Ft?(ur=ft,ft=null):ur=ft.sibling;var Ba=tt(ie,ft,Ot.value,De);if(Ba===null){ft===null&&(ft=ur);break}d&&ft&&Ba.alternate===null&&p(ie,ft),Z=D(Ba,Z,Ft),mt===null?$e=Ba:mt.sibling=Ba,mt=Ba,ft=ur}if(Ot.done)return w(ie,ft),an&&Vl(ie,Ft),$e;if(ft===null){for(;!Ot.done;Ft++,Ot=le.next())Ot=ct(ie,Ot.value,De),Ot!==null&&(Z=D(Ot,Z,Ft),mt===null?$e=Ot:mt.sibling=Ot,mt=Ot);return an&&Vl(ie,Ft),$e}for(ft=A(ie,ft);!Ot.done;Ft++,Ot=le.next())Ot=Jt(ft,ie,Ft,Ot.value,De),Ot!==null&&(d&&Ot.alternate!==null&&ft.delete(Ot.key===null?Ft:Ot.key),Z=D(Ot,Z,Ft),mt===null?$e=Ot:mt.sibling=Ot,mt=Ot);return d&&ft.forEach(function(J9){return p(ie,J9)}),an&&Vl(ie,Ft),$e}function qi(ie,Z,le,De){if(typeof le=="object"&&le!==null&&le.type===c&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case l:e:{for(var $e=le.key,mt=Z;mt!==null;){if(mt.key===$e){if($e=le.type,$e===c){if(mt.tag===7){w(ie,mt.sibling),Z=E(mt,le.props.children),Z.return=ie,ie=Z;break e}}else if(mt.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===S&&jE($e)===mt.type){w(ie,mt.sibling),Z=E(mt,le.props),Z.ref=kd(ie,mt,le),Z.return=ie,ie=Z;break e}w(ie,mt);break}else p(ie,mt);mt=mt.sibling}le.type===c?(Z=Yl(le.props.children,ie.mode,De,le.key),Z.return=ie,ie=Z):(De=Ig(le.type,le.key,le.props,null,ie.mode,De),De.ref=kd(ie,Z,le),De.return=ie,ie=De)}return V(ie);case u:e:{for(mt=le.key;Z!==null;){if(Z.key===mt)if(Z.tag===4&&Z.stateNode.containerInfo===le.containerInfo&&Z.stateNode.implementation===le.implementation){w(ie,Z.sibling),Z=E(Z,le.children||[]),Z.return=ie,ie=Z;break e}else{w(ie,Z);break}else p(ie,Z);Z=Z.sibling}Z=Vx(le,ie.mode,De),Z.return=ie,ie=Z}return V(ie);case S:return mt=le._init,qi(ie,Z,mt(le._payload),De)}if($(le))return Xe(ie,Z,le,De);if(T(le))return Mr(ie,Z,le,De);ng(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,Z!==null&&Z.tag===6?(w(ie,Z.sibling),Z=E(Z,le),Z.return=ie,ie=Z):(w(ie,Z),Z=Hx(le,ie.mode,De),Z.return=ie,ie=Z),V(ie)):w(ie,Z)}return qi}var Sc=$E(!0),JE=$E(!1),Fd={},Xi=Vi(Fd),Od=Vi(Fd),Ac=Vi(Fd);function no(d){if(d===Fd)throw Error(o(174));return d}function ox(d,p){Pt(Ac,p),Pt(Od,d),Pt(Xi,Fd),d=te(p),ht(Xi),Pt(Xi,d)}function Mc(){ht(Xi),ht(Od),ht(Ac)}function XE(d){var p=no(Ac.current),w=no(Xi.current);p=O(w,d.type,p),w!==p&&(Pt(Od,d),Pt(Xi,p))}function ax(d){Od.current===d&&(ht(Xi),ht(Od))}var dn=Vi(0);function rg(d){for(var p=d;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||Um(w)||Rd(w)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var lx=[];function ux(){for(var d=0;d<lx.length;d++){var p=lx[d];be?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}lx.length=0}var ig=a.ReactCurrentDispatcher,Ki=a.ReactCurrentBatchConfig,bc=0,Cn=null,wr=null,lr=null,sg=!1,Nd=!1,zd=0,v9=0;function Sr(){throw Error(o(321))}function cx(d,p){if(p===null)return!1;for(var w=0;w<p.length&&w<d.length;w++)if(!Zs(d[w],p[w]))return!1;return!0}function fx(d,p,w,A,E,D){if(bc=D,Cn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,ig.current=d===null||d.memoizedState===null?S9:A9,d=w(A,E),Nd){D=0;do{if(Nd=!1,zd=0,25<=D)throw Error(o(301));D+=1,lr=wr=null,p.updateQueue=null,ig.current=M9,d=w(A,E)}while(Nd)}if(ig.current=cg,p=wr!==null&&wr.next!==null,bc=0,lr=wr=Cn=null,sg=!1,p)throw Error(o(300));return d}function dx(){var d=zd!==0;return zd=0,d}function Io(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Cn.memoizedState=lr=d:lr=lr.next=d,lr}function ro(){if(wr===null){var d=Cn.alternate;d=d!==null?d.memoizedState:null}else d=wr.next;var p=lr===null?Cn.memoizedState:lr.next;if(p!==null)lr=p,wr=d;else{if(d===null)throw Error(o(310));wr=d,d={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},lr===null?Cn.memoizedState=lr=d:lr=lr.next=d}return lr}function Wl(d,p){return typeof p=="function"?p(d):p}function og(d){var p=ro(),w=p.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var A=wr,E=A.baseQueue,D=w.pending;if(D!==null){if(E!==null){var V=E.next;E.next=D.next,D.next=V}A.baseQueue=E=D,w.pending=null}if(E!==null){D=E.next,A=A.baseState;var Y=V=null,ue=null,Se=D;do{var Ne=Se.lane;if((bc&Ne)===Ne)ue!==null&&(ue=ue.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),A=Se.hasEagerState?Se.eagerState:d(A,Se.action);else{var ct={lane:Ne,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};ue===null?(Y=ue=ct,V=A):ue=ue.next=ct,Cn.lanes|=Ne,Ec|=Ne}Se=Se.next}while(Se!==null&&Se!==D);ue===null?V=A:ue.next=Y,Zs(A,p.memoizedState)||(_i=!0),p.memoizedState=A,p.baseState=V,p.baseQueue=ue,w.lastRenderedState=A}if(d=w.interleaved,d!==null){E=d;do D=E.lane,Cn.lanes|=D,Ec|=D,E=E.next;while(E!==d)}else E===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function ag(d){var p=ro(),w=p.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var A=w.dispatch,E=w.pending,D=p.memoizedState;if(E!==null){w.pending=null;var V=E=E.next;do D=d(D,V.action),V=V.next;while(V!==E);Zs(D,p.memoizedState)||(_i=!0),p.memoizedState=D,p.baseQueue===null&&(p.baseState=D),w.lastRenderedState=D}return[D,A]}function KE(){}function YE(d,p){var w=Cn,A=ro(),E=p(),D=!Zs(A.memoizedState,E);if(D&&(A.memoizedState=E,_i=!0),A=A.queue,Gd(ZE.bind(null,w,A,d),[d]),A.getSnapshot!==p||D||lr!==null&&lr.memoizedState.tag&1){if(w.flags|=2048,Ud(9,qE.bind(null,w,A,E,p),void 0,null),Hn===null)throw Error(o(349));bc&30||QE(w,p,E)}return E}function QE(d,p,w){d.flags|=16384,d={getSnapshot:p,value:w},p=Cn.updateQueue,p===null?(p={lastEffect:null,stores:null},Cn.updateQueue=p,p.stores=[d]):(w=p.stores,w===null?p.stores=[d]:w.push(d))}function qE(d,p,w,A){p.value=w,p.getSnapshot=A,e2(p)&&Yi(d,1,-1)}function ZE(d,p,w){return w(function(){e2(p)&&Yi(d,1,-1)})}function e2(d){var p=d.getSnapshot;d=d.value;try{var w=p();return!Zs(d,w)}catch{return!0}}function hx(d){var p=Io();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:d},p.queue=d,d=d.dispatch=w9.bind(null,Cn,d),[p.memoizedState,d]}function Ud(d,p,w,A){return d={tag:d,create:p,destroy:w,deps:A,next:null},p=Cn.updateQueue,p===null?(p={lastEffect:null,stores:null},Cn.updateQueue=p,p.lastEffect=d.next=d):(w=p.lastEffect,w===null?p.lastEffect=d.next=d:(A=w.next,w.next=d,d.next=A,p.lastEffect=d)),d}function t2(){return ro().memoizedState}function lg(d,p,w,A){var E=Io();Cn.flags|=d,E.memoizedState=Ud(1|p,w,void 0,A===void 0?null:A)}function ug(d,p,w,A){var E=ro();A=A===void 0?null:A;var D=void 0;if(wr!==null){var V=wr.memoizedState;if(D=V.destroy,A!==null&&cx(A,V.deps)){E.memoizedState=Ud(p,w,D,A);return}}Cn.flags|=d,E.memoizedState=Ud(1|p,w,D,A)}function px(d,p){return lg(8390656,8,d,p)}function Gd(d,p){return ug(2048,8,d,p)}function n2(d,p){return ug(4,2,d,p)}function r2(d,p){return ug(4,4,d,p)}function i2(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function s2(d,p,w){return w=w!=null?w.concat([d]):null,ug(4,4,i2.bind(null,p,d),w)}function mx(){}function o2(d,p){var w=ro();p=p===void 0?null:p;var A=w.memoizedState;return A!==null&&p!==null&&cx(p,A[1])?A[0]:(w.memoizedState=[d,p],d)}function a2(d,p){var w=ro();p=p===void 0?null:p;var A=w.memoizedState;return A!==null&&p!==null&&cx(p,A[1])?A[0]:(d=d(),w.memoizedState=[d,p],d)}function x9(d,p){var w=kt;kt=w!==0&&4>w?w:4,d(!0);var A=Ki.transition;Ki.transition={};try{d(!1),p()}finally{kt=w,Ki.transition=A}}function l2(){return ro().memoizedState}function _9(d,p,w){var A=Ta(d);w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},u2(d)?c2(p,w):(f2(d,p,w),w=Or(),d=Yi(d,A,w),d!==null&&d2(d,p,A))}function w9(d,p,w){var A=Ta(d),E={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(u2(d))c2(p,E);else{f2(d,p,E);var D=d.alternate;if(d.lanes===0&&(D===null||D.lanes===0)&&(D=p.lastRenderedReducer,D!==null))try{var V=p.lastRenderedState,Y=D(V,w);if(E.hasEagerState=!0,E.eagerState=Y,Zs(Y,V))return}catch{}finally{}w=Or(),d=Yi(d,A,w),d!==null&&d2(d,p,A)}}function u2(d){var p=d.alternate;return d===Cn||p!==null&&p===Cn}function c2(d,p){Nd=sg=!0;var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}function f2(d,p,w){Hn!==null&&d.mode&1&&!(yt&2)?(d=p.interleaved,d===null?(w.next=w,to===null?to=[p]:to.push(p)):(w.next=d.next,d.next=w),p.interleaved=w):(d=p.pending,d===null?w.next=w:(w.next=d.next,d.next=w),p.pending=w)}function d2(d,p,w){if(w&4194240){var A=p.lanes;A&=d.pendingLanes,w|=A,p.lanes=w,V1(d,w)}}var cg={readContext:ji,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},S9={readContext:ji,useCallback:function(d,p){return Io().memoizedState=[d,p===void 0?null:p],d},useContext:ji,useEffect:px,useImperativeHandle:function(d,p,w){return w=w!=null?w.concat([d]):null,lg(4194308,4,i2.bind(null,p,d),w)},useLayoutEffect:function(d,p){return lg(4194308,4,d,p)},useInsertionEffect:function(d,p){return lg(4,2,d,p)},useMemo:function(d,p){var w=Io();return p=p===void 0?null:p,d=d(),w.memoizedState=[d,p],d},useReducer:function(d,p,w){var A=Io();return p=w!==void 0?w(p):p,A.memoizedState=A.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},A.queue=d,d=d.dispatch=_9.bind(null,Cn,d),[A.memoizedState,d]},useRef:function(d){var p=Io();return d={current:d},p.memoizedState=d},useState:hx,useDebugValue:mx,useDeferredValue:function(d){var p=hx(d),w=p[0],A=p[1];return px(function(){var E=Ki.transition;Ki.transition={};try{A(d)}finally{Ki.transition=E}},[d]),w},useTransition:function(){var d=hx(!1),p=d[0];return d=x9.bind(null,d[1]),Io().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,w){var A=Cn,E=Io();if(an){if(w===void 0)throw Error(o(407));w=w()}else{if(w=p(),Hn===null)throw Error(o(349));bc&30||QE(A,p,w)}E.memoizedState=w;var D={value:w,getSnapshot:p};return E.queue=D,px(ZE.bind(null,A,D,d),[d]),A.flags|=2048,Ud(9,qE.bind(null,A,D,w,p),void 0,null),w},useId:function(){var d=Io(),p=Hn.identifierPrefix;if(an){var w=Do,A=Bo;w=(A&~(1<<32-bs(A)-1)).toString(32)+w,p=":"+p+"R"+w,w=zd++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=v9++,p=":"+p+"r"+w.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},A9={readContext:ji,useCallback:o2,useContext:ji,useEffect:Gd,useImperativeHandle:s2,useInsertionEffect:n2,useLayoutEffect:r2,useMemo:a2,useReducer:og,useRef:t2,useState:function(){return og(Wl)},useDebugValue:mx,useDeferredValue:function(d){var p=og(Wl),w=p[0],A=p[1];return Gd(function(){var E=Ki.transition;Ki.transition={};try{A(d)}finally{Ki.transition=E}},[d]),w},useTransition:function(){var d=og(Wl)[0],p=ro().memoizedState;return[d,p]},useMutableSource:KE,useSyncExternalStore:YE,useId:l2,unstable_isNewReconciler:!1},M9={readContext:ji,useCallback:o2,useContext:ji,useEffect:Gd,useImperativeHandle:s2,useInsertionEffect:n2,useLayoutEffect:r2,useMemo:a2,useReducer:ag,useRef:t2,useState:function(){return ag(Wl)},useDebugValue:mx,useDeferredValue:function(d){var p=ag(Wl),w=p[0],A=p[1];return Gd(function(){var E=Ki.transition;Ki.transition={};try{A(d)}finally{Ki.transition=E}},[d]),w},useTransition:function(){var d=ag(Wl)[0],p=ro().memoizedState;return[d,p]},useMutableSource:KE,useSyncExternalStore:YE,useId:l2,unstable_isNewReconciler:!1};function gx(d,p){try{var w="",A=p;do w+=y9(A),A=A.return;while(A);var E=w}catch(D){E=`
Error generating stack: `+D.message+`
`+D.stack}return{value:d,source:p,stack:E}}function yx(d,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var b9=typeof WeakMap=="function"?WeakMap:Map;function h2(d,p,w){w=Ro(-1,w),w.tag=3,w.payload={element:null};var A=p.value;return w.callback=function(){Cg||(Cg=!0,kx=A),yx(d,p)},w}function p2(d,p,w){w=Ro(-1,w),w.tag=3;var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var E=p.value;w.payload=function(){return A(E)},w.callback=function(){yx(d,p)}}var D=d.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(w.callback=function(){yx(d,p),typeof A!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var V=p.stack;this.componentDidCatch(p.value,{componentStack:V!==null?V:""})}),w}function m2(d,p,w){var A=d.pingCache;if(A===null){A=d.pingCache=new b9;var E=new Set;A.set(p,E)}else E=A.get(p),E===void 0&&(E=new Set,A.set(p,E));E.has(w)||(E.add(w),d=z9.bind(null,d,p,w),p.then(d,d))}function g2(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function y2(d,p,w,A,E){return d.mode&1?(d.flags|=65536,d.lanes=E,d):(d===p?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=Ro(-1,1),p.tag=2,ba(w,p))),w.lanes|=1),d)}function io(d){d.flags|=4}function v2(d,p){if(d!==null&&d.child===p.child)return!0;if(p.flags&16)return!1;for(d=p.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Hd,Vd,fg,dg;if(Ve)Hd=function(d,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)ee(d,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Vd=function(){},fg=function(d,p,w,A,E){if(d=d.memoizedProps,d!==A){var D=p.stateNode,V=no(Xi.current);w=ge(D,w,d,A,E,V),(p.updateQueue=w)&&io(p)}},dg=function(d,p,w,A){w!==A&&io(p)};else if(he){Hd=function(d,p,w,A){for(var E=p.child;E!==null;){if(E.tag===5){var D=E.stateNode;w&&A&&(D=$t(D,E.type,E.memoizedProps,E)),ee(d,D)}else if(E.tag===6)D=E.stateNode,w&&A&&(D=Ui(D,E.memoizedProps,E)),ee(d,D);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)D=E.child,D!==null&&(D.return=E),Hd(d,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var x2=function(d,p,w,A){for(var E=p.child;E!==null;){if(E.tag===5){var D=E.stateNode;w&&A&&(D=$t(D,E.type,E.memoizedProps,E)),In(d,D)}else if(E.tag===6)D=E.stateNode,w&&A&&(D=Ui(D,E.memoizedProps,E)),In(d,D);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)D=E.child,D!==null&&(D.return=E),x2(d,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===p)break;for(;E.sibling===null;){if(E.return===null||E.return===p)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Vd=function(d,p){var w=p.stateNode;if(!v2(d,p)){d=w.containerInfo;var A=Bt(d);x2(A,p,!1,!1),w.pendingChildren=A,io(p),sr(d,A)}},fg=function(d,p,w,A,E){var D=d.stateNode,V=d.memoizedProps;if((d=v2(d,p))&&V===A)p.stateNode=D;else{var Y=p.stateNode,ue=no(Xi.current),Se=null;V!==A&&(Se=ge(Y,w,V,A,E,ue)),d&&Se===null?p.stateNode=D:(D=Je(D,Se,w,V,A,p,d,Y),ce(D,w,A,E,ue)&&io(p),p.stateNode=D,d?io(p):Hd(D,p,!1,!1))}},dg=function(d,p,w,A){w!==A?(d=no(Ac.current),w=no(Xi.current),p.stateNode=se(A,d,w,p),io(p)):p.stateNode=d.stateNode}}else Vd=function(){},fg=function(){},dg=function(){};function Wd(d,p){if(!an)switch(d.tailMode){case"hidden":p=d.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function Ar(d){var p=d.alternate!==null&&d.alternate.child===d.child,w=0,A=0;if(p)for(var E=d.child;E!==null;)w|=E.lanes|E.childLanes,A|=E.subtreeFlags&14680064,A|=E.flags&14680064,E.return=d,E=E.sibling;else for(E=d.child;E!==null;)w|=E.lanes|E.childLanes,A|=E.subtreeFlags,A|=E.flags,E.return=d,E=E.sibling;return d.subtreeFlags|=A,d.childLanes=w,p}function C9(d,p,w){var A=p.pendingProps;switch(nx(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(p),null;case 1:return Zr(p.type)&&Gm(),Ar(p),null;case 3:return A=p.stateNode,Mc(),ht(or),ht(Ht),ux(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(d===null||d.child===null)&&(Ld(p)?io(p):d===null||d.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Es!==null&&(Nx(Es),Es=null))),Vd(d,p),Ar(p),null;case 5:ax(p),w=no(Ac.current);var E=p.type;if(d!==null&&p.stateNode!=null)fg(d,p,E,A,w),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!A){if(p.stateNode===null)throw Error(o(166));return Ar(p),null}if(d=no(Xi.current),Ld(p)){if(!ae)throw Error(o(175));d=et(p.stateNode,p.type,p.memoizedProps,w,d,p,!Id),p.updateQueue=d,d!==null&&io(p)}else{var D=K(E,A,w,d,p);Hd(D,p,!1,!1),p.stateNode=D,ce(D,E,A,w,d)&&io(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Ar(p),null;case 6:if(d&&p.stateNode!=null)dg(d,p,d.memoizedProps,A);else{if(typeof A!="string"&&p.stateNode===null)throw Error(o(166));if(d=no(Ac.current),w=no(Xi.current),Ld(p)){if(!ae)throw Error(o(176));if(d=p.stateNode,A=p.memoizedProps,(w=lt(d,A,p,!Id))&&(E=vi,E!==null))switch(D=(E.mode&1)!==0,E.tag){case 3:Sa(E.stateNode.containerInfo,d,A,D);break;case 5:Aa(E.type,E.memoizedProps,E.stateNode,d,A,D)}w&&io(p)}else p.stateNode=se(A,d,w,p)}return Ar(p),null;case 13:if(ht(dn),A=p.memoizedState,an&&xi!==null&&p.mode&1&&!(p.flags&128)){for(d=xi;d;)d=re(d);return wc(),p.flags|=98560,p}if(A!==null&&A.dehydrated!==null){if(A=Ld(p),d===null){if(!A)throw Error(o(318));if(!ae)throw Error(o(344));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));pt(d,p)}else wc(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Ar(p),null}return Es!==null&&(Nx(Es),Es=null),p.flags&128?(p.lanes=w,p):(A=A!==null,w=!1,d===null?Ld(p):w=d.memoizedState!==null,A&&!w&&(p.child.flags|=8192,p.mode&1&&(d===null||dn.current&1?Yn===0&&(Yn=3):Ux())),p.updateQueue!==null&&(p.flags|=4),Ar(p),null);case 4:return Mc(),Vd(d,p),d===null&&Fe(p.stateNode.containerInfo),Ar(p),null;case 10:return Y1(p.type._context),Ar(p),null;case 17:return Zr(p.type)&&Gm(),Ar(p),null;case 19:if(ht(dn),E=p.memoizedState,E===null)return Ar(p),null;if(A=(p.flags&128)!==0,D=E.rendering,D===null)if(A)Wd(E,!1);else{if(Yn!==0||d!==null&&d.flags&128)for(d=p.child;d!==null;){if(D=rg(d),D!==null){for(p.flags|=128,Wd(E,!1),d=D.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),p.subtreeFlags=0,d=w,A=p.child;A!==null;)w=A,E=d,w.flags&=14680066,D=w.alternate,D===null?(w.childLanes=0,w.lanes=E,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=D.childLanes,w.lanes=D.lanes,w.child=D.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=D.memoizedProps,w.memoizedState=D.memoizedState,w.updateQueue=D.updateQueue,w.type=D.type,E=D.dependencies,w.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),A=A.sibling;return Pt(dn,dn.current&1|2),p.child}d=d.sibling}E.tail!==null&&ar()>Lx&&(p.flags|=128,A=!0,Wd(E,!1),p.lanes=4194304)}else{if(!A)if(d=rg(D),d!==null){if(p.flags|=128,A=!0,d=d.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),Wd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!an)return Ar(p),null}else 2*ar()-E.renderingStartTime>Lx&&w!==1073741824&&(p.flags|=128,A=!0,Wd(E,!1),p.lanes=4194304);E.isBackwards?(D.sibling=p.child,p.child=D):(d=E.last,d!==null?d.sibling=D:p.child=D,E.last=D)}return E.tail!==null?(p=E.tail,E.rendering=p,E.tail=p.sibling,E.renderingStartTime=ar(),p.sibling=null,d=dn.current,Pt(dn,A?d&1|2:d&1),p):(Ar(p),null);case 22:case 23:return zx(),A=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==A&&(p.flags|=8192),A&&p.mode&1?wi&1073741824&&(Ar(p),Ve&&p.subtreeFlags&6&&(p.flags|=8192)):Ar(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var E9=a.ReactCurrentOwner,_i=!1;function Fr(d,p,w,A){p.child=d===null?JE(p,null,w,A):Sc(p,d.child,w,A)}function _2(d,p,w,A,E){w=w.render;var D=p.ref;return vc(p,E),A=fx(d,p,w,A,D,E),w=dx(),d!==null&&!_i?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~E,Lo(d,p,E)):(an&&w&&tx(p),p.flags|=1,Fr(d,p,A,E),p.child)}function w2(d,p,w,A,E){if(d===null){var D=w.type;return typeof D=="function"&&!Gx(D)&&D.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=D,S2(d,p,D,A,E)):(d=Ig(w.type,null,A,p,p.mode,E),d.ref=p.ref,d.return=p,p.child=d)}if(D=d.child,!(d.lanes&E)){var V=D.memoizedProps;if(w=w.compare,w=w!==null?w:Xm,w(V,A)&&d.ref===p.ref)return Lo(d,p,E)}return p.flags|=1,d=Ra(D,A),d.ref=p.ref,d.return=p,p.child=d}function S2(d,p,w,A,E){if(d!==null&&Xm(d.memoizedProps,A)&&d.ref===p.ref)if(_i=!1,(d.lanes&E)!==0)d.flags&131072&&(_i=!0);else return p.lanes=d.lanes,Lo(d,p,E);return vx(d,p,w,A,E)}function A2(d,p,w){var A=p.pendingProps,E=A.children,D=d!==null?d.memoizedState:null;if(A.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},Pt(Cc,wi),wi|=w;else if(w&1073741824)p.memoizedState={baseLanes:0,cachePool:null},A=D!==null?D.baseLanes:w,Pt(Cc,wi),wi|=A;else return d=D!==null?D.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null},p.updateQueue=null,Pt(Cc,wi),wi|=d,null;else D!==null?(A=D.baseLanes|w,p.memoizedState=null):A=w,Pt(Cc,wi),wi|=A;return Fr(d,p,E,w),p.child}function M2(d,p){var w=p.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function vx(d,p,w,A,E){var D=Zr(w)?Eo:Ht.current;return D=To(p,D),vc(p,E),w=fx(d,p,w,A,D,E),A=dx(),d!==null&&!_i?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~E,Lo(d,p,E)):(an&&A&&tx(p),p.flags|=1,Fr(d,p,w,E),p.child)}function b2(d,p,w,A,E){if(Zr(w)){var D=!0;Hm(p)}else D=!1;if(vc(p,E),p.stateNode===null)d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),zE(p,w,A),ex(p,w,A,E),A=!0;else if(d===null){var V=p.stateNode,Y=p.memoizedProps;V.props=Y;var ue=V.context,Se=w.contextType;typeof Se=="object"&&Se!==null?Se=ji(Se):(Se=Zr(w)?Eo:Ht.current,Se=To(p,Se));var Ne=w.getDerivedStateFromProps,ct=typeof Ne=="function"||typeof V.getSnapshotBeforeUpdate=="function";ct||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Y!==A||ue!==Se)&&UE(p,V,A,Se),Ma=!1;var tt=p.memoizedState;V.state=tt,qm(p,A,V,E),ue=p.memoizedState,Y!==A||tt!==ue||or.current||Ma?(typeof Ne=="function"&&(Z1(p,w,Ne,A),ue=p.memoizedState),(Y=Ma||NE(p,w,Y,A,tt,ue,Se))?(ct||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(p.flags|=4194308)):(typeof V.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=ue),V.props=A,V.state=ue,V.context=Se,A=Y):(typeof V.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{V=p.stateNode,LE(d,p),Y=p.memoizedProps,Se=p.type===p.elementType?Y:Cs(p.type,Y),V.props=Se,ct=p.pendingProps,tt=V.context,ue=w.contextType,typeof ue=="object"&&ue!==null?ue=ji(ue):(ue=Zr(w)?Eo:Ht.current,ue=To(p,ue));var Jt=w.getDerivedStateFromProps;(Ne=typeof Jt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Y!==ct||tt!==ue)&&UE(p,V,A,ue),Ma=!1,tt=p.memoizedState,V.state=tt,qm(p,A,V,E);var Xe=p.memoizedState;Y!==ct||tt!==Xe||or.current||Ma?(typeof Jt=="function"&&(Z1(p,w,Jt,A),Xe=p.memoizedState),(Se=Ma||NE(p,w,Se,A,tt,Xe,ue)||!1)?(Ne||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(A,Xe,ue),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(A,Xe,ue)),typeof V.componentDidUpdate=="function"&&(p.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof V.componentDidUpdate!="function"||Y===d.memoizedProps&&tt===d.memoizedState||(p.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Y===d.memoizedProps&&tt===d.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=Xe),V.props=A,V.state=Xe,V.context=ue,A=Se):(typeof V.componentDidUpdate!="function"||Y===d.memoizedProps&&tt===d.memoizedState||(p.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Y===d.memoizedProps&&tt===d.memoizedState||(p.flags|=1024),A=!1)}return xx(d,p,w,A,D,E)}function xx(d,p,w,A,E,D){M2(d,p);var V=(p.flags&128)!==0;if(!A&&!V)return E&&PE(p,w,!1),Lo(d,p,D);A=p.stateNode,E9.current=p;var Y=V&&typeof w.getDerivedStateFromError!="function"?null:A.render();return p.flags|=1,d!==null&&V?(p.child=Sc(p,d.child,null,D),p.child=Sc(p,null,Y,D)):Fr(d,p,Y,D),p.memoizedState=A.state,E&&PE(p,w,!0),p.child}function C2(d){var p=d.stateNode;p.pendingContext?EE(d,p.pendingContext,p.pendingContext!==p.context):p.context&&EE(d,p.context,!1),ox(d,p.containerInfo)}function E2(d,p,w,A,E){return wc(),sx(E),p.flags|=256,Fr(d,p,w,A),p.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function pg(d){return{baseLanes:d,cachePool:null}}function T2(d,p,w){var A=p.pendingProps,E=dn.current,D=!1,V=(p.flags&128)!==0,Y;if((Y=V)||(Y=d!==null&&d.memoizedState===null?!1:(E&2)!==0),Y?(D=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(E|=1),Pt(dn,E&1),d===null)return ix(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(p.mode&1?Rd(d)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(E=A.children,d=A.fallback,D?(A=p.mode,D=p.child,E={mode:"hidden",children:E},!(A&1)&&D!==null?(D.childLanes=0,D.pendingProps=E):D=Lg(E,A,0,null),d=Yl(d,A,w,null),D.return=p,d.return=p,D.sibling=d,p.child=D,p.child.memoizedState=pg(w),p.memoizedState=hg,d):_x(p,E));if(E=d.memoizedState,E!==null){if(Y=E.dehydrated,Y!==null){if(V)return p.flags&256?(p.flags&=-257,mg(d,p,w,Error(o(422)))):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(D=A.fallback,E=p.mode,A=Lg({mode:"visible",children:A.children},E,0,null),D=Yl(D,E,w,null),D.flags|=2,A.return=p,D.return=p,A.sibling=D,p.child=A,p.mode&1&&Sc(p,d.child,null,w),p.child.memoizedState=pg(w),p.memoizedState=hg,D);if(!(p.mode&1))p=mg(d,p,w,null);else if(Rd(Y))p=mg(d,p,w,Error(o(419)));else if(A=(w&d.childLanes)!==0,_i||A){if(A=Hn,A!==null){switch(w&-w){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}A=D&(A.suspendedLanes|w)?0:D,A!==0&&A!==E.retryLane&&(E.retryLane=A,Yi(d,A,-1))}Ux(),p=mg(d,p,w,Error(o(421)))}else Um(Y)?(p.flags|=128,p.child=d.child,p=U9.bind(null,d),U(Y,p),p=null):(w=E.treeContext,ae&&(xi=me(Y),vi=p,an=!0,Es=null,Id=!1,w!==null&&($i[Ji++]=Bo,$i[Ji++]=Do,$i[Ji++]=Hl,Bo=w.id,Do=w.overflow,Hl=p)),p=_x(p,p.pendingProps.children),p.flags|=4096);return p}return D?(A=R2(d,p,A.children,A.fallback,w),D=p.child,E=d.child.memoizedState,D.memoizedState=E===null?pg(w):{baseLanes:E.baseLanes|w,cachePool:null},D.childLanes=d.childLanes&~w,p.memoizedState=hg,A):(w=P2(d,p,A.children,w),p.memoizedState=null,w)}return D?(A=R2(d,p,A.children,A.fallback,w),D=p.child,E=d.child.memoizedState,D.memoizedState=E===null?pg(w):{baseLanes:E.baseLanes|w,cachePool:null},D.childLanes=d.childLanes&~w,p.memoizedState=hg,A):(w=P2(d,p,A.children,w),p.memoizedState=null,w)}function _x(d,p){return p=Lg({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function P2(d,p,w,A){var E=d.child;return d=E.sibling,w=Ra(E,{mode:"visible",children:w}),!(p.mode&1)&&(w.lanes=A),w.return=p,w.sibling=null,d!==null&&(A=p.deletions,A===null?(p.deletions=[d],p.flags|=16):A.push(d)),p.child=w}function R2(d,p,w,A,E){var D=p.mode;d=d.child;var V=d.sibling,Y={mode:"hidden",children:w};return!(D&1)&&p.child!==d?(w=p.child,w.childLanes=0,w.pendingProps=Y,p.deletions=null):(w=Ra(d,Y),w.subtreeFlags=d.subtreeFlags&14680064),V!==null?A=Ra(V,A):(A=Yl(A,D,E,null),A.flags|=2),A.return=p,w.return=p,w.sibling=A,p.child=w,A}function mg(d,p,w,A){return A!==null&&sx(A),Sc(p,d.child,null,w),d=_x(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function B2(d,p,w){d.lanes|=p;var A=d.alternate;A!==null&&(A.lanes|=p),Q1(d.return,p,w)}function wx(d,p,w,A,E){var D=d.memoizedState;D===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:E}:(D.isBackwards=p,D.rendering=null,D.renderingStartTime=0,D.last=A,D.tail=w,D.tailMode=E)}function D2(d,p,w){var A=p.pendingProps,E=A.revealOrder,D=A.tail;if(Fr(d,p,A.children,w),A=dn.current,A&2)A=A&1|2,p.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&B2(d,w,p);else if(d.tag===19)B2(d,w,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}A&=1}if(Pt(dn,A),!(p.mode&1))p.memoizedState=null;else switch(E){case"forwards":for(w=p.child,E=null;w!==null;)d=w.alternate,d!==null&&rg(d)===null&&(E=w),w=w.sibling;w=E,w===null?(E=p.child,p.child=null):(E=w.sibling,w.sibling=null),wx(p,!1,E,w,D);break;case"backwards":for(w=null,E=p.child,p.child=null;E!==null;){if(d=E.alternate,d!==null&&rg(d)===null){p.child=E;break}d=E.sibling,E.sibling=w,w=E,E=d}wx(p,!0,w,null,D);break;case"together":wx(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Lo(d,p,w){if(d!==null&&(p.dependencies=d.dependencies),Ec|=p.lanes,!(w&p.childLanes))return null;if(d!==null&&p.child!==d.child)throw Error(o(153));if(p.child!==null){for(d=p.child,w=Ra(d,d.pendingProps),p.child=w,w.return=p;d.sibling!==null;)d=d.sibling,w=w.sibling=Ra(d,d.pendingProps),w.return=p;w.sibling=null}return p.child}function T9(d,p,w){switch(p.tag){case 3:C2(p),wc();break;case 5:XE(p);break;case 1:Zr(p.type)&&Hm(p);break;case 4:ox(p,p.stateNode.containerInfo);break;case 10:IE(p,p.type._context,p.memoizedProps.value);break;case 13:var A=p.memoizedState;if(A!==null)return A.dehydrated!==null?(Pt(dn,dn.current&1),p.flags|=128,null):w&p.child.childLanes?T2(d,p,w):(Pt(dn,dn.current&1),d=Lo(d,p,w),d!==null?d.sibling:null);Pt(dn,dn.current&1);break;case 19:if(A=(w&p.childLanes)!==0,d.flags&128){if(A)return D2(d,p,w);p.flags|=128}var E=p.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Pt(dn,dn.current),A)break;return null;case 22:case 23:return p.lanes=0,A2(d,p,w)}return Lo(d,p,w)}function P9(d,p){switch(nx(p),p.tag){case 1:return Zr(p.type)&&Gm(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Mc(),ht(or),ht(Ht),ux(),d=p.flags,d&65536&&!(d&128)?(p.flags=d&-65537|128,p):null;case 5:return ax(p),null;case 13:if(ht(dn),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(o(340));wc()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return ht(dn),null;case 4:return Mc(),null;case 10:return Y1(p.type._context),null;case 22:case 23:return zx(),null;case 24:return null;default:return null}}var gg=!1,jl=!1,R9=typeof WeakSet=="function"?WeakSet:Set,Be=null;function yg(d,p){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){ni(d,p,A)}else w.current=null}function Sx(d,p,w){try{w()}catch(A){ni(d,p,A)}}var I2=!1;function B9(d,p){for(z(d.containerInfo),Be=p;Be!==null;)if(d=Be,p=d.child,(d.subtreeFlags&1028)!==0&&p!==null)p.return=d,Be=p;else for(;Be!==null;){d=Be;try{var w=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,E=w.memoizedState,D=d.stateNode,V=D.getSnapshotBeforeUpdate(d.elementType===d.type?A:Cs(d.type,A),E);D.__reactInternalSnapshotBeforeUpdate=V}break;case 3:Ve&&Ie(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Y){ni(d,d.return,Y)}if(p=d.sibling,p!==null){p.return=d.return,Be=p;break}Be=d.return}return w=I2,I2=!1,w}function $l(d,p,w){var A=p.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var E=A=A.next;do{if((E.tag&d)===d){var D=E.destroy;E.destroy=void 0,D!==void 0&&Sx(p,w,D)}E=E.next}while(E!==A)}}function jd(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&d)===d){var A=w.create;w.destroy=A()}w=w.next}while(w!==p)}}function Ax(d){var p=d.ref;if(p!==null){var w=d.stateNode;switch(d.tag){case 5:d=X(w);break;default:d=w}typeof p=="function"?p(d):p.current=d}}function L2(d,p,w){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount($m,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(d=p.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var A=d=d.next;do{var E=A,D=E.destroy;E=E.tag,D!==void 0&&(E&2||E&4)&&Sx(p,w,D),A=A.next}while(A!==d)}break;case 1:if(yg(p,w),d=p.stateNode,typeof d.componentWillUnmount=="function")try{d.props=p.memoizedProps,d.state=p.memoizedState,d.componentWillUnmount()}catch(V){ni(p,w,V)}break;case 5:yg(p,w);break;case 4:Ve?U2(d,p,w):he&&he&&(p=p.stateNode.containerInfo,w=Bt(p),Ys(p,w))}}function k2(d,p,w){for(var A=p;;)if(L2(d,A,w),A.child===null||Ve&&A.tag===4){if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function F2(d){var p=d.alternate;p!==null&&(d.alternate=null,F2(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&at(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function O2(d){return d.tag===5||d.tag===3||d.tag===4}function N2(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||O2(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function z2(d){if(Ve){e:{for(var p=d.return;p!==null;){if(O2(p))break e;p=p.return}throw Error(o(160))}var w=p;switch(w.tag){case 5:p=w.stateNode,w.flags&32&&(Ut(p),w.flags&=-33),w=N2(d),bx(d,w,p);break;case 3:case 4:p=w.stateNode.containerInfo,w=N2(d),Mx(d,w,p);break;default:throw Error(o(161))}}}function Mx(d,p,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,p?Ye(w,d,p):Te(w,d);else if(A!==4&&(d=d.child,d!==null))for(Mx(d,p,w),d=d.sibling;d!==null;)Mx(d,p,w),d=d.sibling}function bx(d,p,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,p?Ue(w,d,p):qe(w,d);else if(A!==4&&(d=d.child,d!==null))for(bx(d,p,w),d=d.sibling;d!==null;)bx(d,p,w),d=d.sibling}function U2(d,p,w){for(var A=p,E=!1,D,V;;){if(!E){E=A.return;e:for(;;){if(E===null)throw Error(o(160));switch(D=E.stateNode,E.tag){case 5:V=!1;break e;case 3:D=D.containerInfo,V=!0;break e;case 4:D=D.containerInfo,V=!0;break e}E=E.return}E=!0}if(A.tag===5||A.tag===6)k2(d,A,w),V?vt(D,A.stateNode):je(D,A.stateNode);else if(A.tag===18)V?sn(D,A.stateNode):Ct(D,A.stateNode);else if(A.tag===4){if(A.child!==null){D=A.stateNode.containerInfo,V=!0,A.child.return=A,A=A.child;continue}}else if(L2(d,A,w),A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return,A.tag===4&&(E=!1)}A.sibling.return=A.return,A=A.sibling}}function Cx(d,p){if(Ve){switch(p.tag){case 0:case 11:case 14:case 15:$l(3,p,p.return),jd(3,p),$l(5,p,p.return);return;case 1:return;case 5:var w=p.stateNode;if(w!=null){var A=p.memoizedProps;d=d!==null?d.memoizedProps:A;var E=p.type,D=p.updateQueue;p.updateQueue=null,D!==null&&Ze(w,D,E,d,A,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));w=p.memoizedProps,pe(p.stateNode,d!==null?d.memoizedProps:w,w);return;case 3:ae&&d!==null&&d.memoizedState.isDehydrated&&Dt(p.stateNode.containerInfo);return;case 12:return;case 13:vg(p);return;case 19:vg(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:$l(3,p,p.return),jd(3,p),$l(5,p,p.return);return;case 12:return;case 13:vg(p);return;case 19:vg(p);return;case 3:ae&&d!==null&&d.memoizedState.isDehydrated&&Dt(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Ys(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function vg(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new R9),p.forEach(function(A){var E=G9.bind(null,d,A);w.has(A)||(w.add(A),A.then(E,E))})}}function D9(d,p){for(Be=p;Be!==null;){p=Be;var w=p.deletions;if(w!==null)for(var A=0;A<w.length;A++){var E=w[A];try{var D=d;Ve?U2(D,E,p):k2(D,E,p);var V=E.alternate;V!==null&&(V.return=null),E.return=null}catch($e){ni(E,p,$e)}}if(w=p.child,p.subtreeFlags&12854&&w!==null)w.return=p,Be=w;else for(;Be!==null;){p=Be;try{var Y=p.flags;if(Y&32&&Ve&&Ut(p.stateNode),Y&512){var ue=p.alternate;if(ue!==null){var Se=ue.ref;Se!==null&&(typeof Se=="function"?Se(null):Se.current=null)}}if(Y&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var Ne=p.alternate;(Ne===null||Ne.memoizedState===null)&&(Ix=ar())}break;case 22:var ct=p.memoizedState!==null,tt=p.alternate,Jt=tt!==null&&tt.memoizedState!==null;if(w=p,Ve){e:if(A=w,E=ct,D=null,Ve)for(var Xe=A;;){if(Xe.tag===5){if(D===null){D=Xe;var Mr=Xe.stateNode;E?bn(Mr):de(Xe.stateNode,Xe.memoizedProps)}}else if(Xe.tag===6){if(D===null){var qi=Xe.stateNode;E?Q(qi):we(qi,Xe.memoizedProps)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===A)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===A)break;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===A)break e;D===Xe&&(D=null),Xe=Xe.return}D===Xe&&(D=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}if(ct&&!Jt&&w.mode&1){Be=w;for(var ie=w.child;ie!==null;){for(w=Be=ie;Be!==null;){A=Be;var Z=A.child;switch(A.tag){case 0:case 11:case 14:case 15:$l(4,A,A.return);break;case 1:yg(A,A.return);var le=A.stateNode;if(typeof le.componentWillUnmount=="function"){var De=A.return;try{le.props=A.memoizedProps,le.state=A.memoizedState,le.componentWillUnmount()}catch($e){ni(A,De,$e)}}break;case 5:yg(A,A.return);break;case 22:if(A.memoizedState!==null){V2(w);continue}}Z!==null?(Z.return=A,Be=Z):V2(w)}ie=ie.sibling}}}switch(Y&4102){case 2:z2(p),p.flags&=-3;break;case 6:z2(p),p.flags&=-3,Cx(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,Cx(p.alternate,p);break;case 4:Cx(p.alternate,p)}}catch($e){ni(p,p.return,$e)}if(w=p.sibling,w!==null){w.return=p.return,Be=w;break}Be=p.return}}}function I9(d,p,w){Be=d,G2(d)}function G2(d,p,w){for(var A=(d.mode&1)!==0;Be!==null;){var E=Be,D=E.child;if(E.tag===22&&A){var V=E.memoizedState!==null||gg;if(!V){var Y=E.alternate,ue=Y!==null&&Y.memoizedState!==null||jl;Y=gg;var Se=jl;if(gg=V,(jl=ue)&&!Se)for(Be=E;Be!==null;)V=Be,ue=V.child,V.tag===22&&V.memoizedState!==null?W2(E):ue!==null?(ue.return=V,Be=ue):W2(E);for(;D!==null;)Be=D,G2(D),D=D.sibling;Be=E,gg=Y,jl=Se}H2(d)}else E.subtreeFlags&8772&&D!==null?(D.return=E,Be=D):H2(d)}}function H2(d){for(;Be!==null;){var p=Be;if(p.flags&8772){var w=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:jl||jd(5,p);break;case 1:var A=p.stateNode;if(p.flags&4&&!jl)if(w===null)A.componentDidMount();else{var E=p.elementType===p.type?w.memoizedProps:Cs(p.type,w.memoizedProps);A.componentDidUpdate(E,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var D=p.updateQueue;D!==null&&FE(p,D,A);break;case 3:var V=p.updateQueue;if(V!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=X(p.child.stateNode);break;case 1:w=p.child.stateNode}FE(p,V,w)}break;case 5:var Y=p.stateNode;w===null&&p.flags&4&&We(Y,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(ae&&p.memoizedState===null){var ue=p.alternate;if(ue!==null){var Se=ue.memoizedState;if(Se!==null){var Ne=Se.dehydrated;Ne!==null&&xt(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}jl||p.flags&512&&Ax(p)}catch(ct){ni(p,p.return,ct)}}if(p===d){Be=null;break}if(w=p.sibling,w!==null){w.return=p.return,Be=w;break}Be=p.return}}function V2(d){for(;Be!==null;){var p=Be;if(p===d){Be=null;break}var w=p.sibling;if(w!==null){w.return=p.return,Be=w;break}Be=p.return}}function W2(d){for(;Be!==null;){var p=Be;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{jd(4,p)}catch(ue){ni(p,w,ue)}break;case 1:var A=p.stateNode;if(typeof A.componentDidMount=="function"){var E=p.return;try{A.componentDidMount()}catch(ue){ni(p,E,ue)}}var D=p.return;try{Ax(p)}catch(ue){ni(p,D,ue)}break;case 5:var V=p.return;try{Ax(p)}catch(ue){ni(p,V,ue)}}}catch(ue){ni(p,p.return,ue)}if(p===d){Be=null;break}var Y=p.sibling;if(Y!==null){Y.return=p.return,Be=Y;break}Be=p.return}}var xg=0,_g=1,wg=2,Sg=3,Ag=4;if(typeof Symbol=="function"&&Symbol.for){var $d=Symbol.for;xg=$d("selector.component"),_g=$d("selector.has_pseudo_class"),wg=$d("selector.role"),Sg=$d("selector.test_id"),Ag=$d("selector.text")}function Ex(d){var p=Ae(d);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(d=Lt(d),d===null)throw Error(o(362));return d.stateNode.current}function Tx(d,p){switch(p.$$typeof){case xg:if(d.type===p.value)return!0;break;case _g:e:{p=p.value,d=[d,0];for(var w=0;w<d.length;){var A=d[w++],E=d[w++],D=p[E];if(A.tag!==5||!q(A)){for(;D!=null&&Tx(A,D);)E++,D=p[E];if(E===p.length){p=!0;break e}else for(A=A.child;A!==null;)d.push(A,E),A=A.sibling}}p=!1}return p;case wg:if(d.tag===5&&ve(d.stateNode,p.value))return!0;break;case Ag:if((d.tag===5||d.tag===6)&&(d=L(d),d!==null&&0<=d.indexOf(p.value)))return!0;break;case Sg:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Px(d){switch(d.$$typeof){case xg:return"<"+(R(d.value)||"Unknown")+">";case _g:return":has("+(Px(d)||"")+")";case wg:return'[role="'+d.value+'"]';case Ag:return'"'+d.value+'"';case Sg:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function j2(d,p){var w=[];d=[d,0];for(var A=0;A<d.length;){var E=d[A++],D=d[A++],V=p[D];if(E.tag!==5||!q(E)){for(;V!=null&&Tx(E,V);)D++,V=p[D];if(D===p.length)w.push(E);else for(E=E.child;E!==null;)d.push(E,D),E=E.sibling}}return w}function Rx(d,p){if(!Tt)throw Error(o(363));d=Ex(d),d=j2(d,p),p=[],d=Array.from(d);for(var w=0;w<d.length;){var A=d[w++];if(A.tag===5)q(A)||p.push(A.stateNode);else for(A=A.child;A!==null;)d.push(A),A=A.sibling}return p}var L9=Math.ceil,Mg=a.ReactCurrentDispatcher,Bx=a.ReactCurrentOwner,Ln=a.ReactCurrentBatchConfig,yt=0,Hn=null,Vn=null,mr=0,wi=0,Cc=Vi(0),Yn=0,Jd=null,Ec=0,bg=0,Dx=0,Xd=null,ei=null,Ix=0,Lx=1/0;function Tc(){Lx=ar()+500}var Cg=!1,kx=null,Ca=null,Eg=!1,Ea=null,Tg=0,Kd=0,Fx=null,Pg=-1,Rg=0;function Or(){return yt&6?ar():Pg!==-1?Pg:Pg=ar()}function Ta(d){return d.mode&1?yt&2&&mr!==0?mr&-mr:g9.transition!==null?(Rg===0&&(d=Vm,Vm<<=1,!(Vm&4194240)&&(Vm=64),Rg=d),Rg):(d=kt,d!==0?d:Ee()):1}function Yi(d,p,w){if(50<Kd)throw Kd=0,Fx=null,Error(o(185));var A=Bg(d,p);return A===null?null:(Dd(A,p,w),(!(yt&2)||A!==Hn)&&(A===Hn&&(!(yt&2)&&(bg|=p),Yn===4&&Pa(A,mr)),ti(A,w),p===1&&yt===0&&!(d.mode&1)&&(Tc(),Jm&&eo())),A)}function Bg(d,p){d.lanes|=p;var w=d.alternate;for(w!==null&&(w.lanes|=p),w=d,d=d.return;d!==null;)d.childLanes|=p,w=d.alternate,w!==null&&(w.childLanes|=p),w=d,d=d.return;return w.tag===3?w.stateNode:null}function ti(d,p){var w=d.callbackNode;a9(d,p);var A=jm(d,d===Hn?mr:0);if(A===0)w!==null&&BE(w),d.callbackNode=null,d.callbackPriority=0;else if(p=A&-A,d.callbackPriority!==p){if(w!=null&&BE(w),p===1)d.tag===0?m9(J2.bind(null,d)):DE(J2.bind(null,d)),rt?Qe(function(){yt===0&&eo()}):W1(j1,eo),w=null;else{switch(RE(A)){case 1:w=j1;break;case 4:w=f9;break;case 16:w=$1;break;case 536870912:w=d9;break;default:w=$1}w=nT(w,$2.bind(null,d))}d.callbackPriority=p,d.callbackNode=w}}function $2(d,p){if(Pg=-1,Rg=0,yt&6)throw Error(o(327));var w=d.callbackNode;if(Kl()&&d.callbackNode!==w)return null;var A=jm(d,d===Hn?mr:0);if(A===0)return null;if(A&30||A&d.expiredLanes||p)p=Dg(d,A);else{p=A;var E=yt;yt|=2;var D=Y2();(Hn!==d||mr!==p)&&(Tc(),Jl(d,p));do try{O9();break}catch(Y){K2(d,Y)}while(1);K1(),Mg.current=D,yt=E,Vn!==null?p=0:(Hn=null,mr=0,p=Yn)}if(p!==0){if(p===2&&(E=G1(d),E!==0&&(A=E,p=Ox(d,E))),p===1)throw w=Jd,Jl(d,0),Pa(d,A),ti(d,ar()),w;if(p===6)Pa(d,A);else{if(E=d.current.alternate,!(A&30)&&!k9(E)&&(p=Dg(d,A),p===2&&(D=G1(d),D!==0&&(A=D,p=Ox(d,D))),p===1))throw w=Jd,Jl(d,0),Pa(d,A),ti(d,ar()),w;switch(d.finishedWork=E,d.finishedLanes=A,p){case 0:case 1:throw Error(o(345));case 2:Xl(d,ei);break;case 3:if(Pa(d,A),(A&130023424)===A&&(p=Ix+500-ar(),10<p)){if(jm(d,0)!==0)break;if(E=d.suspendedLanes,(E&A)!==A){Or(),d.pingedLanes|=d.suspendedLanes&E;break}d.timeoutHandle=He(Xl.bind(null,d,ei),p);break}Xl(d,ei);break;case 4:if(Pa(d,A),(A&4194240)===A)break;for(p=d.eventTimes,E=-1;0<A;){var V=31-bs(A);D=1<<V,V=p[V],V>E&&(E=V),A&=~D}if(A=E,A=ar()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*L9(A/1960))-A,10<A){d.timeoutHandle=He(Xl.bind(null,d,ei),A);break}Xl(d,ei);break;case 5:Xl(d,ei);break;default:throw Error(o(329))}}}return ti(d,ar()),d.callbackNode===w?$2.bind(null,d):null}function Ox(d,p){var w=Xd;return d.current.memoizedState.isDehydrated&&(Jl(d,p).flags|=256),d=Dg(d,p),d!==2&&(p=ei,ei=w,p!==null&&Nx(p)),d}function Nx(d){ei===null?ei=d:ei.push.apply(ei,d)}function k9(d){for(var p=d;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var E=w[A],D=E.getSnapshot;E=E.value;try{if(!Zs(D(),E))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Pa(d,p){for(p&=~Dx,p&=~bg,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var w=31-bs(p),A=1<<w;d[w]=-1,p&=~A}}function J2(d){if(yt&6)throw Error(o(327));Kl();var p=jm(d,0);if(!(p&1))return ti(d,ar()),null;var w=Dg(d,p);if(d.tag!==0&&w===2){var A=G1(d);A!==0&&(p=A,w=Ox(d,A))}if(w===1)throw w=Jd,Jl(d,0),Pa(d,p),ti(d,ar()),w;if(w===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,Xl(d,ei),ti(d,ar()),null}function X2(d){Ea!==null&&Ea.tag===0&&!(yt&6)&&Kl();var p=yt;yt|=1;var w=Ln.transition,A=kt;try{if(Ln.transition=null,kt=1,d)return d()}finally{kt=A,Ln.transition=w,yt=p,!(yt&6)&&eo()}}function zx(){wi=Cc.current,ht(Cc)}function Jl(d,p){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==Ke&&(d.timeoutHandle=Ke,Ge(w)),Vn!==null)for(w=Vn.return;w!==null;){var A=w;switch(nx(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Gm();break;case 3:Mc(),ht(or),ht(Ht),ux();break;case 5:ax(A);break;case 4:Mc();break;case 13:ht(dn);break;case 19:ht(dn);break;case 10:Y1(A.type._context);break;case 22:case 23:zx()}w=w.return}if(Hn=d,Vn=d=Ra(d.current,null),mr=wi=p,Yn=0,Jd=null,Dx=bg=Ec=0,ei=Xd=null,to!==null){for(p=0;p<to.length;p++)if(w=to[p],A=w.interleaved,A!==null){w.interleaved=null;var E=A.next,D=w.pending;if(D!==null){var V=D.next;D.next=E,A.next=V}w.pending=A}to=null}return d}function K2(d,p){do{var w=Vn;try{if(K1(),ig.current=cg,sg){for(var A=Cn.memoizedState;A!==null;){var E=A.queue;E!==null&&(E.pending=null),A=A.next}sg=!1}if(bc=0,lr=wr=Cn=null,Nd=!1,zd=0,Bx.current=null,w===null||w.return===null){Yn=1,Jd=p,Vn=null;break}e:{var D=d,V=w.return,Y=w,ue=p;if(p=mr,Y.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Se=ue,Ne=Y,ct=Ne.tag;if(!(Ne.mode&1)&&(ct===0||ct===11||ct===15)){var tt=Ne.alternate;tt?(Ne.updateQueue=tt.updateQueue,Ne.memoizedState=tt.memoizedState,Ne.lanes=tt.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var Jt=g2(V);if(Jt!==null){Jt.flags&=-257,y2(Jt,V,Y,D,p),Jt.mode&1&&m2(D,Se,p),p=Jt,ue=Se;var Xe=p.updateQueue;if(Xe===null){var Mr=new Set;Mr.add(ue),p.updateQueue=Mr}else Xe.add(ue);break e}else{if(!(p&1)){m2(D,Se,p),Ux();break e}ue=Error(o(426))}}else if(an&&Y.mode&1){var qi=g2(V);if(qi!==null){!(qi.flags&65536)&&(qi.flags|=256),y2(qi,V,Y,D,p),sx(ue);break e}}D=ue,Yn!==4&&(Yn=2),Xd===null?Xd=[D]:Xd.push(D),ue=gx(ue,Y),Y=V;do{switch(Y.tag){case 3:Y.flags|=65536,p&=-p,Y.lanes|=p;var ie=h2(Y,ue,p);kE(Y,ie);break e;case 1:D=ue;var Z=Y.type,le=Y.stateNode;if(!(Y.flags&128)&&(typeof Z.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Ca===null||!Ca.has(le)))){Y.flags|=65536,p&=-p,Y.lanes|=p;var De=p2(Y,D,p);kE(Y,De);break e}}Y=Y.return}while(Y!==null)}q2(w)}catch($e){p=$e,Vn===w&&w!==null&&(Vn=w=w.return);continue}break}while(1)}function Y2(){var d=Mg.current;return Mg.current=cg,d===null?cg:d}function Ux(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),Hn===null||!(Ec&268435455)&&!(bg&268435455)||Pa(Hn,mr)}function Dg(d,p){var w=yt;yt|=2;var A=Y2();Hn===d&&mr===p||Jl(d,p);do try{F9();break}catch(E){K2(d,E)}while(1);if(K1(),yt=w,Mg.current=A,Vn!==null)throw Error(o(261));return Hn=null,mr=0,Yn}function F9(){for(;Vn!==null;)Q2(Vn)}function O9(){for(;Vn!==null&&!u9();)Q2(Vn)}function Q2(d){var p=tT(d.alternate,d,wi);d.memoizedProps=d.pendingProps,p===null?q2(d):Vn=p,Bx.current=null}function q2(d){var p=d;do{var w=p.alternate;if(d=p.return,p.flags&32768){if(w=P9(w,p),w!==null){w.flags&=32767,Vn=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Yn=6,Vn=null;return}}else if(w=C9(w,p,wi),w!==null){Vn=w;return}if(p=p.sibling,p!==null){Vn=p;return}Vn=p=d}while(p!==null);Yn===0&&(Yn=5)}function Xl(d,p){var w=kt,A=Ln.transition;try{Ln.transition=null,kt=1,N9(d,p,w)}finally{Ln.transition=A,kt=w}return null}function N9(d,p,w){do Kl();while(Ea!==null);if(yt&6)throw Error(o(327));var A=d.finishedWork,E=d.finishedLanes;if(A===null)return null;if(d.finishedWork=null,d.finishedLanes=0,A===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var D=A.lanes|A.childLanes;if(l9(d,D),d===Hn&&(Vn=Hn=null,mr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Eg||(Eg=!0,nT($1,function(){return Kl(),null})),D=(A.flags&15990)!==0,A.subtreeFlags&15990||D){D=Ln.transition,Ln.transition=null;var V=kt;kt=1;var Y=yt;yt|=4,Bx.current=null,B9(d,A),D9(d,A),H(d.containerInfo),d.current=A,I9(A),c9(),yt=Y,kt=V,Ln.transition=D}else d.current=A;if(Eg&&(Eg=!1,Ea=d,Tg=E),D=d.pendingLanes,D===0&&(Ca=null),h9(A.stateNode),ti(d,ar()),p!==null)for(w=d.onRecoverableError,A=0;A<p.length;A++)w(p[A]);if(Cg)throw Cg=!1,d=kx,kx=null,d;return Tg&1&&d.tag!==0&&Kl(),D=d.pendingLanes,D&1?d===Fx?Kd++:(Kd=0,Fx=d):Kd=0,eo(),null}function Kl(){if(Ea!==null){var d=RE(Tg),p=Ln.transition,w=kt;try{if(Ln.transition=null,kt=16>d?16:d,Ea===null)var A=!1;else{if(d=Ea,Ea=null,Tg=0,yt&6)throw Error(o(331));var E=yt;for(yt|=4,Be=d.current;Be!==null;){var D=Be,V=D.child;if(Be.flags&16){var Y=D.deletions;if(Y!==null){for(var ue=0;ue<Y.length;ue++){var Se=Y[ue];for(Be=Se;Be!==null;){var Ne=Be;switch(Ne.tag){case 0:case 11:case 15:$l(8,Ne,D)}var ct=Ne.child;if(ct!==null)ct.return=Ne,Be=ct;else for(;Be!==null;){Ne=Be;var tt=Ne.sibling,Jt=Ne.return;if(F2(Ne),Ne===Se){Be=null;break}if(tt!==null){tt.return=Jt,Be=tt;break}Be=Jt}}}var Xe=D.alternate;if(Xe!==null){var Mr=Xe.child;if(Mr!==null){Xe.child=null;do{var qi=Mr.sibling;Mr.sibling=null,Mr=qi}while(Mr!==null)}}Be=D}}if(D.subtreeFlags&2064&&V!==null)V.return=D,Be=V;else e:for(;Be!==null;){if(D=Be,D.flags&2048)switch(D.tag){case 0:case 11:case 15:$l(9,D,D.return)}var ie=D.sibling;if(ie!==null){ie.return=D.return,Be=ie;break e}Be=D.return}}var Z=d.current;for(Be=Z;Be!==null;){V=Be;var le=V.child;if(V.subtreeFlags&2064&&le!==null)le.return=V,Be=le;else e:for(V=Z;Be!==null;){if(Y=Be,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:jd(9,Y)}}catch($e){ni(Y,Y.return,$e)}if(Y===V){Be=null;break e}var De=Y.sibling;if(De!==null){De.return=Y.return,Be=De;break e}Be=Y.return}}if(yt=E,eo(),qs&&typeof qs.onPostCommitFiberRoot=="function")try{qs.onPostCommitFiberRoot($m,d)}catch{}A=!0}return A}finally{kt=w,Ln.transition=p}}return!1}function Z2(d,p,w){p=gx(w,p),p=h2(d,p,1),ba(d,p),p=Or(),d=Bg(d,1),d!==null&&(Dd(d,1,p),ti(d,p))}function ni(d,p,w){if(d.tag===3)Z2(d,d,w);else for(;p!==null;){if(p.tag===3){Z2(p,d,w);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Ca===null||!Ca.has(A))){d=gx(w,d),d=p2(p,d,1),ba(p,d),d=Or(),p=Bg(p,1),p!==null&&(Dd(p,1,d),ti(p,d));break}}p=p.return}}function z9(d,p,w){var A=d.pingCache;A!==null&&A.delete(p),p=Or(),d.pingedLanes|=d.suspendedLanes&w,Hn===d&&(mr&w)===w&&(Yn===4||Yn===3&&(mr&130023424)===mr&&500>ar()-Ix?Jl(d,0):Dx|=w),ti(d,p)}function eT(d,p){p===0&&(d.mode&1?(p=Wm,Wm<<=1,!(Wm&130023424)&&(Wm=4194304)):p=1);var w=Or();d=Bg(d,p),d!==null&&(Dd(d,p,w),ti(d,w))}function U9(d){var p=d.memoizedState,w=0;p!==null&&(w=p.retryLane),eT(d,w)}function G9(d,p){var w=0;switch(d.tag){case 13:var A=d.stateNode,E=d.memoizedState;E!==null&&(w=E.retryLane);break;case 19:A=d.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(p),eT(d,w)}var tT;tT=function(d,p,w){if(d!==null)if(d.memoizedProps!==p.pendingProps||or.current)_i=!0;else{if(!(d.lanes&w)&&!(p.flags&128))return _i=!1,T9(d,p,w);_i=!!(d.flags&131072)}else _i=!1,an&&p.flags&1048576&&GE(p,tg,p.index);switch(p.lanes=0,p.tag){case 2:var A=p.type;d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps;var E=To(p,Ht.current);vc(p,w),E=fx(null,p,A,d,E,w);var D=dx();return p.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Zr(A)?(D=!0,Hm(p)):D=!1,p.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,q1(p),E.updater=Zm,p.stateNode=E,E._reactInternals=p,ex(p,A,d,w),p=xx(null,p,A,!0,D,w)):(p.tag=0,an&&D&&tx(p),Fr(null,p,E,w),p=p.child),p;case 16:A=p.elementType;e:{switch(d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps,E=A._init,A=E(A._payload),p.type=A,E=p.tag=V9(A),d=Cs(A,d),E){case 0:p=vx(null,p,A,d,w);break e;case 1:p=b2(null,p,A,d,w);break e;case 11:p=_2(null,p,A,d,w);break e;case 14:p=w2(null,p,A,Cs(A.type,d),w);break e}throw Error(o(306,A,""))}return p;case 0:return A=p.type,E=p.pendingProps,E=p.elementType===A?E:Cs(A,E),vx(d,p,A,E,w);case 1:return A=p.type,E=p.pendingProps,E=p.elementType===A?E:Cs(A,E),b2(d,p,A,E,w);case 3:e:{if(C2(p),d===null)throw Error(o(387));A=p.pendingProps,D=p.memoizedState,E=D.element,LE(d,p),qm(p,A,null,w);var V=p.memoizedState;if(A=V.element,ae&&D.isDehydrated)if(D={element:A,isDehydrated:!1,cache:V.cache,transitions:V.transitions},p.updateQueue.baseState=D,p.memoizedState=D,p.flags&256){E=Error(o(423)),p=E2(d,p,A,w,E);break e}else if(A!==E){E=Error(o(424)),p=E2(d,p,A,w,E);break e}else for(ae&&(xi=ne(p.stateNode.containerInfo),vi=p,an=!0,Es=null,Id=!1),w=JE(p,null,A,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(wc(),A===E){p=Lo(d,p,w);break e}Fr(d,p,A,w)}p=p.child}return p;case 5:return XE(p),d===null&&ix(p),A=p.type,E=p.pendingProps,D=d!==null?d.memoizedProps:null,V=E.children,Re(A,E)?V=null:D!==null&&Re(A,D)&&(p.flags|=32),M2(d,p),Fr(d,p,V,w),p.child;case 6:return d===null&&ix(p),null;case 13:return T2(d,p,w);case 4:return ox(p,p.stateNode.containerInfo),A=p.pendingProps,d===null?p.child=Sc(p,null,A,w):Fr(d,p,A,w),p.child;case 11:return A=p.type,E=p.pendingProps,E=p.elementType===A?E:Cs(A,E),_2(d,p,A,E,w);case 7:return Fr(d,p,p.pendingProps,w),p.child;case 8:return Fr(d,p,p.pendingProps.children,w),p.child;case 12:return Fr(d,p,p.pendingProps.children,w),p.child;case 10:e:{if(A=p.type._context,E=p.pendingProps,D=p.memoizedProps,V=E.value,IE(p,A,V),D!==null)if(Zs(D.value,V)){if(D.children===E.children&&!or.current){p=Lo(d,p,w);break e}}else for(D=p.child,D!==null&&(D.return=p);D!==null;){var Y=D.dependencies;if(Y!==null){V=D.child;for(var ue=Y.firstContext;ue!==null;){if(ue.context===A){if(D.tag===1){ue=Ro(-1,w&-w),ue.tag=2;var Se=D.updateQueue;if(Se!==null){Se=Se.shared;var Ne=Se.pending;Ne===null?ue.next=ue:(ue.next=Ne.next,Ne.next=ue),Se.pending=ue}}D.lanes|=w,ue=D.alternate,ue!==null&&(ue.lanes|=w),Q1(D.return,w,p),Y.lanes|=w;break}ue=ue.next}}else if(D.tag===10)V=D.type===p.type?null:D.child;else if(D.tag===18){if(V=D.return,V===null)throw Error(o(341));V.lanes|=w,Y=V.alternate,Y!==null&&(Y.lanes|=w),Q1(V,w,p),V=D.sibling}else V=D.child;if(V!==null)V.return=D;else for(V=D;V!==null;){if(V===p){V=null;break}if(D=V.sibling,D!==null){D.return=V.return,V=D;break}V=V.return}D=V}Fr(d,p,E.children,w),p=p.child}return p;case 9:return E=p.type,A=p.pendingProps.children,vc(p,w),E=ji(E),A=A(E),p.flags|=1,Fr(d,p,A,w),p.child;case 14:return A=p.type,E=Cs(A,p.pendingProps),E=Cs(A.type,E),w2(d,p,A,E,w);case 15:return S2(d,p,p.type,p.pendingProps,w);case 17:return A=p.type,E=p.pendingProps,E=p.elementType===A?E:Cs(A,E),d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Zr(A)?(d=!0,Hm(p)):d=!1,vc(p,w),zE(p,A,E),ex(p,A,E,w),xx(null,p,A,!0,d,w);case 19:return D2(d,p,w);case 22:return A2(d,p,w)}throw Error(o(156,p.tag))};function nT(d,p){return W1(d,p)}function H9(d,p,w,A){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(d,p,w,A){return new H9(d,p,w,A)}function Gx(d){return d=d.prototype,!(!d||!d.isReactComponent)}function V9(d){if(typeof d=="function")return Gx(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===_)return 14}return 2}function Ra(d,p){var w=d.alternate;return w===null?(w=Qi(d.tag,p,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=p,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,p=d.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function Ig(d,p,w,A,E,D){var V=2;if(A=d,typeof d=="function")Gx(d)&&(V=1);else if(typeof d=="string")V=5;else e:switch(d){case c:return Yl(w.children,E,D,p);case f:V=8,E|=8;break;case h:return d=Qi(12,w,p,E|2),d.elementType=h,d.lanes=D,d;case v:return d=Qi(13,w,p,E),d.elementType=v,d.lanes=D,d;case x:return d=Qi(19,w,p,E),d.elementType=x,d.lanes=D,d;case M:return Lg(w,E,D,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:V=10;break e;case g:V=9;break e;case y:V=11;break e;case _:V=14;break e;case S:V=16,A=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return p=Qi(V,w,p,E),p.elementType=d,p.type=A,p.lanes=D,p}function Yl(d,p,w,A){return d=Qi(7,d,A,p),d.lanes=w,d}function Lg(d,p,w,A){return d=Qi(22,d,A,p),d.elementType=M,d.lanes=w,d.stateNode={},d}function Hx(d,p,w){return d=Qi(6,d,null,p),d.lanes=w,d}function Vx(d,p,w){return p=Qi(4,d.children!==null?d.children:[],d.key,p),p.lanes=w,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function W9(d,p,w,A,E){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H1(0),this.expirationTimes=H1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H1(0),this.identifierPrefix=A,this.onRecoverableError=E,ae&&(this.mutableSourceEagerHydrationData=null)}function rT(d,p,w,A,E,D,V,Y,ue){return d=new W9(d,p,w,Y,ue),p===1?(p=1,D===!0&&(p|=8)):p=0,D=Qi(3,null,null,p),d.current=D,D.stateNode=d,D.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null},q1(D),d}function iT(d){if(!d)return Wi;d=d._reactInternals;e:{if(B(d)!==d||d.tag!==1)throw Error(o(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Zr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(d.tag===1){var w=d.type;if(Zr(w))return TE(d,w,p)}return p}function sT(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=j(p),d===null?null:d.stateNode}function oT(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<p?w:p}}function Wx(d,p){oT(d,p),(d=d.alternate)&&oT(d,p)}function j9(d){return d=j(d),d===null?null:d.stateNode}function $9(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var p=Or();Yi(d,134217728,p),Wx(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var p=Or(),w=Ta(d);Yi(d,w,p),Wx(d,w)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var w=Bd(p.pendingLanes);w!==0&&(V1(p,w|1),ti(p,ar()),!(yt&6)&&(Tc(),eo()))}break;case 13:var A=Or();X2(function(){return Yi(d,1,A)}),Wx(d,1)}},t.batchedUpdates=function(d,p){var w=yt;yt|=1;try{return d(p)}finally{yt=w,yt===0&&(Tc(),Jm&&eo())}},t.createComponentSelector=function(d){return{$$typeof:xg,value:d}},t.createContainer=function(d,p,w,A,E,D,V){return rT(d,p,!1,null,w,A,E,D,V)},t.createHasPseudoClassSelector=function(d){return{$$typeof:_g,value:d}},t.createHydrationContainer=function(d,p,w,A,E,D,V,Y,ue){return d=rT(w,A,!0,d,E,D,V,Y,ue),d.context=iT(null),w=d.current,A=Or(),E=Ta(w),D=Ro(A,E),D.callback=p??null,ba(w,D),d.current.lanes=E,Dd(d,E,A),ti(d,A),d},t.createPortal=function(d,p,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:A==null?null:""+A,children:d,containerInfo:p,implementation:w}},t.createRoleSelector=function(d){return{$$typeof:wg,value:d}},t.createTestNameSelector=function(d){return{$$typeof:Sg,value:d}},t.createTextSelector=function(d){return{$$typeof:Ag,value:d}},t.deferredUpdates=function(d){var p=kt,w=Ln.transition;try{return Ln.transition=null,kt=16,d()}finally{kt=p,Ln.transition=w}},t.discreteUpdates=function(d,p,w,A,E){var D=kt,V=Ln.transition;try{return Ln.transition=null,kt=1,d(p,w,A,E)}finally{kt=D,Ln.transition=V,yt===0&&Tc()}},t.findAllNodes=Rx,t.findBoundingRects=function(d,p){if(!Tt)throw Error(o(363));p=Rx(d,p),d=[];for(var w=0;w<p.length;w++)d.push(W(p[w]));for(p=d.length-1;0<p;p--){w=d[p];for(var A=w.x,E=A+w.width,D=w.y,V=D+w.height,Y=p-1;0<=Y;Y--)if(p!==Y){var ue=d[Y],Se=ue.x,Ne=Se+ue.width,ct=ue.y,tt=ct+ue.height;if(A>=Se&&D>=ct&&E<=Ne&&V<=tt){d.splice(p,1);break}else if(A!==Se||w.width!==ue.width||tt<D||ct>V){if(!(D!==ct||w.height!==ue.height||Ne<A||Se>E)){Se>A&&(ue.width+=Se-A,ue.x=A),Ne<E&&(ue.width=E-Se),d.splice(p,1);break}}else{ct>D&&(ue.height+=ct-D,ue.y=D),tt<V&&(ue.height=V-ct),d.splice(p,1);break}}}return d},t.findHostInstance=sT,t.findHostInstanceWithNoPortals=function(d){return d=k(d),d=d!==null?N(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return sT(d)},t.flushControlled=function(d){var p=yt;yt|=1;var w=Ln.transition,A=kt;try{Ln.transition=null,kt=1,d()}finally{kt=A,Ln.transition=w,yt=p,yt===0&&(Tc(),eo())}},t.flushPassiveEffects=Kl,t.flushSync=X2,t.focusWithin=function(d,p){if(!Tt)throw Error(o(363));for(d=Ex(d),p=j2(d,p),p=Array.from(p),d=0;d<p.length;){var w=p[d++];if(!q(w)){if(w.tag===5&&xe(w.stateNode))return!0;for(w=w.child;w!==null;)p.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return kt},t.getFindAllNodesFailureDescription=function(d,p){if(!Tt)throw Error(o(363));var w=0,A=[];d=[Ex(d),0];for(var E=0;E<d.length;){var D=d[E++],V=d[E++],Y=p[V];if((D.tag!==5||!q(D))&&(Tx(D,Y)&&(A.push(Px(Y)),V++,V>w&&(w=V)),V<p.length))for(D=D.child;D!==null;)d.push(D,V),D=D.sibling}if(w<p.length){for(d=[];w<p.length;w++)d.push(Px(p[w]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return X(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:j9,findFiberByHostInstance:d.findFiberByHostInstance||$9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)d=!0;else{try{$m=p.inject(d),qs=p}catch{}d=!!p.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,p,w,A){if(!Tt)throw Error(o(363));d=Rx(d,p);var E=Ce(d,w,A).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(d,p){var w=p._getVersion;w=w(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,w]:d.mutableSourceEagerHydrationData.push(p,w)},t.runWithPriority=function(d,p){var w=kt;try{return kt=d,p()}finally{kt=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,p,w,A){var E=p.current,D=Or(),V=Ta(E);return w=iT(w),p.context===null?p.context=w:p.pendingContext=w,p=Ro(D,V),p.payload={element:d},A=A===void 0?null:A,A!==null&&(p.callback=A),ba(E,p),d=Yi(E,V,D),d!==null&&Qm(d,E,V),V},t};t4.exports=bX;var CX=t4.exports;const EX=sc(CX);function i4(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const Xo=[];function s4(n,e,t=!1,r={}){for(const s of Xo)if(i4(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=Xo.indexOf(i);s!==-1&&Xo.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(Xo.push(i),!t)throw i.promise}const TX=(n,e,t)=>s4(n,e,!1,t),PX=(n,e,t)=>void s4(n,e,!0,t),RX=n=>{if(n===void 0||n.length===0)Xo.splice(0,Xo.length);else{const e=Xo.find(t=>i4(n,t.keys,t.equal));if(e){const t=Xo.indexOf(e);t!==-1&&Xo.splice(t,1)}}},xC={},BX=n=>void Object.assign(xC,n);function DX(n,e){function t(c,{args:f=[],attach:h,...m},g){let y=`${c[0].toUpperCase()}${c.slice(1)}`,v;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;v=sf(x,{type:c,root:g,attach:h,primitive:!0})}else{const x=xC[y];if(!x)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");v=sf(new x(...f),{type:c,root:g,attach:h,memoizedProps:{args:f}})}return v.__r3f.attach===void 0&&(v instanceof ot?v.__r3f.attach="geometry":v instanceof Kn&&(v.__r3f.attach="material")),y!=="inject"&&ew(v,m),v}function r(c,f){let h=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?Z_(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||sf(f,{}),f.__r3f.parent=c,BA(f),of(f)}}function i(c,f,h){let m=!1;if(f){var g,y;if((g=f.__r3f)!=null&&g.attach)Z_(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const v=c.children.filter(_=>_!==f),x=v.indexOf(h);c.children=[...v.slice(0,x),f,...v.slice(x)],m=!0}m||(y=c.__r3f)==null||y.objects.push(f),f.__r3f||sf(f,{}),f.__r3f.parent=c,BA(f),of(f)}}function s(c,f,h=!1){c&&[...c].forEach(m=>o(f,m,h))}function o(c,f,h){if(f){var m,g,y;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==f)),(g=f.__r3f)!=null&&g.attach)GP(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var v;c.remove(f),(v=f.__r3f)!=null&&v.root&&UX(f.__r3f.root,f)}const _=(y=f.__r3f)==null?void 0:y.primitive,S=h===void 0?f.dispose!==null&&!_:h;if(!_){var x;s((x=f.__r3f)==null?void 0:x.objects,f,S),s(f.children,f,S)}f.__r3f&&(delete f.__r3f.root,delete f.__r3f.objects,delete f.__r3f.handlers,delete f.__r3f.memoizedProps,_||delete f.__r3f),S&&f.dispose&&f.type!=="Scene"&&PA.unstable_scheduleCallback(PA.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),of(c)}}function a(c,f,h,m){var g;const y=(g=c.__r3f)==null?void 0:g.parent;if(!y)return;const v=t(f,h,c.__r3f.root);if(c.children){for(const x of c.children)x.__r3f&&r(v,x);c.children=c.children.filter(x=>!x.__r3f)}c.__r3f.objects.forEach(x=>r(v,x)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(y,c),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(y,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=v,x.ref&&(typeof x.ref=="function"?x.ref(v):x.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:EX({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,r(h,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const m=c.getState().scene;m.__r3f&&i(m,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,m){if(c.__r3f.primitive&&m.object&&m.object!==c)return[!0];{const{args:g=[],children:y,...v}=m,{args:x=[],children:_,...S}=h;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((C,T)=>C!==x[T]))return[!0];const M=d4(c,v,S,!0);return M.changes.length?[!1,M]:null}},commitUpdate(c,[f,h],m,g,y,v){f?a(c,m,y,v):ew(c,h)},commitMount(c,f,h,m){var g;const y=(g=c.__r3f)!=null?g:{};c.raycast&&y.handlers&&y.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>sf(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:m}=(f=c.__r3f)!=null?f:{};h&&m&&GP(m,c,h),c.isObject3D&&(c.visible=!1),of(c)},unhideInstance(c,f){var h;const{attach:m,parent:g}=(h=c.__r3f)!=null?h:{};m&&g&&Z_(g,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),of(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Af.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&en.fun(performance.now)?performance.now:en.fun(Date.now)?Date.now:()=>0,scheduleTimeout:en.fun(setTimeout)?setTimeout:void 0,cancelTimeout:en.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ew}}var OP,NP;const q_=n=>"colorSpace"in n||"outputColorSpace"in n,o4=()=>{var n;return(n=xC.ColorManagement)!=null?n:null},a4=n=>n&&n.isOrthographicCamera,IX=n=>n&&n.hasOwnProperty("current"),bm=typeof window<"u"&&((OP=window.document)!=null&&OP.createElement||((NP=window.navigator)==null?void 0:NP.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function l4(n){const e=P.useRef(n);return bm(()=>void(e.current=n),[n]),e}function LX({set:n}){return bm(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class u4 extends P.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}u4.getDerivedStateFromError=()=>({error:!0});const c4="__default",zP=new Map,kX=n=>n&&!!n.memoized&&!!n.changes;function f4(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const hh=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},en={obj:n=>n===Object(n)&&!en.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(en.str(n)||en.num(n))return n===e;const s=en.obj(n);if(s&&r==="reference")return n===e;const o=en.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!en.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(en.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function FX(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function OX(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function sf(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function RA(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const UP=/-\d+$/;function Z_(n,e,t){if(en.str(t)){if(UP.test(t)){const s=t.replace(UP,""),{target:o,key:a}=RA(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=RA(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function GP(n,e,t){var r,i;if(en.str(t)){const{target:s,key:o}=RA(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function d4(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const f=(c=n==null?void 0:n.__r3f)!=null?c:{},h=Object.entries(i),m=[];if(u){const y=Object.keys(l);for(let v=0;v<y.length;v++)i.hasOwnProperty(y[v])||h.unshift([y[v],c4+"remove"])}h.forEach(([y,v])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&y==="object"||en.equ(v,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,v,!0,[]]);let _=[];y.includes("-")&&(_=y.split("-")),m.push([y,v,!1,_]);for(const S in i){const M=i[S];S.startsWith(`${y}-`)&&m.push([S,M,!1,S.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:m}}function ew(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=kX(e)?e:d4(n,e),c=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let h=0;h<u.length;h++){let[m,g,y,v]=u[h];if(q_(n)){const M="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?M:C):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?M:C)}let x=n,_=x[m];if(v.length&&(_=v.reduce((S,M)=>S[M],n),!(_&&_.set))){const[S,...M]=v.reverse();x=M.reverse().reduce((C,T)=>C[T],n),m=S}if(g===c4+"remove")if(x.constructor){let S=zP.get(x.constructor);S||(S=new x.constructor,zP.set(x.constructor,S)),g=S[m]}else g=0;if(y)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Fu)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&_.constructor===g.constructor)_.copy(g);else if(g!==void 0){const S=_ instanceof Me;!S&&_.setScalar?_.setScalar(g):_ instanceof Fu&&g instanceof Fu?_.mask=g.mask:_.set(g),!o4()&&!a.linear&&S&&_.convertSRGBToLinear()}}else if(x[m]=g,x[m]instanceof fn&&x[m].format===oi&&x[m].type===ca){const S=x[m];q_(S)&&q_(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}of(n)}if(s.parent&&a.internal&&n.raycast&&c!==s.eventCount){const h=a.internal.interaction.indexOf(n);h>-1&&a.internal.interaction.splice(h,1),s.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=n.__r3f)!=null&&i.parent&&BA(n),n}function of(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function BA(n){n.onUpdate==null||n.onUpdate(n)}function NX(n,e){n.manual||(a4(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function N0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function zX(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Af.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Af.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Af.ContinuousEventPriority;default:return Af.DefaultEventPriority}}function h4(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function UX(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{h4(t.capturedMap,e,r,i)})}function GX(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=n.getState(),f=new Set,h=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let x=0;x<m.length;x++){const _=hh(m[x]);_&&(_.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(x){const _=hh(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let y=m.flatMap(g).sort((x,_)=>{const S=hh(x.object),M=hh(_.object);return!S||!M?x.distance-_.distance:M.events.priority-S.events.priority||x.distance-_.distance}).filter(x=>{const _=N0(x);return f.has(_)?!1:(f.add(_),!0)});c.events.filter&&(y=c.events.filter(y,c));for(const x of y){let _=x.object;for(;_;){var v;(v=_.__r3f)!=null&&v.eventCount&&h.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let x of c.internal.capturedMap.get(l.pointerId).values())f.has(N0(x.intersection))||h.push(x.intersection);return h}function i(l,u,c,f){const h=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const y=hh(g.object)||h,{raycaster:v,pointer:x,camera:_,internal:S}=y,M=new F(x.x,x.y,0).unproject(_),C=I=>{var k,j;return(k=(j=S.capturedMap.get(I))==null?void 0:j.has(g.eventObject))!=null?k:!1},T=I=>{const k={intersection:g,target:u.target};S.capturedMap.has(I)?S.capturedMap.get(I).set(g.eventObject,k):S.capturedMap.set(I,new Map([[g.eventObject,k]])),u.target.setPointerCapture(I)},R=I=>{const k=S.capturedMap.get(I);k&&h4(S.capturedMap,g.eventObject,k,I)};let b={};for(let I in u){let k=u[I];typeof k!="function"&&(b[I]=k)}let B={...g,...b,pointer:x,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:M,ray:v.ray,camera:_,stopPropagation(){const I="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!I||I.has(g.eventObject))&&(B.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(k=>k.eventObject===g.eventObject))){const k=l.slice(0,l.indexOf(g));s([...k,g])}},target:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:R},currentTarget:{hasPointerCapture:C,setPointerCapture:T,releasePointerCapture:R},nativeEvent:u};if(f(B),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,m=h==null?void 0:h.handlers;if(u.hovered.delete(N0(c)),h!=null&&h.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:h}=n.getState();h.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(c,m?t:void 0),x=g?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=v.map(S=>S.eventObject)),g&&!v.length&&x<=2&&(o(c,h.interaction),f&&f(c)),m&&s(v);function _(S){const M=S.eventObject,C=M.__r3f,T=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const R=N0(S),b=h.hovered.get(R);b?b.stopped&&S.stopPropagation():(h.hovered.set(R,S),T.onPointerOver==null||T.onPointerOver(S),T.onPointerEnter==null||T.onPointerEnter(S))}T.onPointerMove==null||T.onPointerMove(S)}else{const R=T[l];R?(!g||h.initialHits.includes(M))&&(o(c,h.interaction.filter(b=>!h.initialHits.includes(b))),R(S)):g&&h.initialHits.includes(M)&&o(c,h.interaction.filter(b=>!h.initialHits.includes(b)))}}i(v,c,x,_)}}return{handlePointer:a}}const p4=n=>!!(n!=null&&n.render),sv=P.createContext(null),HX=(n,e)=>{const t=MX((a,l)=>{const u=new F,c=new F,f=new F;function h(x=l().camera,_=c,S=l().size){const{width:M,height:C,top:T,left:R}=S,b=M/C;_ instanceof F?f.copy(_):f.set(..._);const B=x.getWorldPosition(u).distanceTo(f);if(a4(x))return{width:M/x.zoom,height:C/x.zoom,top:T,left:R,factor:1,distance:B,aspect:b};{const I=x.fov*Math.PI/180,k=2*Math.tan(I/2)*B,j=k*(M/C);return{width:j,height:k,top:T,left:R,factor:M/j,distance:B,aspect:b}}}let m;const g=x=>a(_=>({performance:{..._.performance,current:x}})),y=new ye;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,_)=>e(x,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new mC,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&g(x.performance.min),m=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:x=>a(_=>({..._,events:{..._.events,...x}})),setSize:(x,_,S,M,C)=>{const T=l().camera,R={width:x,height:_,top:M||0,left:C||0,updateStyle:S};a(b=>({size:R,viewport:{...b.viewport,...h(T,c,R)}}))},setDpr:x=>a(_=>{const S=f4(x);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(x="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,x!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:P.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,_,S)=>{const M=l().internal;return M.priority=M.priority+(_>0?1:0),M.subscribers.push({ref:x,priority:_,store:S}),M.subscribers=M.subscribers.sort((C,T)=>C.priority-T.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(_>0?1:0),C.subscribers=C.subscribers.filter(T=>T.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=t.getState();if(l!==i||u.dpr!==s){var h;i=l,s=u.dpr,NX(a,l),c.setPixelRatio(u.dpr);const m=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let z0,VX=new Set,WX=new Set,jX=new Set;function tw(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function ph(n,e){switch(n){case"before":return tw(VX,e);case"after":return tw(WX,e);case"tail":return tw(jX,e)}}let nw,rw;function iw(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),nw=e.internal.subscribers,z0=0;z0<nw.length;z0++)rw=nw[z0],rw.ref.current(rw.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function $X(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,ph("before",l);for(const c of n.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(t+=iw(l,i))}if(ph("after",l),t===0)return ph("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return n.forEach(f=>o(f.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,f){if(u&&ph("before",l),c)iw(l,c,f);else for(const h of n.values())iw(l,h.store.getState());u&&ph("after",l)}return{loop:s,invalidate:o,advance:a}}function m4(){const n=P.useContext(sv);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function sd(n=t=>t,e){return m4()(n,e)}function Ol(n,e=0){const t=m4(),r=t.getState().internal.subscribe,i=l4(n);return bm(()=>r(i,e,t),[e,r,t]),null}function g4(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,FX(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Nl(n,e,t,r){const i=Array.isArray(e)?e:[e],s=TX(g4(t,r),[n,...i],{equal:en.equ});return Array.isArray(e)?s:s[0]}Nl.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return PX(g4(t),[n,...r])};Nl.clear=function(n,e){const t=Array.isArray(e)?e:[e];return RX([n,...t])};const od=new Map,{invalidate:HP,advance:VP}=$X(od),{reconciler:ov,applyProps:Xc}=DX(od,zX),Kc={objects:"shallow",strict:!1},JX=(n,e)=>{const t=typeof n=="function"?n(e):n;return p4(t)?t:new Jb({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function XX(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function KX(n){const e=od.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||HX(HP,VP),o=t||ov.createContainer(s,Af.ConcurrentRoot,null,!1,null,"",i,null);e||od.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:m,events:g,onCreated:y,shadows:v=!1,linear:x=!1,flat:_=!1,legacy:S=!1,orthographic:M=!1,frameloop:C="always",dpr:T=[1,2],performance:R,raycaster:b,camera:B,onPointerMissed:I}=c,k=s.getState(),j=k.gl;k.gl||k.set({gl:j=JX(f,n)});let G=k.raycaster;G||k.set({raycaster:G=new QO});const{params:N,...$}=b||{};if(en.equ($,G,Kc)||Xc(G,{...$}),en.equ(N,G.params,Kc)||Xc(G,{params:{...G.params,...N}}),!k.camera||k.camera===u&&!en.equ(u,B,Kc)){u=B;const K=B instanceof um,ee=K?B:M?new uc(0,0,0,0,.1,1e3):new $n(75,0,.1,1e3);K||(ee.position.z=5,B&&Xc(ee,B),!k.camera&&!(B!=null&&B.rotation)&&ee.lookAt(0,0,0)),k.set({camera:ee})}if(!k.scene){let K;m instanceof iv?K=m:(K=new iv,m&&Xc(K,m)),k.set({scene:sf(K)})}if(!k.xr){const K=(ge,Re)=>{const se=s.getState();se.frameloop!=="never"&&VP(ge,!0,se,Re)},ee=()=>{const ge=s.getState();ge.gl.xr.enabled=ge.gl.xr.isPresenting,ge.gl.xr.setAnimationLoop(ge.gl.xr.isPresenting?K:null),ge.gl.xr.isPresenting||HP(ge)},ce={connect(){const ge=s.getState().gl;ge.xr.addEventListener("sessionstart",ee),ge.xr.addEventListener("sessionend",ee)},disconnect(){const ge=s.getState().gl;ge.xr.removeEventListener("sessionstart",ee),ge.xr.removeEventListener("sessionend",ee)}};j.xr&&ce.connect(),k.set({xr:ce})}if(j.shadowMap){const K=j.shadowMap.enabled,ee=j.shadowMap.type;if(j.shadowMap.enabled=!!v,en.boo(v))j.shadowMap.type=jh;else if(en.str(v)){var X;const ce={basic:lF,percentage:qv,soft:jh,variance:Su};j.shadowMap.type=(X=ce[v])!=null?X:jh}else en.obj(v)&&Object.assign(j.shadowMap,v);(K!==j.shadowMap.enabled||ee!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}const te=o4();te&&("enabled"in te?te.enabled=!S:"legacyMode"in te&&(te.legacyMode=S)),Xc(j,{outputEncoding:x?3e3:3001,toneMapping:_?Gs:Nb}),k.legacy!==S&&k.set(()=>({legacy:S})),k.linear!==x&&k.set(()=>({linear:x})),k.flat!==_&&k.set(()=>({flat:_})),f&&!en.fun(f)&&!p4(f)&&!en.equ(f,j,Kc)&&Xc(j,f),g&&!k.events.handlers&&k.set({events:g(s)});const H=XX(n,h);return en.equ(H,k.size,Kc)||k.setSize(H.width,H.height,H.updateStyle,H.top,H.left),T&&k.viewport.dpr!==f4(T)&&k.setDpr(T),k.frameloop!==C&&k.setFrameloop(C),k.onPointerMissed||k.set({onPointerMissed:I}),R&&!en.equ(R,k.performance,Kc)&&k.set(K=>({performance:{...K.performance,...R}})),a=y,l=!0,this},render(c){return l||this.configure(),ov.updateContainer(P.createElement(YX,{store:s,children:c,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){y4(n)}}}function YX({store:n,children:e,onCreated:t,rootElement:r}){return bm(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),P.createElement(sv.Provider,{value:n},e)}function y4(n,e){const t=od.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),ov.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),OX(i),od.delete(n),e&&e(n)}catch{}},500)})}}ov.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:P.version});function DA(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=t&&!r;return r||(r=setTimeout(l,e)),c&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}DA.debounce=DA;var QX=DA;const WP=sc(QX);function qX(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=P.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=P.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=P.useRef(!1);P.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,m,g]=P.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:S,top:M,width:C,height:T,bottom:R,right:b,x:B,y:I}=l.current.element.getBoundingClientRect(),k={left:S,top:M,width:C,height:T,bottom:R,right:b,x:B,y:I};l.current.element instanceof HTMLElement&&i&&(k.height=l.current.element.offsetHeight,k.width=l.current.element.offsetWidth),Object.freeze(k),f.current&&!nK(l.current.lastBounds,k)&&a(l.current.lastBounds=k)};return[_,c?WP(_,c):_,u?WP(_,u):_]},[a,i,u,c]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})))}const x=_=>{!_||_===l.current.element||(y(),l.current.element=_,l.current.scrollContainers=v4(_),v())};return eK(g,!!t),ZX(m),P.useEffect(()=>{y(),v()},[t,g,m]),P.useEffect(()=>y,[]),[x,o,h]}function ZX(n){P.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function eK(n,e){P.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function v4(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...v4(n.parentElement)]}const tK=["x","y","top","bottom","left","right","width","height"],nK=(n,e)=>tK.every(t=>n[t]===e[t]);var rK=Object.defineProperty,iK=Object.defineProperties,sK=Object.getOwnPropertyDescriptors,jP=Object.getOwnPropertySymbols,oK=Object.prototype.hasOwnProperty,aK=Object.prototype.propertyIsEnumerable,$P=(n,e,t)=>e in n?rK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,JP=(n,e)=>{for(var t in e||(e={}))oK.call(e,t)&&$P(n,t,e[t]);if(jP)for(var t of jP(e))aK.call(e,t)&&$P(n,t,e[t]);return n},lK=(n,e)=>iK(n,sK(e));function x4(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=x4(r,e,t);if(i)return i;r=e?null:r.sibling}}function _4(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const _C=_4(P.createContext(null));class w4 extends P.Component{render(){return P.createElement(_C.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:XP,ReactCurrentDispatcher:KP}=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function uK(){const n=P.useContext(_C);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=P.useId();return P.useMemo(()=>{for(const r of[XP==null?void 0:XP.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=x4(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function cK(){var n,e;const t=uK(),[r]=P.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==_C&&!r.has(s)&&r.set(s,(e=KP==null?void 0:KP.current)==null?void 0:e.readContext(_4(s))),i=i.return}return r}function fK(){const n=cK();return P.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>P.createElement(e,null,P.createElement(t.Provider,lK(JP({},r),{value:n.get(t)}))),e=>P.createElement(w4,JP({},e))),[n])}const sw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function dK(n){const{handlePointer:e}=GX(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(sw).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=sw[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=sw[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const hK=P.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=dK,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:m,frameloop:g,dpr:y,performance:v,raycaster:x,camera:_,onPointerMissed:S,onCreated:M,...C},T){P.useMemo(()=>BX(wX),[]);const R=fK(),[b,B]=qX({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=P.useRef(null),k=P.useRef(null);P.useImperativeHandle(T,()=>I.current);const j=l4(S),[G,N]=P.useState(!1),[$,X]=P.useState(!1);if(G)throw G;if($)throw $;const te=P.useRef(null);bm(()=>{const z=I.current;B.width>0&&B.height>0&&z&&(te.current||(te.current=KX(z)),te.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:m,frameloop:g,dpr:y,performance:v,raycaster:x,camera:_,size:B,onPointerMissed:(...H)=>j.current==null?void 0:j.current(...H),onCreated:H=>{H.events.connect==null||H.events.connect(a?IX(a)?a.current:a:k.current),l&&H.setEvents({compute:(K,ee)=>{const ce=K[l+"X"],ge=K[l+"Y"];ee.pointer.set(ce/ee.size.width*2-1,-(ge/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),M==null||M(H)}}),te.current.render(P.createElement(R,null,P.createElement(u4,{set:X},P.createElement(P.Suspense,{fallback:P.createElement(LX,{set:N})},e)))))}),P.useEffect(()=>{const z=I.current;if(z)return()=>y4(z)},[]);const O=a?"none":"auto";return P.createElement("div",rn({ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:O,...i}},C),P.createElement("div",{ref:b,style:{width:"100%",height:"100%"}},P.createElement("canvas",{ref:I,style:{display:"block"}},t)))}),pK=P.forwardRef(function(e,t){return P.createElement(w4,null,P.createElement(hK,rn({},e,{ref:t})))});function S4(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function Yh(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mK(n,e){if(n){if(typeof n=="string")return IA(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return IA(n,e)}}function gK(n){if(Array.isArray(n))return IA(n)}function yK(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xK(n){return gK(n)||yK(n)||mK(n)||vK()}new ye;new ye;function _K(n,e,t){return Math.max(e,Math.min(t,n))}function wK(n,e){return _K(n-Math.floor(n/e)*e,0,e)}function SK(n,e){var t=wK(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function A4(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var es=function n(e,t,r){var i=this;A4(this,n),Yh(this,"dot2",function(s,o){return i.x*s+i.y*o}),Yh(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},AK=[new es(1,1,0),new es(-1,1,0),new es(1,-1,0),new es(-1,-1,0),new es(1,0,1),new es(-1,0,1),new es(1,0,-1),new es(-1,0,-1),new es(0,1,1),new es(0,-1,1),new es(0,1,-1),new es(0,-1,-1)],YP=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],QP=new Array(512),qP=new Array(512),MK=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=YP[t]^e&255:r=YP[t]^e>>8&255,QP[t]=QP[t+256]=r,qP[t]=qP[t+256]=AK[r%12]}};MK(0);function bK(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function ZP(n){var e=bK(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var CK=function n(e){var t=this;A4(this,n),Yh(this,"seed",0),Yh(this,"init",function(r){t.seed=r,t.value=ZP(r)}),Yh(this,"value",ZP(this.seed)),this.init(e)};new CK(Math.random());var EK=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},M4=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function nr(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:M4,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=a)return n[e]=t,!1;r=Math.max(1e-4,r);var u=2/r,c=o(u*i),f=n[e]-t,h=t,m=s*r;f=Math.min(Math.max(f,-m),m),t=n[e]-f;var g=(n.__damp[l]+u*f)*i;n.__damp[l]=(n.__damp[l]-u*g)*c;var y=t+(f+g)*c;return h-n[e]>0==y>h&&(y=h,n.__damp[l]=(y-h)/i),n[e]=y,!0}function Nf(n,e,t,r,i,s,o,a){return nr(n,e,n[e]+SK(n[e],t),r,i,s,o,a)}var mh=new ye,eR,tR;function TK(n,e,t,r,i,s,o){return typeof e=="number"?mh.setScalar(e):Array.isArray(e)?mh.set(e[0],e[1]):mh.copy(e),eR=nr(n,"x",mh.x,t,r,i,s,o),tR=nr(n,"y",mh.y,t,r,i,s,o),eR||tR}var Yc=new F,nR,rR,iR;function LA(n,e,t,r,i,s,o){return typeof e=="number"?Yc.setScalar(e):Array.isArray(e)?Yc.set(e[0],e[1],e[2]):Yc.copy(e),nR=nr(n,"x",Yc.x,t,r,i,s,o),rR=nr(n,"y",Yc.y,t,r,i,s,o),iR=nr(n,"z",Yc.z,t,r,i,s,o),nR||rR||iR}var su=new At,sR,oR,aR,lR;function PK(n,e,t,r,i,s,o){return typeof e=="number"?su.setScalar(e):Array.isArray(e)?su.set(e[0],e[1],e[2],e[3]):su.copy(e),sR=nr(n,"x",su.x,t,r,i,s,o),oR=nr(n,"y",su.y,t,r,i,s,o),aR=nr(n,"z",su.z,t,r,i,s,o),lR=nr(n,"w",su.w,t,r,i,s,o),sR||oR||aR||lR}var gh=new Ti,uR,cR,fR;function RK(n,e,t,r,i,s,o){return Array.isArray(e)?gh.set(e[0],e[1],e[2],e[3]):gh.copy(e),uR=Nf(n,"x",gh.x,t,r,i,s,o),cR=Nf(n,"y",gh.y,t,r,i,s,o),fR=Nf(n,"z",gh.z,t,r,i,s,o),uR||cR||fR}var Qc=new Me,dR,hR,pR;function BK(n,e,t,r,i,s,o){return e instanceof Me?Qc.copy(e):Array.isArray(e)?Qc.setRGB(e[0],e[1],e[2]):Qc.set(e),dR=nr(n,"r",Qc.r,t,r,i,s,o),hR=nr(n,"g",Qc.g,t,r,i,s,o),pR=nr(n,"b",Qc.b,t,r,i,s,o),dR||hR||pR}var Ds=new wn,Go=new At,mR=new At,yh=new At,gR,yR,vR,xR;function b4(n,e,t,r,i,s,o){var a=n;Array.isArray(e)?Ds.set(e[0],e[1],e[2],e[3]):Ds.copy(e);var l=n.dot(Ds)>0?1:-1;return Ds.x*=l,Ds.y*=l,Ds.z*=l,Ds.w*=l,gR=nr(n,"x",Ds.x,t,r,i,s,o),yR=nr(n,"y",Ds.y,t,r,i,s,o),vR=nr(n,"z",Ds.z,t,r,i,s,o),xR=nr(n,"w",Ds.w,t,r,i,s,o),Go.set(n.x,n.y,n.z,n.w).normalize(),mR.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),yh.copy(Go).multiplyScalar(mR.dot(Go)/Go.dot(Go)),a.__damp.velocity_x-=yh.x,a.__damp.velocity_y-=yh.y,a.__damp.velocity_z-=yh.z,a.__damp.velocity_w-=yh.w,n.set(Go.x,Go.y,Go.z,Go.w),gR||yR||vR||xR}var vh=new qO,_R,wR,SR;function DK(n,e,t,r,i,s,o){return Array.isArray(e)?vh.set(e[0],e[1],e[2]):vh.copy(e),_R=nr(n,"radius",vh.radius,t,r,i,s,o),wR=Nf(n,"phi",vh.phi,t,r,i,s,o),SR=Nf(n,"theta",vh.theta,t,r,i,s,o),_R||wR||SR}var U0=new Le,AR=new F,MR=new wn,bR=new F,CR,ER,TR;function IK(n,e,t,r,i,s,o){var a=n;return a.__damp===void 0&&(a.__damp={position:new F,rotation:new wn,scale:new F},n.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?U0.set.apply(U0,xK(e)):U0.copy(e),U0.decompose(AR,MR,bR),CR=LA(a.__damp.position,AR,t,r,i,s,o),ER=b4(a.__damp.rotation,MR,t,r,i,s,o),TR=LA(a.__damp.scale,bR,t,r,i,s,o),n.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),CR||ER||TR}var PR=Object.freeze({__proto__:null,rsqw:EK,exp:M4,damp:nr,dampAngle:Nf,damp2:TK,damp3:LA,damp4:PK,dampE:RK,dampC:BK,dampQ:b4,dampS:DK,dampM:IK});const wC=P.createContext(null);function SC(){return P.useContext(wC)}function LK({eps:n=1e-5,enabled:e=!0,infinite:t,horizontal:r,pages:i=1,distance:s=1,damping:o=.25,maxSpeed:a=1/0,style:l={},children:u}){const{get:c,setEvents:f,gl:h,size:m,invalidate:g,events:y}=sd(),[v]=P.useState(()=>document.createElement("div")),[x]=P.useState(()=>document.createElement("div")),[_]=P.useState(()=>document.createElement("div")),S=h.domElement.parentNode,M=P.useRef(0),C=P.useMemo(()=>({el:v,eps:n,fill:x,fixed:_,horizontal:r,damping:o,offset:0,delta:0,scroll:M,pages:i,range(b,B,I=0){const k=b-I,j=k+B+I*2;return this.offset<k?0:this.offset>j?1:(this.offset-k)/(j-k)},curve(b,B,I=0){return Math.sin(this.range(b,B,I)*Math.PI)},visible(b,B,I=0){const k=b-I,j=k+B+I*2;return this.offset>=k&&this.offset<=j}}),[n,o,r,i]);P.useEffect(()=>{v.style.position="absolute",v.style.width="100%",v.style.height="100%",v.style[r?"overflowX":"overflowY"]="auto",v.style[r?"overflowY":"overflowX"]="hidden",v.style.top="0px",v.style.left="0px";for(const B in l)v.style[B]=l[B];_.style.position="sticky",_.style.top="0px",_.style.left="0px",_.style.width="100%",_.style.height="100%",_.style.overflow="hidden",v.appendChild(_),x.style.height=r?"100%":`${i*s*100}%`,x.style.width=r?`${i*s*100}%`:"100%",x.style.pointerEvents="none",v.appendChild(x),S.appendChild(v),v[r?"scrollLeft":"scrollTop"]=1;const R=y.connected||h.domElement;requestAnimationFrame(()=>y.connect==null?void 0:y.connect(v));const b=c().events.compute;return f({compute(B,I){const{left:k,top:j}=S.getBoundingClientRect(),G=B.clientX-k,N=B.clientY-j;I.pointer.set(G/I.size.width*2-1,-(N/I.size.height)*2+1),I.raycaster.setFromCamera(I.pointer,I.camera)}}),()=>{S.removeChild(v),f({compute:b}),y.connect==null||y.connect(R)}},[i,s,r,v,x,_,S]),P.useEffect(()=>{if(y.connected===v){const R=m[r?"width":"height"],b=v[r?"scrollWidth":"scrollHeight"],B=b-R;let I=0,k=!0,j=!0;const G=()=>{if(!(!e||j)&&(g(),I=v[r?"scrollLeft":"scrollTop"],M.current=I/B,t)){if(!k){if(I>=B){const $=1-C.offset;v[r?"scrollLeft":"scrollTop"]=1,M.current=C.offset=-$,k=!0}else if(I<=0){const $=1+C.offset;v[r?"scrollLeft":"scrollTop"]=b,M.current=C.offset=$,k=!0}}k&&setTimeout(()=>k=!1,40)}};v.addEventListener("scroll",G,{passive:!0}),requestAnimationFrame(()=>j=!1);const N=$=>v.scrollLeft+=$.deltaY/2;return r&&v.addEventListener("wheel",N,{passive:!0}),()=>{v.removeEventListener("scroll",G),r&&v.removeEventListener("wheel",N)}}},[v,y,m,t,C,g,r,e]);let T=0;return Ol((R,b)=>{T=C.offset,PR.damp(C,"offset",M.current,o,b,a,void 0,n),PR.damp(C,"delta",Math.abs(T-C.offset),o,b,a,void 0,n),C.delta>n&&g()}),P.createElement(wC.Provider,{value:C},u)}const kK=P.forwardRef(({children:n},e)=>{const t=P.useRef(null),r=SC(),{width:i,height:s}=sd(o=>o.viewport);return Ol(()=>{t.current.position.x=r.horizontal?-i*(r.pages-1)*r.offset:0,t.current.position.y=r.horizontal?0:s*(r.pages-1)*r.offset}),P.createElement("group",{ref:S4([e,t])},n)}),FK=P.forwardRef(({children:n,style:e,...t},r)=>{const i=SC(),s=P.useRef(null),{width:o,height:a}=sd(c=>c.size),l=P.useContext(sv),u=P.useMemo(()=>sF(i.fixed),[i.fixed]);return Ol(()=>{i.delta>i.eps&&(s.current.style.transform=`translate3d(${i.horizontal?-o*(i.pages-1)*i.offset:0}px,${i.horizontal?0:a*(i.pages-1)*-i.offset}px,0)`)}),u.render(P.createElement("div",rn({ref:S4([r,s]),style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},t),P.createElement(wC.Provider,{value:i},P.createElement(sv.Provider,{value:l},n)))),null}),RR=P.forwardRef(({html:n,...e},t)=>{const r=n?FK:kK;return P.createElement(r,rn({ref:t},e))});function OK(n,e,t){return Math.max(e,Math.min(n,t))}const Rr={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function BR(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function DR(n,e,t,r=.15){return r===0?OK(n,e,t):n<e?-BR(e-n,t-e,r)+e:n>t?+BR(n-t,t-e,r)+t:n}function NK(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[DR(e,s,o,r),DR(t,a,l,i)]}function zK(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UK(n){var e=zK(n,"string");return typeof e=="symbol"?e:String(e)}function ii(n,e,t){return e=UK(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Sn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(t),!0).forEach(function(r){ii(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const C4={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function LR(n){return n?n[0].toUpperCase()+n.slice(1):""}const GK=["enter","leave"];function HK(n=!1,e){return n&&!GK.includes(e)}function VK(n,e="",t=!1){const r=C4[n],i=r&&r[e]||e;return"on"+LR(n)+LR(i)+(HK(t,i)?"Capture":"")}const WK=["gotpointercapture","lostpointercapture"];function jK(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=WK.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function $K(n,e=""){const t=C4[n],r=t&&t[e]||e;return n+r}function v1(n){return"touches"in n}function E4(n){return v1(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function JK(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function XK(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function T4(n){return v1(n)?XK(n)[0]:n}function KK(n){return JK(n).map(e=>e.identifier)}function ow(n){const e=T4(n);return v1(n)?e.identifier:e.pointerId}function kR(n){const e=T4(n);return[e.clientX,e.clientY]}function YK(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function av(n,...e){return typeof n=="function"?n(...e):n}function QK(){}function qK(...n){return n.length===0?QK:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function FR(n,e){return Object.assign({},e,n||{})}const ZK=32;class eY{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?av(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,YK(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const T=t._delta.map(Math.abs);Rr.addTo(t._distance,T)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,u]=r.threshold,{_step:c,values:f}=t;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&f[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&f[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),t.intentional=c[0]!==!1||c[1]!==!1,!t.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[T,R]=f;h[0]=c[0]!==!1?T-c[0]:0,h[1]=c[1]!==!1?R-c[1]:0}else h[0]=c[0]!==!1?o-c[0]:0,h[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(h);const m=t.offset,g=t._active&&!t._blocked||t.active;g&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=av(r.bounds,t)),this.setup&&this.setup()),t.movement=h,this.computeOffset()));const[y,v]=t.offset,[[x,_],[S,M]]=t._bounds;t.overflow=[y<x?-1:y>_?1:0,v<S?-1:v>M?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const C=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=NK(t._bounds,t.offset,C),t.delta=Rr.sub(t.offset,m),this.computeMovement(),g&&(!t.last||s>ZK)){t.delta=Rr.sub(t.offset,m);const T=t.delta.map(Math.abs);Rr.addTo(t.distance,T),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[T[0]/s,T[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Sn(Sn(Sn({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function tY([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class nY extends eY{constructor(...e){super(...e),ii(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Rr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Rr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[E4(e)]:r.axisThreshold;t.axis=tY(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const rY=n=>n,OR=.15,P4={enabled(n=!0){return n},eventOptions(n,e,t){return Sn(Sn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[OR,OR];case!1:return[0,0];default:return Rr.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Rr.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||rY},threshold(n){return Rr.toVector(n,0)}},iY=0,Cm=Sn(Sn({},P4),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=iY){return n},bounds(n={}){if(typeof n=="function")return s=>Cm.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),NR={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class sY extends nY{constructor(...e){super(...e),ii(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=Cm.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=ow(e),r._pointerActive=!0,this.computeValues(kR(e)),this.computeInitial(),t.preventScrollAxis&&E4(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=ow(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=kR(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Rr.sub(s,t._values),this.computeValues(s)),Rr.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=ow(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[u,c]=t._movement,[f,h]=r.swipe.velocity,[m,g]=r.swipe.distance,y=r.swipe.duration;if(t.elapsedTime<y){const v=Math.abs(a/t.timeDelta),x=Math.abs(l/t.timeDelta);v>f&&Math.abs(u)>m&&(t.swipe[0]=Math.sign(a)),x>h&&Math.abs(c)>g&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,oY(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=NR[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Rr.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in NR&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function oY(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Em=typeof window<"u"&&window.document&&window.document.createElement;function aY(){return Em&&"ontouchstart"in window}function zR(){return aY()||Em&&window.navigator.maxTouchPoints>1}function lY(){return Em&&"onpointerdown"in window}function uY(){return Em&&"exitPointerLock"in window.document}function cY(){try{return"constructor"in GestureEvent}catch{return!1}}const us={isBrowser:Em,gesture:cY(),touch:zR(),touchscreen:zR(),pointer:lY(),pointerLock:uY()},fY=250,dY=180,hY=.5,pY=50,mY=250,gY=10,UR={mouse:0,touch:0,pen:8},yY=Sn(Sn({},Cm),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&us.pointerLock,us.touch&&t?"touch":this.pointerLock?"mouse":us.pointer&&!i?"pointer":us.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?fY:void 0,!(!us.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Rr.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=hY,distance:e=pY,duration:t=mY}={}){return{velocity:this.transform(Rr.toVector(n)),distance:this.transform(Rr.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return dY;case!1:return 0;default:return n}},axisThreshold(n){return n?Sn(Sn({},UR),n):UR},keyboardDisplacement(n=gY){return n}});Sn(Sn({},P4),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!us.touch&&us.gesture)return"gesture";if(us.touch&&r)return"touch";if(us.touchscreen){if(us.pointer)return"pointer";if(us.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=FR(av(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=FR(av(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Rr.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Sn(Sn({},Cm),{},{mouseOnly:(n=!0)=>n});Sn(Sn({},Cm),{},{mouseOnly:(n=!0)=>n});const R4=new Map,kA=new Map;function vY(n){R4.set(n.key,n.engine),kA.set(n.key,n.resolver)}const xY={key:"drag",engine:sY,resolver:yY};function _Y(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function wY(n,e){if(n==null)return{};var t=_Y(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const SY={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=us.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},AY=["target","eventOptions","window","enabled","transform"];function by(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=by(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function MY(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=wY(r,AY);if(t.shared=by({target:i,eventOptions:s,window:o,enabled:a,transform:l},SY),e){const c=kA.get(e);t[e]=by(Sn({shared:t.shared},u),c)}else for(const c in u){const f=kA.get(c);f&&(t[c]=by(Sn({shared:t.shared},u[c]),f))}return t}class B4{constructor(e,t){ii(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=$K(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Sn(Sn({},l),s);e.addEventListener(a,i,u);const c=()=>{e.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class bY{constructor(){ii(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class CY{constructor(e){ii(this,"gestures",new Set),ii(this,"_targetEventStore",new B4(this)),ii(this,"gestureEventStores",{}),ii(this,"gestureTimeoutStores",{}),ii(this,"handlers",{}),ii(this,"config",{}),ii(this,"pointerIds",new Set),ii(this,"touchIds",new Set),ii(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),EY(this,e)}setEventIds(e){if(v1(e))return this.touchIds=new Set(KK(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=MY(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=GR(r,a.eventOptions,!!i);if(a.enabled){const u=R4.get(o);new u(this,e,o).bind(l)}}const s=GR(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Sn(Sn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=qK(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=jK(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function qc(n,e){n.gestures.add(e),n.gestureEventStores[e]=new B4(n,e),n.gestureTimeoutStores[e]=new bY}function EY(n,e){e.drag&&qc(n,"drag"),e.wheel&&qc(n,"wheel"),e.scroll&&qc(n,"scroll"),e.move&&qc(n,"move"),e.pinch&&qc(n,"pinch"),e.hover&&qc(n,"hover")}const GR=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(u=o.passive)!==null&&u!==void 0?u:e.passive;let h=a?r:VK(r,i,c);t&&f&&(h+="Passive"),n[h]=n[h]||[],n[h].push(s)};function TY(n,e={},t,r){const i=J.useMemo(()=>new CY(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),J.useEffect(i.effect.bind(i)),J.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function PY(n,e){return vY(xY),TY({drag:n},e||{},"drag")}function HR(n,e){if(e===qF)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===tv||e===Gb){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===tv)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var ds=Uint8Array,nl=Uint16Array,FA=Uint32Array,D4=new ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),I4=new ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),RY=new ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),L4=function(n,e){for(var t=new nl(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new FA(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},k4=L4(D4,2),F4=k4[0],BY=k4[1];F4[28]=258,BY[258]=28;var DY=L4(I4,0),IY=DY[0],OA=new nl(32768);for(var tn=0;tn<32768;++tn){var Ga=(tn&43690)>>>1|(tn&21845)<<1;Ga=(Ga&52428)>>>2|(Ga&13107)<<2,Ga=(Ga&61680)>>>4|(Ga&3855)<<4,OA[tn]=((Ga&65280)>>>8|(Ga&255)<<8)>>>1}var Qh=function(n,e,t){for(var r=n.length,i=0,s=new nl(e);i<r;++i)++s[n[i]-1];var o=new nl(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new nl(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],c=e-n[i],f=o[n[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)a[OA[f]>>>l]=u}else for(a=new nl(r),i=0;i<r;++i)n[i]&&(a[i]=OA[o[n[i]-1]++]>>>15-n[i]);return a},Tm=new ds(288);for(var tn=0;tn<144;++tn)Tm[tn]=8;for(var tn=144;tn<256;++tn)Tm[tn]=9;for(var tn=256;tn<280;++tn)Tm[tn]=7;for(var tn=280;tn<288;++tn)Tm[tn]=8;var O4=new ds(32);for(var tn=0;tn<32;++tn)O4[tn]=5;var LY=Qh(Tm,9,1),kY=Qh(O4,5,1),aw=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Is=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},lw=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},FY=function(n){return(n/8|0)+(n&7&&1)},OY=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof nl?nl:n instanceof FA?FA:ds)(t-e);return r.set(n.subarray(e,t)),r},NY=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new ds(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new ds(r*3));var o=function(se){var He=e.length;if(se>He){var Ge=new ds(Math.max(He*2,se));Ge.set(e),e=Ge}},a=t.f||0,l=t.p||0,u=t.b||0,c=t.l,f=t.d,h=t.m,m=t.n,g=r*8;do{if(!c){t.f=a=Is(n,l,1);var y=Is(n,l+1,3);if(l+=3,y)if(y==1)c=LY,f=kY,h=9,m=5;else if(y==2){var S=Is(n,l,31)+257,M=Is(n,l+10,15)+4,C=S+Is(n,l+5,31)+1;l+=14;for(var T=new ds(C),R=new ds(19),b=0;b<M;++b)R[RY[b]]=Is(n,l+b*3,7);l+=M*3;for(var B=aw(R),I=(1<<B)-1,k=Qh(R,B,1),b=0;b<C;){var j=k[Is(n,l,I)];l+=j&15;var v=j>>>4;if(v<16)T[b++]=v;else{var G=0,N=0;for(v==16?(N=3+Is(n,l,3),l+=2,G=T[b-1]):v==17?(N=3+Is(n,l,7),l+=3):v==18&&(N=11+Is(n,l,127),l+=7);N--;)T[b++]=G}}var $=T.subarray(0,S),X=T.subarray(S);h=aw($),m=aw(X),c=Qh($,h,1),f=Qh(X,m,1)}else throw"invalid block type";else{var v=FY(l)+4,x=n[v-4]|n[v-3]<<8,_=v+x;if(_>r){if(s)throw"unexpected EOF";break}i&&o(u+x),e.set(n.subarray(v,_),u),t.b=u+=x,t.p=l=_*8;continue}if(l>g){if(s)throw"unexpected EOF";break}}i&&o(u+131072);for(var te=(1<<h)-1,O=(1<<m)-1,z=l;;z=l){var G=c[lw(n,l)&te],H=G>>>4;if(l+=G&15,l>g){if(s)throw"unexpected EOF";break}if(!G)throw"invalid length/literal";if(H<256)e[u++]=H;else if(H==256){z=l,c=null;break}else{var K=H-254;if(H>264){var b=H-257,ee=D4[b];K=Is(n,l,(1<<ee)-1)+F4[b],l+=ee}var ce=f[lw(n,l)&O],ge=ce>>>4;if(!ce)throw"invalid distance";l+=ce&15;var X=IY[ge];if(ge>3){var ee=I4[ge];X+=lw(n,l)&(1<<ee)-1,l+=ee}if(l>g){if(s)throw"unexpected EOF";break}i&&o(u+131072);for(var Re=u+K;u<Re;u+=4)e[u]=e[u-X],e[u+1]=e[u+1-X],e[u+2]=e[u+2-X],e[u+3]=e[u+3-X];u=Re}}t.l=c,t.p=z,t.b=u,c&&(a=1,t.m=h,t.d=f,t.n=m)}while(!a);return u==e.length?e:OY(e,0,u)},zY=new ds(0),UY=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function GY(n,e){return NY((UY(n),n.subarray(2,-4)),e)}var HY=typeof TextDecoder<"u"&&new TextDecoder,VY=0;try{HY.decode(zY,{stream:!0}),VY=1}catch{}class AC extends Lr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new XY(t)}),this.register(function(t){return new tQ(t)}),this.register(function(t){return new nQ(t)}),this.register(function(t){return new rQ(t)}),this.register(function(t){return new YY(t)}),this.register(function(t){return new QY(t)}),this.register(function(t){return new qY(t)}),this.register(function(t){return new ZY(t)}),this.register(function(t){return new JY(t)}),this.register(function(t){return new eQ(t)}),this.register(function(t){return new KY(t)}),this.register(function(t){return new jY(t)}),this.register(function(t){return new iQ(t)}),this.register(function(t){return new sQ(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ii.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new gi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){t(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ii.decodeText(new Uint8Array(e.slice(0,4)))===N4){try{o[Rt.KHR_BINARY_GLTF]=new oQ(e)}catch(c){i&&i(c);return}s=JSON.parse(o[Rt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ii.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new xQ(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);a[c.name]=c,o[c.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const c=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(c){case Rt.KHR_MATERIALS_UNLIT:o[c]=new $Y;break;case Rt.KHR_DRACO_MESH_COMPRESSION:o[c]=new aQ(s,this.dracoLoader);break;case Rt.KHR_TEXTURE_TRANSFORM:o[c]=new lQ;break;case Rt.KHR_MESH_QUANTIZATION:o[c]=new uQ;break;default:f.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function WY(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Rt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class jY{constructor(e){this.parser=e,this.name=Rt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new Me(16777215);l.color!==void 0&&c.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new m1(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new Np(c),u.distance=f;break;case"spot":u=new p1(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Xa(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class $Y{constructor(){this.name=Rt.KHR_MATERIALS_UNLIT}getMaterialType(){return Pi}extendParams(e,t,r){const i=[];e.color=new Me(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Nt))}return Promise.all(i)}}class JY{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class XY{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_a}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ye(a,a)}return Promise.all(s)}}class KY{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_a}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class YY{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_a}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Me(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Nt)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class QY{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_a}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class qY{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_a}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Me(a[0],a[1],a[2]),Promise.all(s)}}class ZY{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_a}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class eQ{constructor(e){this.parser=e,this.name=Rt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:_a}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Me(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Nt)),Promise.all(s)}}class tQ{constructor(e){this.parser=e,this.name=Rt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class nQ{constructor(e){this.parser=e,this.name=Rt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class rQ{constructor(e){this.parser=e,this.name=Rt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class iQ{constructor(e){this.name=Rt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,f=i.byteStride,h=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,h,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(m),c,f,h,i.mode,i.filter),m})})}else return null}}class sQ{constructor(e){this.name=Rt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==is.TRIANGLES&&u.mode!==is.TRIANGLE_STRIP&&u.mode!==is.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],h=u[0].count,m=[];for(const g of f){const y=new Le,v=new F,x=new wn,_=new F(1,1,1),S=new Kb(g.geometry,g.material,h);for(let M=0;M<h;M++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,M),l.SCALE&&_.fromBufferAttribute(l.SCALE,M),S.setMatrixAt(M,y.compose(v,x,_));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&g.geometry.setAttribute(M,l[M]);wt.prototype.copy.call(S,g),this.parser.assignFinalMaterial(S),m.push(S)}return c.isGroup?(c.clear(),c.add(...m),c):m[0]}))}}const N4="glTF",xh=12,VR={JSON:1313821514,BIN:5130562};class oQ{constructor(e){this.name=Rt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,xh);if(this.header={magic:Ii.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==N4)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-xh,i=new DataView(e,xh);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===VR.JSON){const l=new Uint8Array(e,xh+s,o);this.content=Ii.decodeText(l)}else if(a===VR.BIN){const l=xh+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class aQ{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Rt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const f=NA[c]||c.toLowerCase();a[f]=o[c]}for(const c in e.attributes){const f=NA[c]||c.toLowerCase();if(o[c]!==void 0){const h=r.accessors[e.attributes[c]],m=zf[h.componentType];u[f]=m.name,l[f]=h.normalized===!0}}return t.getDependency("bufferView",s).then(function(c){return new Promise(function(f){i.decodeDracoFile(c,function(h){for(const m in h.attributes){const g=h.attributes[m],y=l[m];y!==void 0&&(g.normalized=y)}f(h)},a,u)})})}}class lQ{constructor(){this.name=Rt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class uQ{constructor(){this.name=Rt.KHR_MESH_QUANTIZATION}}class z4 extends Md{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-t,f=(r-t)/c,h=f*f,m=h*f,g=e*u,y=g-u,v=-2*m+3*h,x=m-h,_=1-v,S=x-h+f;for(let M=0;M!==a;M++){const C=o[y+M+a],T=o[y+M+l]*c,R=o[g+M+a],b=o[g+M]*c;s[M]=_*C+S*T+v*R+x*b}return s}}const cQ=new wn;class fQ extends z4{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return cQ.fromArray(s).normalize().toArray(s),s}}const is={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},zf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WR={9728:Un,9729:vn,9984:Ep,9985:e1,9986:Tp,9987:ya},jR={33071:Zn,33648:Zf,10497:So},uw={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},NA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...sm.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ha={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},dQ={CUBICSPLINE:void 0,LINEAR:Yu,STEP:td},cw={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function hQ(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Mm({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:xl})),n.DefaultMaterial}function _h(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Xa(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function pQ(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(r){const h=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(h)}if(i){const h=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(h)}if(s){const h=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],h=u[2];return r&&(n.morphAttributes.position=c),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function mQ(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function gQ(n){const e=n.extensions&&n.extensions[Rt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+$R(e.attributes):t=n.indices+":"+$R(n.attributes)+":"+n.mode,t}function $R(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function zA(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function yQ(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const vQ=new Le;class xQ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new WY,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new fC(this.options.manager):this.textureLoader=new JO(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new gi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};_h(s,a,i),Xa(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Rt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ii.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=uw[i.type],a=zf[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new zt(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=uw[i.type],u=zf[i.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,h=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let y,v;if(m&&m!==f){const x=Math.floor(h/m),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let S=t.cache.get(_);S||(y=new u(a,x*m,i.count*m/c),S=new fm(y,m/c),t.cache.add(_,S)),v=new Al(S,l,h%m/c,g)}else a===null?y=new u(i.count*l):y=new u(a,h,i.count*l),v=new zt(y,l,g);if(i.sparse!==void 0){const x=uw.SCALAR,_=zf[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,C=new _(o[1],S,i.sparse.count*x),T=new u(o[2],M,i.sparse.count*l);a!==null&&(v=new zt(v.array.slice(),v.itemSize,v.normalized));for(let R=0,b=C.length;R<b;R++){const B=C[R];if(v.setX(B,T[R*l]),l>=2&&v.setY(B,T[R*l+1]),l>=3&&v.setZ(B,T[R*l+2]),l>=4&&v.setW(B,T[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return c.magFilter=WR[h.magFilter]||vn,c.minFilter=WR[h.minFilter]||ya,c.wrapS=jR[h.wrapS]||So,c.wrapT=jR[h.wrapT]||So,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const h=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(h,m){let g=h;t.isImageBitmapLoader===!0&&(g=function(y){const v=new fn(y);v.needsUpdate=!0,h(v)}),t.load(Ii.resolveURL(f,s.path),g,void 0,m)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||yQ(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Rt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Rt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Rt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new c1,Kn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new _r,Kn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Mm}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Rt.KHR_MATERIALS_UNLIT]){const f=i[Rt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Me(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",f.baseColorTexture,Nt)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=po);const c=s.alphaMode||cw.OPAQUE;if(c===cw.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===cw.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Pi&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ye(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Pi&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Pi&&(a.emissive=new Me().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Pi&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Nt)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Xa(f,s),t.associations.set(f,{materials:e}),s.extensions&&_h(i,f,s),f})}createUniqueName(e){const t=_t.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Rt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return JR(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=gQ(u),f=i[c];if(f)o.push(f.promise);else{let h;u.extensions&&u.extensions[Rt.KHR_DRACO_MESH_COMPRESSION]?h=s(u):h=JR(new ot,u,t),i[c]={primitive:u,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?hQ(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let m=0,g=c.length;m<g;m++){const y=c[m],v=o[m];let x;const _=u[m];if(v.mode===is.TRIANGLES||v.mode===is.TRIANGLE_STRIP||v.mode===is.TRIANGLE_FAN||v.mode===void 0)x=s.isSkinnedMesh===!0?new u1(y,_):new Xn(y,_),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),v.mode===is.TRIANGLE_STRIP?x.geometry=HR(x.geometry,Gb):v.mode===is.TRIANGLE_FAN&&(x.geometry=HR(x.geometry,tv));else if(v.mode===is.LINES)x=new Js(y,_);else if(v.mode===is.LINE_STRIP)x=new Ao(y,_);else if(v.mode===is.LINE_LOOP)x=new Yb(y,_);else if(v.mode===is.POINTS)x=new Qb(y,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(x.geometry.morphAttributes).length>0&&mQ(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),Xa(x,s),v.extensions&&_h(i,x,v),t.assignFinalMaterial(x),f.push(x)}for(let m=0,g=f.length;m<g;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return f[0];const h=new Ns;t.associations.set(h,{meshes:e});for(let m=0,g=f.length;m<g;m++)h.add(f[m]);return h})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new $n(cs.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new uc(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Xa(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){a.push(f);const h=new Le;s!==null&&h.fromArray(s.array,u*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new _d(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let c=0,f=r.channels.length;c<f;c++){const h=r.channels[c],m=r.samplers[h.sampler],g=h.target,y=g.node,v=r.parameters!==void 0?r.parameters[m.input]:m.input,x=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(s.push(this.getDependency("node",y)),o.push(this.getDependency("accessor",v)),a.push(this.getDependency("accessor",x)),l.push(m),u.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(c){const f=c[0],h=c[1],m=c[2],g=c[3],y=c[4],v=[];for(let x=0,_=f.length;x<_;x++){const S=f[x],M=h[x],C=m[x],T=g[x],R=y[x];if(S===void 0)continue;S.updateMatrix();let b;switch(Ha[R.path]){case Ha.weights:b=qu;break;case Ha.rotation:b=fa;break;case Ha.position:case Ha.scale:default:b=Zu;break}const B=S.name?S.name:S.uuid,I=T.interpolation!==void 0?dQ[T.interpolation]:Yu,k=[];Ha[R.path]===Ha.weights?S.traverse(function(G){G.morphTargetInfluences&&k.push(G.name?G.name:G.uuid)}):k.push(B);let j=C.array;if(C.normalized){const G=zA(j.constructor),N=new Float32Array(j.length);for(let $=0,X=j.length;$<X;$++)N[$]=j[$]*G;j=N}for(let G=0,N=k.length;G<N;G++){const $=new b(k[G]+"."+Ha[R.path],M.array,j,I);T.interpolation==="CUBICSPLINE"&&($.createInterpolant=function(te){const O=this instanceof fa?fQ:z4;return new O(this.times,this.values,this.getValueSize()/3,te)},$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push($)}}return new ec(i,void 0,v)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,c=a.length;u<c;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],h=u[2];h!==null&&c.traverse(function(m){m.isSkinnedMesh&&m.bind(h,vQ)});for(let m=0,g=f.length;m<g;m++)c.add(f[m]);return c})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(s.isBone===!0?c=new rd:u.length>1?c=new Ns:u.length===1?c=u[0]:c=new wt,c!==u[0])for(let f=0,h=u.length;f<h;f++)c.add(u[f]);if(s.name&&(c.userData.name=s.name,c.name=o),Xa(c,s),s.extensions&&_h(r,c,s),s.matrix!==void 0){const f=new Le;f.fromArray(s.matrix),c.applyMatrix4(f)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Ns;r.name&&(s.name=i.createUniqueName(r.name)),Xa(s,r),r.extensions&&_h(t,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,f=l.length;c<f;c++)s.add(l[c]);const u=c=>{const f=new Map;for(const[h,m]of i.associations)(h instanceof Kn||h instanceof fn)&&f.set(h,m);return c.traverse(h=>{const m=i.associations.get(h);m!=null&&f.set(h,m)}),f};return i.associations=u(s),s})}}function _Q(n,e,t){const r=e.attributes,i=new Il;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new F(l[0],l[1],l[2]),new F(u[0],u[1],u[2])),a.normalized){const c=zA(zf[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new F,l=new F;for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f.POSITION!==void 0){const h=t.json.accessors[f.POSITION],m=h.min,g=h.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),h.normalized){const y=zA(zf[h.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Ll;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function JR(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=NA[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Xa(n,e),_Q(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?pQ(n,e.targets,t):n})}const wQ={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},SQ={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};function U4(n,e,t){const r=t.length-n-1;if(e>=t[r])return r-1;if(e<=t[n])return n;let i=n,s=r,o=Math.floor((i+s)/2);for(;e<t[o]||e>=t[o+1];)e<t[o]?s=o:i=o,o=Math.floor((i+s)/2);return o}function AQ(n,e,t,r){const i=[],s=[],o=[];i[0]=1;for(let a=1;a<=t;++a){s[a]=e-r[n+1-a],o[a]=r[n+a]-e;let l=0;for(let u=0;u<a;++u){const c=o[u+1],f=s[a-u],h=i[u]/(c+f);i[u]=l+c*h,l=f*h}i[a]=l}return i}function MQ(n,e,t,r){const i=U4(n,r,e),s=AQ(i,r,n,e),o=new At(0,0,0,0);for(let a=0;a<=n;++a){const l=t[i-n+a],u=s[a],c=l.w*u;o.x+=l.x*c,o.y+=l.y*c,o.z+=l.z*c,o.w+=l.w*u}return o}function bQ(n,e,t,r,i){const s=[];for(let h=0;h<=t;++h)s[h]=0;const o=[];for(let h=0;h<=r;++h)o[h]=s.slice(0);const a=[];for(let h=0;h<=t;++h)a[h]=s.slice(0);a[0][0]=1;const l=s.slice(0),u=s.slice(0);for(let h=1;h<=t;++h){l[h]=e-i[n+1-h],u[h]=i[n+h]-e;let m=0;for(let g=0;g<h;++g){const y=u[g+1],v=l[h-g];a[h][g]=y+v;const x=a[g][h-1]/a[h][g];a[g][h]=m+y*x,m=v*x}a[h][h]=m}for(let h=0;h<=t;++h)o[0][h]=a[h][t];for(let h=0;h<=t;++h){let m=0,g=1;const y=[];for(let v=0;v<=t;++v)y[v]=s.slice(0);y[0][0]=1;for(let v=1;v<=r;++v){let x=0;const _=h-v,S=t-v;h>=v&&(y[g][0]=y[m][0]/a[S+1][_],x=y[g][0]*a[_][S]);const M=_>=-1?1:-_,C=h-1<=S?v-1:t-h;for(let T=M;T<=C;++T)y[g][T]=(y[m][T]-y[m][T-1])/a[S+1][_+T],x+=y[g][T]*a[_+T][S];h<=S&&(y[g][v]=-y[m][v-1]/a[S+1][h],x+=y[g][v]*a[h][S]),o[v][h]=x;var c=m;m=g,g=c}}var f=t;for(let h=1;h<=r;++h){for(let m=0;m<=t;++m)o[h][m]*=f;f*=t-h}return o}function CQ(n,e,t,r,i){const s=i<n?i:n,o=[],a=U4(n,r,e),l=bQ(a,r,n,s,e),u=[];for(let f=0;f<t.length;++f){var c=t[f].clone();const h=c.w;c.x*=h,c.y*=h,c.z*=h,u[f]=c}for(let f=0;f<=s;++f){var c=u[a-n].clone().multiplyScalar(l[f][0]);for(let m=1;m<=n;++m)c.add(u[a-n+m].clone().multiplyScalar(l[f][m]));o[f]=c}for(let f=s+1;f<=i+1;++f)o[f]=new At(0,0,0);return o}function EQ(n,e){let t=1;for(let i=2;i<=n;++i)t*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=n-e;++i)r*=i;return t/r}function TQ(n){const e=n.length,t=[],r=[];for(let s=0;s<e;++s){const o=n[s];t[s]=new F(o.x,o.y,o.z),r[s]=o.w}const i=[];for(let s=0;s<e;++s){const o=t[s].clone();for(let a=1;a<=s;++a)o.sub(i[s-a].clone().multiplyScalar(EQ(s,a)*r[a]));i[s]=o.divideScalar(r[0])}return i}function PQ(n,e,t,r,i){const s=CQ(n,e,t,r,i);return TQ(s)}class XR extends As{constructor(e,t,r,i,s){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=s||this.knots.length-1;for(let o=0;o<r.length;++o){const a=r[o];this.controlPoints[o]=new At(a.x,a.y,a.z,a.w)}}getPoint(e,t){const r=t||new F,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=MQ(this.degree,this.knots,this.controlPoints,i);return s.w!=1&&s.divideScalar(s.w),r.set(s.x,s.y,s.z)}getTangent(e,t){const r=t||new F,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=PQ(this.degree,this.knots,this.controlPoints,i,1);return r.copy(s[1]).normalize(),r}}let St,On,ri;class MC extends Lr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=s.path===""?Ii.extractUrlBase(e):s.path,a=new gi(this.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(l,o))}catch(u){i?i(u):console.error(u),s.manager.itemError(e)}},r,i)}parse(e,t){if(kQ(e))St=new LQ().parse(e);else{const i=W4(e);if(!FQ(i))throw new Error("THREE.FBXLoader: Unknown format.");if(YR(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+YR(i));St=new IQ().parse(i)}const r=new fC(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new RQ(r,this.manager).parse(St)}}class RQ{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){On=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),i=this.parseDeformers(),s=new BQ().parse(i);return this.parseScene(i,s,r),ri}parseConnections(){const e=new Map;return"Connections"in St&&St.Connections.connections.forEach(function(r){const i=r[0],s=r[1],o=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const a={ID:s,relationship:o};e.get(i).parents.push(a),e.has(s)||e.set(s,{parents:[],children:[]});const l={ID:i,relationship:o};e.get(s).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in St.Objects){const r=St.Objects.Video;for(const i in r){const s=r[i],o=parseInt(i);if(e[o]=s.RelativeFilename||s.Filename,"Content"in s){const a=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l=typeof s.Content=="string"&&s.Content!=="";if(a||l){const u=this.parseImage(r[i]);t[s.RelativeFilename||s.Filename]=u}}}}for(const r in e){const i=e[r];t[i]!==void 0?e[r]=t[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let s;switch(i){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+s+";base64,"+t;{const o=new Uint8Array(t);return window.URL.createObjectURL(new Blob([o],{type:s}))}}parseTextures(e){const t=new Map;if("Texture"in St.Objects){const r=St.Objects.Texture;for(const i in r){const s=this.parseTexture(r[i],e);t.set(parseInt(i),s)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,s=e.WrapModeV,o=i!==void 0?i.value:0,a=s!==void 0?s.value:0;if(r.wrapS=o===0?So:Zn,r.wrapT=a===0?So:Zn,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}return r}loadTexture(e,t){let r;const i=this.textureLoader.path,s=On.get(e.id).children;s!==void 0&&s.length>0&&t[s[0].ID]!==void 0&&(r=t[s[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new fn):(l.setPath(this.textureLoader.path),o=l.load(r))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new fn):o=this.textureLoader.load(r);return this.textureLoader.setPath(i),o}parseMaterials(e){const t=new Map;if("Material"in St.Objects){const r=St.Objects.Material;for(const i in r){const s=this.parseMaterial(r[i],e);s!==null&&t.set(parseInt(i),s)}}return t}parseMaterial(e,t){const r=e.id,i=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!On.has(r))return null;const o=this.parseParameters(e,t,r);let a;switch(s.toLowerCase()){case"phong":a=new Kh;break;case"lambert":a=new sC;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new Kh;break}return a.setValues(o),a.name=i,a}parseParameters(e,t,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new Me().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new Me().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new Me().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new Me().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new Me().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new Me().fromArray(e.SpecularColor.value));const s=this;return On.get(r).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":i.bumpMap=s.getTexture(t,o.ID);break;case"Maya|TEX_ao_map":i.aoMap=s.getTexture(t,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=s.getTexture(t,o.ID),i.map!==void 0&&(i.map.encoding=Nt);break;case"DisplacementColor":i.displacementMap=s.getTexture(t,o.ID);break;case"EmissiveColor":i.emissiveMap=s.getTexture(t,o.ID),i.emissiveMap!==void 0&&(i.emissiveMap.encoding=Nt);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=s.getTexture(t,o.ID);break;case"ReflectionColor":i.envMap=s.getTexture(t,o.ID),i.envMap!==void 0&&(i.envMap.mapping=qf,i.envMap.encoding=Nt);break;case"SpecularColor":i.specularMap=s.getTexture(t,o.ID),i.specularMap!==void 0&&(i.specularMap.encoding=Nt);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=s.getTexture(t,o.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),i}getTexture(e,t){return"LayeredTexture"in St.Objects&&t in St.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=On.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in St.Objects){const r=St.Objects.Deformer;for(const i in r){const s=r[i],o=On.get(parseInt(i));if(s.attrType==="Skin"){const a=this.parseSkeleton(o,r);a.ID=i,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[i]=a}else if(s.attrType==="BlendShape"){const a={id:i};a.rawTargets=this.parseMorphTargets(o,r),a.id=i,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach(function(i){const s=t[i.ID];if(s.attrType!=="Cluster")return;const o={ID:i.ID,indices:[],weights:[],transformLink:new Le().fromArray(s.TransformLink.a)};"Indexes"in s&&(o.indices=s.Indexes.a,o.weights=s.Weights.a),r.push(o)}),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let i=0;i<e.children.length;i++){const s=e.children[i],o=t[s.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=On.get(parseInt(s.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(a)}return r}parseScene(e,t,r){ri=new Ns;const i=this.parseModels(e.skeletons,t,r),s=St.Objects.Model,o=this;i.forEach(function(l){const u=s[l.ID];o.setLookAtProperties(l,u),On.get(l.ID).parents.forEach(function(f){const h=i.get(f.ID);h!==void 0&&h.add(l)}),l.parent===null&&ri.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),ri.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const u=H4(l.userData.transformData);l.applyMatrix4(u),l.updateWorldMatrix()}});const a=new DQ().parse();ri.children.length===1&&ri.children[0].isGroup&&(ri.children[0].animations=a,ri=ri.children[0]),ri.animations=a}parseModels(e,t,r){const i=new Map,s=St.Objects.Model;for(const o in s){const a=parseInt(o),l=s[o],u=On.get(a);let c=this.buildSkeleton(u,e,a,l.attrName);if(!c){switch(l.attrType){case"Camera":c=this.createCamera(u);break;case"Light":c=this.createLight(u);break;case"Mesh":c=this.createMesh(u,t,r);break;case"NurbsCurve":c=this.createCurve(u,t);break;case"LimbNode":case"Root":c=new rd;break;case"Null":default:c=new Ns;break}c.name=l.attrName?_t.sanitizeNodeName(l.attrName):"",c.ID=a}this.getTransformData(c,l),i.set(a,c)}return i}buildSkeleton(e,t,r,i){let s=null;return e.parents.forEach(function(o){for(const a in t){const l=t[a];l.rawBones.forEach(function(u,c){if(u.ID===o.ID){const f=s;s=new rd,s.matrixWorld.copy(u.transformLink),s.name=i?_t.sanitizeNodeName(i):"",s.ID=r,l.bones[c]=s,f!==null&&s.add(f)}})}}),s}createCamera(e){let t,r;if(e.children.forEach(function(i){const s=St.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new wt;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let s=1;r.NearPlane!==void 0&&(s=r.NearPlane.value/1e3);let o=1e3;r.FarPlane!==void 0&&(o=r.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(a=r.AspectWidth.value,l=r.AspectHeight.value);const u=a/l;let c=45;r.FieldOfView!==void 0&&(c=r.FieldOfView.value);const f=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:t=new $n(c,u,s,o),f!==null&&t.setFocalLength(f);break;case 1:t=new uc(-a/2,a/2,l/2,-l/2,s,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new wt;break}}return t}createLight(e){let t,r;if(e.children.forEach(function(i){const s=St.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new wt;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let s=16777215;r.Color!==void 0&&(s=new Me().fromArray(r.Color.value));let o=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(o=0);let a=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?a=0:a=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new Np(s,o,a,l);break;case 1:t=new m1(s,o);break;case 2:let u=Math.PI/3;r.InnerAngle!==void 0&&(u=cs.degToRad(r.InnerAngle.value));let c=0;r.OuterAngle!==void 0&&(c=cs.degToRad(r.OuterAngle.value),c=Math.max(c,1)),t=new p1(s,o,a,u,c,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new Np(s,o);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,s=null,o=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(s=t.get(l.ID)),r.has(l.ID)&&a.push(r.get(l.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new Kh({color:13421772}),a.push(o)),"color"in s.attributes&&a.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(i=new u1(s,o),i.normalizeSkinWeights()):i=new Xn(s,o),i}createCurve(e,t){const r=e.children.reduce(function(s,o){return t.has(o.ID)&&(s=t.get(o.ID)),s},null),i=new _r({color:3342591,linewidth:1});return new Ao(r,i)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=V4(t.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&On.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const s=St.Objects.Model[i.ID];if("Lcl_Translation"in s){const o=s.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(o),ri.add(e.target)):e.lookAt(new F().fromArray(o))}}})}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const s in e){const o=e[s];On.get(parseInt(o.ID)).parents.forEach(function(l){if(t.has(l.ID)){const u=l.ID;On.get(u).parents.forEach(function(f){r.has(f.ID)&&r.get(f.ID).bind(new _d(o.bones),i[f.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in St.Objects){const t=St.Objects.Pose;for(const r in t)if(t[r].attrType==="BindPose"&&t[r].NbPoseNodes>0){const i=t[r].PoseNode;Array.isArray(i)?i.forEach(function(s){e[s.Node]=new Le().fromArray(s.Matrix.a)}):e[i.Node]=new Le().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in St&&"AmbientColor"in St.GlobalSettings){const e=St.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],i=e[2];if(t!==0||r!==0||i!==0){const s=new Me(t,r,i);ri.add(new hC(s,1))}}}}class BQ{parse(e){const t=new Map;if("Geometry"in St.Objects){const r=St.Objects.Geometry;for(const i in r){const s=On.get(parseInt(i)),o=this.parseGeometry(s,r[i],e);t.set(parseInt(i),o)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const i=r.skeletons,s=[],o=e.parents.map(function(f){return St.Objects.Model[f.ID]});if(o.length===0)return;const a=e.children.reduce(function(f,h){return i[h.ID]!==void 0&&(f=i[h.ID]),f},null);e.children.forEach(function(f){r.morphTargets[f.ID]!==void 0&&s.push(r.morphTargets[f.ID])});const l=o[0],u={};"RotationOrder"in l&&(u.eulerOrder=V4(l.RotationOrder.value)),"InheritType"in l&&(u.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(u.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(u.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(u.scale=l.GeometricScaling.value);const c=H4(u);return this.genGeometry(t,a,s,c)}genGeometry(e,t,r,i){const s=new ot;e.attrName&&(s.name=e.attrName);const o=this.parseGeoNode(e,t),a=this.genBuffers(o),l=new ke(a.vertex,3);if(l.applyMatrix4(i),s.setAttribute("position",l),a.colors.length>0&&s.setAttribute("color",new ke(a.colors,3)),t&&(s.setAttribute("skinIndex",new r1(a.weightsIndices,4)),s.setAttribute("skinWeight",new ke(a.vertexWeights,4)),s.FBX_Deformer=t),a.normal.length>0){const u=new jr().getNormalMatrix(i),c=new ke(a.normal,3);c.applyNormalMatrix(u),s.setAttribute("normal",c)}if(a.uvs.forEach(function(u,c){let f="uv"+(c+1).toString();c===0&&(f="uv"),s.setAttribute(f,new ke(a.uvs[c],2))}),o.material&&o.material.mappingType!=="AllSame"){let u=a.materialIndex[0],c=0;if(a.materialIndex.forEach(function(f,h){f!==u&&(s.addGroup(c,h-c,u),u=f,c=h)}),s.groups.length>0){const f=s.groups[s.groups.length-1],h=f.start+f.count;h!==a.materialIndex.length&&s.addGroup(h,a.materialIndex.length-h,u)}s.groups.length===0&&s.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(s,e,r,i),s}parseGeoNode(e,t){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},t!==null&&(r.skeleton=t,t.rawBones.forEach(function(i,s){i.indices.forEach(function(o,a){r.weightTable[o]===void 0&&(r.weightTable[o]=[]),r.weightTable[o].push({id:s,weight:i.weights[a]})})})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,s=!1,o=[],a=[],l=[],u=[],c=[],f=[];const h=this;return e.vertexIndices.forEach(function(m,g){let y,v=!1;m<0&&(m=m^-1,v=!0);let x=[],_=[];if(o.push(m*3,m*3+1,m*3+2),e.color){const S=G0(g,r,m,e.color);l.push(S[0],S[1],S[2])}if(e.skeleton){if(e.weightTable[m]!==void 0&&e.weightTable[m].forEach(function(S){_.push(S.weight),x.push(S.id)}),_.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const S=[0,0,0,0],M=[0,0,0,0];_.forEach(function(C,T){let R=C,b=x[T];M.forEach(function(B,I,k){if(R>B){k[I]=R,R=B;const j=S[I];S[I]=b,b=j}})}),x=S,_=M}for(;_.length<4;)_.push(0),x.push(0);for(let S=0;S<4;++S)c.push(_[S]),f.push(x[S])}if(e.normal){const S=G0(g,r,m,e.normal);a.push(S[0],S[1],S[2])}e.material&&e.material.mappingType!=="AllSame"&&(y=G0(g,r,m,e.material)[0]),e.uv&&e.uv.forEach(function(S,M){const C=G0(g,r,m,S);u[M]===void 0&&(u[M]=[]),u[M].push(C[0]),u[M].push(C[1])}),i++,v&&(h.genFace(t,e,o,y,a,l,u,c,f,i),r++,i=0,o=[],a=[],l=[],u=[],c=[],f=[])}),t}genFace(e,t,r,i,s,o,a,l,u,c){for(let f=2;f<c;f++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[(f-1)*3]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+1]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+2]]),e.vertex.push(t.vertexPositions[r[f*3]]),e.vertex.push(t.vertexPositions[r[f*3+1]]),e.vertex.push(t.vertexPositions[r[f*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(f-1)*4]),e.vertexWeights.push(l[(f-1)*4+1]),e.vertexWeights.push(l[(f-1)*4+2]),e.vertexWeights.push(l[(f-1)*4+3]),e.vertexWeights.push(l[f*4]),e.vertexWeights.push(l[f*4+1]),e.vertexWeights.push(l[f*4+2]),e.vertexWeights.push(l[f*4+3]),e.weightsIndices.push(u[0]),e.weightsIndices.push(u[1]),e.weightsIndices.push(u[2]),e.weightsIndices.push(u[3]),e.weightsIndices.push(u[(f-1)*4]),e.weightsIndices.push(u[(f-1)*4+1]),e.weightsIndices.push(u[(f-1)*4+2]),e.weightsIndices.push(u[(f-1)*4+3]),e.weightsIndices.push(u[f*4]),e.weightsIndices.push(u[f*4+1]),e.weightsIndices.push(u[f*4+2]),e.weightsIndices.push(u[f*4+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(f-1)*3]),e.colors.push(o[(f-1)*3+1]),e.colors.push(o[(f-1)*3+2]),e.colors.push(o[f*3]),e.colors.push(o[f*3+1]),e.colors.push(o[f*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(f-1)*3]),e.normal.push(s[(f-1)*3+1]),e.normal.push(s[(f-1)*3+2]),e.normal.push(s[f*3]),e.normal.push(s[f*3+1]),e.normal.push(s[f*3+2])),t.uv&&t.uv.forEach(function(h,m){e.uvs[m]===void 0&&(e.uvs[m]=[]),e.uvs[m].push(a[m][0]),e.uvs[m].push(a[m][1]),e.uvs[m].push(a[m][(f-1)*2]),e.uvs[m].push(a[m][(f-1)*2+1]),e.uvs[m].push(a[m][f*2]),e.uvs[m].push(a[m][f*2+1])})}addMorphTargets(e,t,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;r.forEach(function(o){o.rawTargets.forEach(function(a){const l=St.Objects.Geometry[a.geoID];l!==void 0&&s.genMorphGeometry(e,t,l,i,a.name)})})}genMorphGeometry(e,t,r,i,s){const o=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],u=e.attributes.position.count*3,c=new Float32Array(u);for(let g=0;g<l.length;g++){const y=l[g]*3;c[y]=a[g*3],c[y+1]=a[g*3+1],c[y+2]=a[g*3+2]}const f={vertexIndices:o,vertexPositions:c},h=this.genBuffers(f),m=new ke(h.vertex,3);m.name=s||r.attrName,m.applyMatrix4(i),e.morphAttributes.position.push(m)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let s=[];return r==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:s,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let s=[];return r==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:i,indices:s,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let s=[];return r==="IndexToDirect"&&(s=e.ColorIndex.a),{dataSize:4,buffer:i,indices:s,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,s=[];for(let o=0;o<i.length;++o)s.push(o);return{dataSize:1,buffer:i,indices:s,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(XR===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new ot;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new ot;const r=t-1,i=e.KnotVector.a,s=[],o=e.Points.a;for(let f=0,h=o.length;f<h;f+=4)s.push(new At().fromArray(o,f));let a,l;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){a=r,l=i.length-1-a;for(let f=0;f<r;++f)s.push(s[f])}const c=new XR(r,i,s,a,l).getPoints(s.length*12);return new ot().setFromPoints(c)}}class DQ{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const r in t){const i=t[r],s=this.addClip(i);e.push(s)}return e}parseClips(){if(St.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=St.Objects.AnimationCurveNode,t=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:i.id,attr:i.attrName,curves:{}};t.set(s.id,s)}}return t}parseAnimationCurves(e){const t=St.Objects.AnimationCurve;for(const r in t){const i={id:t[r].id,times:t[r].KeyTime.a.map(OQ),values:t[r].KeyValueFloat.a},s=On.get(i.id);if(s!==void 0){const o=s.parents[0].ID,a=s.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=i:a.match(/Y/)?e.get(o).curves.y=i:a.match(/Z/)?e.get(o).curves.z=i:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=i)}}}parseAnimationLayers(e){const t=St.Objects.AnimationLayer,r=new Map;for(const i in t){const s=[],o=On.get(parseInt(i));o!==void 0&&(o.children.forEach(function(l,u){if(e.has(l.ID)){const c=e.get(l.ID);if(c.curves.x!==void 0||c.curves.y!==void 0||c.curves.z!==void 0){if(s[u]===void 0){const f=On.get(l.ID).parents.filter(function(h){return h.relationship!==void 0})[0].ID;if(f!==void 0){const h=St.Objects.Model[f.toString()];if(h===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const m={modelName:h.attrName?_t.sanitizeNodeName(h.attrName):"",ID:h.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};ri.traverse(function(g){g.ID===h.id&&(m.transform=g.matrix,g.userData.transformData&&(m.eulerOrder=g.userData.transformData.eulerOrder))}),m.transform||(m.transform=new Le),"PreRotation"in h&&(m.preRotation=h.PreRotation.value),"PostRotation"in h&&(m.postRotation=h.PostRotation.value),s[u]=m}}s[u]&&(s[u][c.attr]=c)}else if(c.curves.morph!==void 0){if(s[u]===void 0){const f=On.get(l.ID).parents.filter(function(x){return x.relationship!==void 0})[0].ID,h=On.get(f).parents[0].ID,m=On.get(h).parents[0].ID,g=On.get(m).parents[0].ID,y=St.Objects.Model[g],v={modelName:y.attrName?_t.sanitizeNodeName(y.attrName):"",morphName:St.Objects.Deformer[f].attrName};s[u]=v}s[u][c.attr]=c}}}),r.set(parseInt(i),s))}return r}parseAnimStacks(e){const t=St.Objects.AnimationStack,r={};for(const i in t){const s=On.get(parseInt(i)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(s[0].ID);r[i]={name:t[i].attrName,layer:o}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach(function(i){t=t.concat(r.generateTracks(i))}),new ec(e.name,-1,t)}generateTracks(e){const t=[];let r=new F,i=new wn,s=new F;if(e.transform&&e.transform.decompose(r,i,s),r=r.toArray(),i=new Ti().setFromQuaternion(i,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,r,i){const s=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(s,t,r);return new Zu(e+"."+i,s,o)}generateRotationTrack(e,t,r,i,s,o){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(cs.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(cs.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(cs.degToRad));const a=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(a,t,r);i!==void 0&&(i=i.map(cs.degToRad),i.push(o),i=new Ti().fromArray(i),i=new wn().setFromEuler(i)),s!==void 0&&(s=s.map(cs.degToRad),s.push(o),s=new Ti().fromArray(s),s=new wn().setFromEuler(s).invert());const u=new wn,c=new Ti,f=[];for(let h=0;h<l.length;h+=3)c.set(l[h],l[h+1],l[h+2],o),u.setFromEuler(c),i!==void 0&&u.premultiply(i),s!==void 0&&u.multiply(s),u.toArray(f,h/3*4);return new fa(e+".quaternion",a,f)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map(function(s){return s/100}),i=ri.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new qu(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(r,i){return r-i}),t.length>1){let r=1,i=t[0];for(let s=1;s<t.length;s++){const o=t[s];o!==i&&(t[r]=o,i=o,r++)}t=t.slice(0,r)}return t}getKeyframeTrackValues(e,t,r){const i=r,s=[];let o=-1,a=-1,l=-1;return e.forEach(function(u){if(t.x&&(o=t.x.times.indexOf(u)),t.y&&(a=t.y.times.indexOf(u)),t.z&&(l=t.z.times.indexOf(u)),o!==-1){const c=t.x.values[o];s.push(c),i[0]=c}else s.push(i[0]);if(a!==-1){const c=t.y.values[a];s.push(c),i[1]=c}else s.push(i[1]);if(l!==-1){const c=t.z.values[l];s.push(c),i[2]=c}else s.push(i[2])}),s}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],i=e.values[t]-r,s=Math.abs(i);if(s>=180){const o=s/180,a=i/o;let l=r+a;const u=e.times[t-1],f=(e.times[t]-u)/o;let h=u+f;const m=[],g=[];for(;h<e.times[t];)m.push(h),h+=f,g.push(l),l+=a;e.times=QR(e.times,t,m),e.values=QR(e.values,t,g)}}}}class IQ{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new G4,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,s){const o=i.match(/^[\s\t]*;/),a=i.match(/^[\s\t]*$/);if(o||a)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),u=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):u?t.parseNodeProperty(i,u,r[++s]):c?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:r},o=this.parseNodeAttr(i),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,s):r in a?(r==="PoseNode"?a.PoseNode.push(s):a[r].id!==void 0&&(a[r]={},a[r][a[r].id]=a[r]),o.id!==""&&(a[r][o.id]=s)):typeof o.id=="number"?(a[r]={},a[r][o.id]=s):r!=="Properties70"&&(r==="PoseNode"?a[r]=[s]:a[r]=s),typeof o.id=="number"&&(s.id=o.id),o.name!==""&&(s.attrName=o.name),o.type!==""&&(s.attrType=o.type),this.pushStack(s)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:r,type:i}}parseNodeProperty(e,t,r){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),s=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&s===","&&(s=r.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,i,s);return}if(i==="C"){const l=s.split(",").slice(1),u=parseInt(l[0]),c=parseInt(l[1]);let f=s.split(",").slice(3);f=f.map(function(h){return h.trim().replace(/^"/,"")}),i="connections",s=[u,c],zQ(s,f),o[i]===void 0&&(o[i]=[])}i==="Node"&&(o.id=s),i in o&&Array.isArray(o[i])?o[i].push(s):i!=="a"?o[i]=s:o.a=s,this.setCurrentProp(o,i),i==="a"&&s.slice(-1)!==","&&(o.a=dw(s))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=dw(t.a))}parseNodeSpecialProperty(e,t,r){const i=r.split('",').map(function(c){return c.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=i[0],o=i[1],a=i[2],l=i[3];let u=i[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":u=parseFloat(u);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":u=dw(u);break}this.getPrevNode()[s]={type:o,type2:a,flag:l,value:u},this.setCurrentProp(this.getPrevNode(),s)}}class LQ{parse(e){const t=new KR(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new G4;for(;!this.endOfContent(t);){const s=this.parseNode(t,r);s!==null&&i.add(s.name,s)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},i=t>=7500?e.getUint64():e.getUint32(),s=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(i===0)return null;const l=[];for(let h=0;h<s;h++)l.push(this.parseProperty(e));const u=l.length>0?l[0]:"",c=l.length>1?l[1]:"",f=l.length>2?l[2]:"";for(r.singleProperty=s===1&&e.getOffset()===i;i>e.getOffset();){const h=this.parseNode(e,t);h!==null&&this.parseSubNode(a,r,h)}return r.propertyList=l,typeof u=="number"&&(r.id=u),c!==""&&(r.attrName=c),f!==""&&(r.attrType=f),a!==""&&(r.name=a),r}parseSubNode(e,t,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(t[r.name]=r,r.a=i):t[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(s,o){o!==0&&i.push(s)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(s){t[s]=r[s]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],s=r.propertyList[1];const o=r.propertyList[2],a=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],t[i]={type:s,type2:o,flag:a,value:l}}else t[r.name]===void 0?typeof r.id=="number"?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:r.name==="PoseNode"?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):t[r.name][r.id]===void 0&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),s=e.getUint32(),o=e.getUint32();if(s===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}const a=GY(new Uint8Array(e.getArrayBuffer(o))),l=new KR(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class KR{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),Ii.decodeText(new Uint8Array(t))}}class G4{add(e,t){this[e]=t}}function kQ(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===W4(n,0,e.length)}function FQ(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function r(i){const s=n[i-1];return n=n.slice(t+i),t++,s}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function YR(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function OQ(n){return n/46186158e3}const NQ=[];function G0(n,e,t,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=n;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const s=i*r.dataSize,o=s+r.dataSize;return UQ(NQ,r.buffer,s,o)}const fw=new Ti,Zc=new F;function H4(n){const e=new Le,t=new Le,r=new Le,i=new Le,s=new Le,o=new Le,a=new Le,l=new Le,u=new Le,c=new Le,f=new Le,h=new Le,m=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(Zc.fromArray(n.translation)),n.preRotation){const I=n.preRotation.map(cs.degToRad);I.push(n.eulerOrder),t.makeRotationFromEuler(fw.fromArray(I))}if(n.rotation){const I=n.rotation.map(cs.degToRad);I.push(n.eulerOrder),r.makeRotationFromEuler(fw.fromArray(I))}if(n.postRotation){const I=n.postRotation.map(cs.degToRad);I.push(n.eulerOrder),i.makeRotationFromEuler(fw.fromArray(I)),i.invert()}n.scale&&s.scale(Zc.fromArray(n.scale)),n.scalingOffset&&a.setPosition(Zc.fromArray(n.scalingOffset)),n.scalingPivot&&o.setPosition(Zc.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(Zc.fromArray(n.rotationOffset)),n.rotationPivot&&u.setPosition(Zc.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(f.copy(n.parentMatrix),c.copy(n.parentMatrixWorld));const g=t.clone().multiply(r).multiply(i),y=new Le;y.extractRotation(c);const v=new Le;v.copyPosition(c);const x=v.clone().invert().multiply(c),_=y.clone().invert().multiply(x),S=s,M=new Le;if(m===0)M.copy(y).multiply(g).multiply(_).multiply(S);else if(m===1)M.copy(y).multiply(_).multiply(g).multiply(S);else{const k=new Le().scale(new F().setFromMatrixScale(f)).clone().invert(),j=_.clone().multiply(k);M.copy(y).multiply(g).multiply(j).multiply(S)}const C=u.clone().invert(),T=o.clone().invert();let R=e.clone().multiply(l).multiply(u).multiply(t).multiply(r).multiply(i).multiply(C).multiply(a).multiply(o).multiply(s).multiply(T);const b=new Le().copyPosition(R),B=c.clone().multiply(b);return h.copyPosition(B),R=h.clone().multiply(M),R.premultiply(c.invert()),R}function V4(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function dw(n){return n.split(",").map(function(t){return parseFloat(t)})}function W4(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),Ii.decodeText(new Uint8Array(n,e,t))}function zQ(n,e){for(let t=0,r=n.length,i=e.length;t<i;t++,r++)n[r]=e[t]}function UQ(n,e,t,r){for(let i=t,s=0;i<r;i++,s++)n[s]=e[i];return n}function QR(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}const hw=new WeakMap;class GQ extends Lr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new gi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(hw.has(e)){const l=hw.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),hw.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new ot;e.index&&t.setIndex(new zt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new zt(o,a))}return t}_loadLibrary(e,t){const r=new gi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=HQ.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function HQ(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(c){n.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const f=c.draco,h=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(f,h,m,u),y=g.attributes.map(v=>v.array.buffer);g.index&&y.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},y)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(m),f.destroy(h)}});break}};function t(o,a,l,u){const c=u.attributeIDs,f=u.attributeTypes;let h,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)h=new o.Mesh,m=a.DecodeBufferToMesh(l,h);else if(g===o.POINT_CLOUD)h=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const v in c){const x=self[f[v]];let _,S;if(u.useUniqueIDs)S=c[v],_=a.GetAttributeByUniqueId(h,S);else{if(S=a.GetAttributeId(h,o[c[v]]),S===-1)continue;_=a.GetAttribute(h,S)}y.attributes.push(i(o,a,h,v,x,_))}return g===o.TRIANGULAR_MESH&&(y.index=r(o,a,h)),o.destroy(h),y}function r(o,a,l){const c=l.num_faces()*3,f=c*4,h=o._malloc(f);a.GetTrianglesUInt32Array(l,f,h);const m=new Uint32Array(o.HEAPF32.buffer,h,c).slice();return o._free(h),{array:m,itemSize:1}}function i(o,a,l,u,c,f){const h=f.num_components(),g=l.num_points()*h,y=g*c.BYTES_PER_ELEMENT,v=s(o,c),x=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,f,v,y,x);const _=new c(o.HEAPF32.buffer,x,g).slice();return o._free(x),{name:u,array:_,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let H0;const pw=()=>{if(H0)return H0;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const h=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const y=f.charCodeAt(g);h[g]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let g=0;g<f.length;++g)h[m++]=h[g]<60?r[h[g]]:(h[g]-60)*64+h[++g];return h.buffer.slice(0,m)}function l(f,h,m,g,y,v){const x=s.exports.sbrk,_=m+3&-4,S=x(_*g),M=x(y.length),C=new Uint8Array(s.exports.memory.buffer);C.set(y,M);const T=f(S,m,g,M,y.length);if(T===0&&v&&v(S,_,g),h.set(C.subarray(S,S+m*g)),x(S-x(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return H0={ready:o,supported:!0,decodeVertexBuffer(f,h,m,g,y){l(s.exports.meshopt_decodeVertexBuffer,f,h,m,g,s.exports[u[y]])},decodeIndexBuffer(f,h,m,g){l(s.exports.meshopt_decodeIndexBuffer,f,h,m,g)},decodeIndexSequence(f,h,m,g){l(s.exports.meshopt_decodeIndexSequence,f,h,m,g)},decodeGltfBuffer(f,h,m,g,y,v){l(s.exports[c[y]],f,h,m,g,s.exports[u[v]])}},H0};let V0=null;function j4(n,e,t){return r=>{t&&t(r),n&&(V0||(V0=new GQ),V0.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(V0)),e&&r.setMeshoptDecoder(typeof pw=="function"?pw():pw)}}function x1(n,e=!0,t=!0,r){return Nl(AC,n,j4(e,t,r))}x1.preload=(n,e=!0,t=!0,r)=>Nl.preload(AC,n,j4(e,t,r));x1.clear=n=>Nl.clear(AC,n);function vu(n){return Nl(MC,n)}vu.preload=n=>Nl.preload(MC,n);vu.clear=n=>Nl.clear(MC,n);function VQ(n,e){const t=P.useRef(),[r]=P.useState(()=>e?e instanceof wt?{current:e}:e:t),[i]=P.useState(()=>new YO(void 0));P.useLayoutEffect(()=>void(i._root=r.current),[i,e]);const s=P.useRef({}),[o]=P.useState(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}});return Ol((a,l)=>i.update(l)),P.useEffect(()=>{const a=r.current;return()=>{s.current={},Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),P.useEffect(()=>()=>{i.stopAllAction()},[i]),o}const WQ=P.forwardRef(({scale:n=10,frames:e=1/0,opacity:t=1,width:r=1,height:i=1,blur:s=1,far:o=10,resolution:a=512,smooth:l=!0,color:u="#000000",depthWrite:c=!1,renderOrder:f,...h},m)=>{const g=P.useRef(null),y=sd(G=>G.scene),v=sd(G=>G.gl),x=P.useRef(null);r=r*(Array.isArray(n)?n[0]:n||1),i=i*(Array.isArray(n)?n[1]:n||1);const[_,S,M,C,T,R,b]=P.useMemo(()=>{const G=new mi(a,a),N=new mi(a,a);N.texture.generateMipmaps=G.texture.generateMipmaps=!1;const $=new lc(r,i).rotateX(Math.PI/2),X=new Xn($),te=new o1;te.depthTest=te.depthWrite=!1,te.onBeforeCompile=H=>{H.uniforms={...H.uniforms,ucolor:{value:new Me(u)}},H.fragmentShader=H.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),H.fragmentShader=H.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const O=new ws(wQ),z=new ws(SQ);return z.depthTest=O.depthTest=!1,[G,$,te,X,O,z,N]},[a,r,i,n,u]),B=G=>{C.visible=!0,C.material=T,T.uniforms.tDiffuse.value=_.texture,T.uniforms.h.value=G*1/256,v.setRenderTarget(b),v.render(C,x.current),C.material=R,R.uniforms.tDiffuse.value=b.texture,R.uniforms.v.value=G*1/256,v.setRenderTarget(_),v.render(C,x.current),C.visible=!1};let I=0,k,j;return Ol(()=>{x.current&&(e===1/0||I<e)&&(I++,k=y.background,j=y.overrideMaterial,g.current.visible=!1,y.background=null,y.overrideMaterial=M,v.setRenderTarget(_),v.render(y,x.current),B(s),l&&B(s*.4),v.setRenderTarget(null),g.current.visible=!0,y.overrideMaterial=j,y.background=k)}),P.useImperativeHandle(m,()=>g.current,[]),P.createElement("group",rn({"rotation-x":Math.PI/2},h,{ref:g}),P.createElement("mesh",{renderOrder:f,geometry:S,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},P.createElement("meshBasicMaterial",{transparent:!0,map:_.texture,opacity:t,depthWrite:c})),P.createElement("orthographicCamera",{ref:x,args:[-r/2,r/2,i/2,-i/2,0,o]}))});var $4={exports:{}},jQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$Q=jQ,JQ=$Q;function J4(){}function X4(){}X4.resetWarningCache=J4;var XQ=function(){function n(r,i,s,o,a,l){if(l!==JQ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:X4,resetWarningCache:J4};return t.PropTypes=t,t};$4.exports=XQ();var KQ=$4.exports;const Qt=sc(KQ),zp=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),_1=P.createContext({}),w1=P.createContext(null),S1=typeof document<"u",lv=S1?P.useLayoutEffect:P.useEffect,K4=P.createContext({strict:!1});function YQ(n,e,t,r){const{visualElement:i}=P.useContext(_1),s=P.useContext(K4),o=P.useContext(w1),a=P.useContext(zp).reducedMotion,l=P.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return P.useInsertionEffect(()=>{u&&u.update(t,o)}),lv(()=>{u&&u.render()}),P.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?lv:P.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Mf(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function QQ(n,e,t){return P.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Mf(t)&&(t.current=r))},[e])}function Up(n){return typeof n=="string"||Array.isArray(n)}function A1(n){return typeof n=="object"&&typeof n.start=="function"}const bC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CC=["initial",...bC];function M1(n){return A1(n.animate)||CC.some(e=>Up(n[e]))}function Y4(n){return!!(M1(n)||n.variants)}function qQ(n,e){if(M1(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Up(t)?t:void 0,animate:Up(r)?r:void 0}}return n.inherit!==!1?e:{}}function ZQ(n){const{initial:e,animate:t}=qQ(n,P.useContext(_1));return P.useMemo(()=>({initial:e,animate:t}),[qR(e),qR(t)])}function qR(n){return Array.isArray(n)?n.join(" "):n}const ZR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gp={};for(const n in ZR)Gp[n]={isEnabled:e=>ZR[n].some(t=>!!e[t])};function eq(n){for(const e in n)Gp[e]={...Gp[e],...n[e]}}const EC=P.createContext({}),Q4=P.createContext({}),tq=Symbol.for("motionComponentSymbol");function q4({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&eq(n);function s(a,l){let u;const c={...P.useContext(zp),...a,layoutId:nq(a)},{isStatic:f}=c,h=ZQ(a),m=r(a,f);if(!f&&S1){h.visualElement=YQ(i,m,c,e);const g=P.useContext(Q4),y=P.useContext(K4).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,y,n,g))}return P.createElement(_1.Provider,{value:h},u&&h.visualElement?P.createElement(u,{visualElement:h.visualElement,...c}):null,t(i,a,QQ(m,h.visualElement,l),m,f,h.visualElement))}const o=P.forwardRef(s);return o[tq]=i,o}function nq({layoutId:n}){const e=P.useContext(EC).id;return e&&n!==void 0?e+"-"+n:n}function rq(n){function e(r,i={}){return q4(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const iq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TC(n){return typeof n!="string"||n.includes("-")?!1:!!(iq.indexOf(n)>-1||/[A-Z]/.test(n))}const uv={};function sq(n){Object.assign(uv,n)}const Pm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pc=new Set(Pm);function Z4(n,{layout:e,layoutId:t}){return pc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!uv[n]||n==="opacity")}const Rn=n=>!!(n&&n.getVelocity),oq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aq=Pm.length;function lq(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<aq;o++){const a=Pm[o];if(n[a]!==void 0){const l=oq[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const eN=n=>e=>typeof e=="string"&&e.startsWith(n),tN=eN("--"),UA=eN("var(--"),uq=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,cq=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ml=(n,e,t)=>Math.min(Math.max(t,n),e),mc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},qh={...mc,transform:n=>Ml(0,1,n)},W0={...mc,default:1},Zh=n=>Math.round(n*1e5)/1e5,b1=/(-)?([\d]*\.?[\d])+/g,nN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fq=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Rm(n){return typeof n=="string"}const Bm=n=>({test:e=>Rm(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Va=Bm("deg"),xo=Bm("%"),it=Bm("px"),dq=Bm("vh"),hq=Bm("vw"),eB={...xo,parse:n=>xo.parse(n)/100,transform:n=>xo.transform(n*100)},tB={...mc,transform:Math.round},rN={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,size:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:W0,scaleX:W0,scaleY:W0,scaleZ:W0,skew:Va,skewX:Va,skewY:Va,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:qh,originX:eB,originY:eB,originZ:it,zIndex:tB,fillOpacity:qh,strokeOpacity:qh,numOctaves:tB};function PC(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,c=!0;for(const f in e){const h=e[f];if(tN(f)){s[f]=h;continue}const m=rN[f],g=cq(h,m);if(pc.has(f)){if(l=!0,o[f]=g,!c)continue;h!==(m.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=g):i[f]=g}if(e.transform||(l||r?i.transform=lq(n.transform,t,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${h} ${m}`}}const RC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iN(n,e,t){for(const r in e)!Rn(e[r])&&!Z4(r,t)&&(n[r]=e[r])}function pq({transformTemplate:n},e,t){return P.useMemo(()=>{const r=RC();return PC(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function mq(n,e,t){const r=n.style||{},i={};return iN(i,r,n),Object.assign(i,pq(n,e,t)),n.transformValues?n.transformValues(i):i}function gq(n,e,t){const r={},i=mq(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const yq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function cv(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||yq.has(n)}let sN=n=>!cv(n);function oN(n){n&&(sN=e=>e.startsWith("on")?!cv(e):n(e))}try{oN(require("@emotion/is-prop-valid").default)}catch{}function aN(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(sN(i)||t===!0&&cv(i)||!e&&!cv(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function nB(n,e,t){return typeof n=="string"?n:it.transform(e+t*n)}function vq(n,e,t){const r=nB(e,n.x,n.width),i=nB(t,n.y,n.height);return`${r} ${i}`}const xq={offset:"stroke-dashoffset",array:"stroke-dasharray"},_q={offset:"strokeDashoffset",array:"strokeDasharray"};function wq(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?xq:_q;n[s.offset]=it.transform(-r);const o=it.transform(e),a=it.transform(t);n[s.array]=`${o} ${a}`}function BC(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f,h){if(PC(n,u,c,h),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:g,dimensions:y}=n;m.transform&&(y&&(g.transform=m.transform),delete m.transform),y&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=vq(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),o!==void 0&&wq(m,o,a,l,!1)}const lN=()=>({...RC(),attrs:{}}),DC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Sq(n,e,t,r){const i=P.useMemo(()=>{const s=lN();return BC(s,e,{enableHardwareAcceleration:!1},DC(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};iN(s,n.style,n),i.style={...s,...i.style}}return i}function Aq(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(TC(t)?Sq:gq)(r,s,o,t),c={...aN(r,typeof t=="string",n),...l,ref:i},{children:f}=r,h=P.useMemo(()=>Rn(f)?f.get():f,[f]);return P.createElement(t,{...c,children:h})}}const IC=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function uN(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const cN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fN(n,e,t,r){uN(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(cN.has(i)?i:IC(i),e.attrs[i])}function LC(n,e){const{style:t}=n,r={};for(const i in t)(Rn(t[i])||e.style&&Rn(e.style[i])||Z4(i,n))&&(r[i]=t[i]);return r}function dN(n,e){const t=LC(n,e);for(const r in n)if(Rn(n[r])||Rn(e[r])){const i=Pm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function kC(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function C1(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const fv=n=>Array.isArray(n),Mq=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),bq=n=>fv(n)?n[n.length-1]||0:n;function ep(n){const e=Rn(n)?n.get():n;return Mq(e)?e.toValue():e}function Cq({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:Eq(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const FC=n=>(e,t)=>{const r=P.useContext(_1),i=P.useContext(w1),s=()=>Cq(n,e,r,i);return t?s():C1(s)};function Eq(n,e,t,r){const i={},s=r(n,{});for(const h in s)i[h]=ep(s[h]);let{initial:o,animate:a}=n;const l=M1(n),u=Y4(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=t?t.initial===!1:!1;c=c||o===!1;const f=c?a:o;return f&&typeof f!="boolean"&&!A1(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const g=kC(n,m);if(!g)return;const{transitionEnd:y,transition:v,...x}=g;for(const _ in x){let S=x[_];if(Array.isArray(S)){const M=c?S.length-1:0;S=S[M]}S!==null&&(i[_]=S)}for(const _ in y)i[_]=y[_]}),i}const Tq={useVisualState:FC({scrapeMotionValuesFromProps:dN,createRenderState:lN,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}BC(t,r,{enableHardwareAcceleration:!1},DC(e.tagName),n.transformTemplate),fN(e,t)}})},Pq={useVisualState:FC({scrapeMotionValuesFromProps:LC,createRenderState:RC})};function Rq(n,{forwardMotionProps:e=!1},t,r){return{...TC(n)?Tq:Pq,preloadedFeatures:t,useRender:Aq(e),createVisualElement:r,Component:n}}function ea(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const hN=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function E1(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const pN=n=>e=>hN(e)&&n(e,E1(e));function Hs(n,e,t,r){return ea(n,e,pN(t),r)}const Bq=(n,e)=>t=>e(n(t)),ra=(...n)=>n.reduce(Bq);function mN(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const rB=mN("dragHorizontal"),iB=mN("dragVertical");function gN(n){let e=!1;if(n==="y")e=iB();else if(n==="x")e=rB();else{const t=rB(),r=iB();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function OC(){const n=gN(!0);return n?(n(),!1):!0}class zl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Dq(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,h=f?e:t;return u&&o.add(l),h.indexOf(l)===-1&&(h.push(l),f&&i&&(r=e.length)),l},cancel:l=>{const u=t.indexOf(l);u!==-1&&t.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const pn={delta:0,timestamp:0,isProcessing:!1},Iq=40;let GA=!0,Hp=!1;const T1=["read","update","preRender","render","postRender"],Uf=T1.reduce((n,e)=>(n[e]=Dq(()=>Hp=!0),n),{}),Lq=n=>Uf[n].process(pn),yN=n=>{Hp=!1,pn.delta=GA?1e3/60:Math.max(Math.min(n-pn.timestamp,Iq),1),pn.timestamp=n,pn.isProcessing=!0,T1.forEach(Lq),pn.isProcessing=!1,Hp&&(GA=!1,requestAnimationFrame(yN))},kq=()=>{Hp=!0,GA=!0,pn.isProcessing||requestAnimationFrame(yN)},cn=T1.reduce((n,e)=>{const t=Uf[e];return n[e]=(r,i=!1,s=!1)=>(Hp||kq(),t.schedule(r,i,s)),n},{});function da(n){T1.forEach(e=>Uf[e].cancel(n))}function sB(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||OC())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&cn.update(()=>a[r](s,o))};return Hs(n.current,t,i,{passive:!n.getProps()[r]})}class Fq extends zl{mount(){this.unmount=ra(sB(this.node,!0),sB(this.node,!1))}unmount(){}}class Oq extends zl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ra(ea(this.node.current,"focus",()=>this.onFocus()),ea(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const vN=(n,e)=>e?n===e?!0:vN(n,e.parentElement):!1,er=n=>n;function mw(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,E1(t))}class Nq extends zl{constructor(){super(...arguments),this.removeStartListeners=er,this.removeEndListeners=er,this.removeAccessibleListeners=er,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Hs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();cn.update(()=>{vN(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Hs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ra(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||mw("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&cn.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=ea(this.node.current,"keyup",o),mw("down",(a,l)=>{this.startPress(a,l)})},t=ea(this.node.current,"keydown",e),r=()=>{this.isPressing&&mw("cancel",(s,o)=>this.cancelPress(s,o))},i=ea(this.node.current,"blur",r);this.removeAccessibleListeners=ra(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&cn.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!OC()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&cn.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Hs(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ea(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ra(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const HA=new WeakMap,gw=new WeakMap,zq=n=>{const e=HA.get(n.target);e&&e(n)},Uq=n=>{n.forEach(zq)};function Gq({root:n,...e}){const t=n||document;gw.has(t)||gw.set(t,{});const r=gw.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Uq,{root:n,...e})),r[i]}function Hq(n,e,t){const r=Gq(e);return HA.set(n,t),r.observe(n),()=>{HA.delete(n),r.unobserve(n)}}const Vq={some:0,all:1};class Wq extends zl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Vq[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return Hq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(jq(e,t))&&this.startObserver()}unmount(){}}function jq({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const $q={inView:{Feature:Wq},tap:{Feature:Nq},focus:{Feature:Oq},hover:{Feature:Fq}};function xN(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Jq(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function Xq(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function P1(n,e,t){const r=n.getProps();return kC(r,e,t!==void 0?t:r.custom,Jq(n),Xq(n))}const Kq="framerAppearId",Yq="data-"+IC(Kq);let Qq=er,R1=er;const ia=n=>n*1e3,_o=n=>n/1e3,qq={current:!1},_N=n=>Array.isArray(n)&&typeof n[0]=="number";function wN(n){return!!(!n||typeof n=="string"&&SN[n]||_N(n)||Array.isArray(n)&&n.every(wN))}const Dh=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,SN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dh([0,.65,.55,1]),circOut:Dh([.55,0,1,.45]),backIn:Dh([.31,.01,.66,-.59]),backOut:Dh([.33,1.53,.69,.99])};function AN(n){if(n)return _N(n)?Dh(n):Array.isArray(n)?n.map(AN):SN[n]}function Zq(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:t};l&&(u.offset=l);const c=AN(a);return Array.isArray(c)&&(u.easing=c),n.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const oB={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},yw={},MN={};for(const n in oB)MN[n]=()=>(yw[n]===void 0&&(yw[n]=oB[n]()),yw[n]);function eZ(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const bN=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,tZ=1e-7,nZ=12;function rZ(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=bN(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>tZ&&++a<nZ);return o}function Dm(n,e,t,r){if(n===e&&t===r)return er;const i=s=>rZ(s,0,1,n,t);return s=>s===0||s===1?s:bN(i(s),e,r)}const iZ=Dm(.42,0,1,1),sZ=Dm(0,0,.58,1),CN=Dm(.42,0,.58,1),EN=n=>Array.isArray(n)&&typeof n[0]!="number",TN=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,PN=n=>e=>1-n(1-e),RN=n=>1-Math.sin(Math.acos(n)),NC=PN(RN),oZ=TN(NC),BN=Dm(.33,1.53,.69,.99),zC=PN(BN),aZ=TN(zC),lZ=n=>(n*=2)<1?.5*zC(n):.5*(2-Math.pow(2,-10*(n-1))),uZ={linear:er,easeIn:iZ,easeInOut:CN,easeOut:sZ,circIn:RN,circInOut:oZ,circOut:NC,backIn:zC,backInOut:aZ,backOut:BN,anticipate:lZ},aB=n=>{if(Array.isArray(n)){R1(n.length===4);const[e,t,r,i]=n;return Dm(e,t,r,i)}else if(typeof n=="string")return uZ[n];return n},UC=(n,e)=>t=>!!(Rm(t)&&fq.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),DN=(n,e,t)=>r=>{if(!Rm(r))return r;const[i,s,o,a]=r.match(b1);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},cZ=n=>Ml(0,255,n),vw={...mc,transform:n=>Math.round(cZ(n))},Eu={test:UC("rgb","red"),parse:DN("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+vw.transform(n)+", "+vw.transform(e)+", "+vw.transform(t)+", "+Zh(qh.transform(r))+")"};function fZ(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const VA={test:UC("#"),parse:fZ,transform:Eu.transform},bf={test:UC("hsl","hue"),parse:DN("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+xo.transform(Zh(e))+", "+xo.transform(Zh(t))+", "+Zh(qh.transform(r))+")"},Gr={test:n=>Eu.test(n)||VA.test(n)||bf.test(n),parse:n=>Eu.test(n)?Eu.parse(n):bf.test(n)?bf.parse(n):VA.parse(n),transform:n=>Rm(n)?n:n.hasOwnProperty("red")?Eu.transform(n):bf.transform(n)},un=(n,e,t)=>-t*n+t*e+n;function xw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function dZ({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=xw(l,a,n+1/3),s=xw(l,a,n),o=xw(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const _w=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},hZ=[VA,Eu,bf],pZ=n=>hZ.find(e=>e.test(n));function lB(n){const e=pZ(n);let t=e.parse(n);return e===bf&&(t=dZ(t)),t}const IN=(n,e)=>{const t=lB(n),r=lB(e),i={...t};return s=>(i.red=_w(t.red,r.red,s),i.green=_w(t.green,r.green,s),i.blue=_w(t.blue,r.blue,s),i.alpha=un(t.alpha,r.alpha,s),Eu.transform(i))};function mZ(n){var e,t;return isNaN(n)&&Rm(n)&&(((e=n.match(b1))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(nN))===null||t===void 0?void 0:t.length)||0)>0}const LN={regex:uq,countKey:"Vars",token:"${v}",parse:er},kN={regex:nN,countKey:"Colors",token:"${c}",parse:Gr.parse},FN={regex:b1,countKey:"Numbers",token:"${n}",parse:mc.parse};function ww(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function dv(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&ww(t,LN),ww(t,kN),ww(t,FN),t}function ON(n){return dv(n).values}function NN(n){const{values:e,numColors:t,numVars:r,tokenised:i}=dv(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(LN.token,o[l]):l<r+t?a=a.replace(kN.token,Gr.transform(o[l])):a=a.replace(FN.token,Zh(o[l]));return a}}const gZ=n=>typeof n=="number"?0:n;function yZ(n){const e=ON(n);return NN(n)(e.map(gZ))}const bl={test:mZ,parse:ON,createTransformer:NN,getAnimatableNone:yZ},zN=(n,e)=>t=>`${t>0?e:n}`;function UN(n,e){return typeof n=="number"?t=>un(n,e,t):Gr.test(n)?IN(n,e):n.startsWith("var(")?zN(n,e):HN(n,e)}const GN=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>UN(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},vZ=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=UN(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},HN=(n,e)=>{const t=bl.createTransformer(e),r=dv(n),i=dv(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ra(GN(r.values,i.values),t):zN(n,e)},ad=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},uB=(n,e)=>t=>un(n,e,t);function xZ(n){return typeof n=="number"?uB:typeof n=="string"?Gr.test(n)?IN:HN:Array.isArray(n)?GN:typeof n=="object"?vZ:uB}function _Z(n,e,t){const r=[],i=t||xZ(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||er:e;a=ra(l,a)}r.push(a)}return r}function VN(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(R1(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=_Z(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<n.length-2&&!(u<n[c+1]);c++);const f=ad(n[c],n[c+1],u);return o[c](f)};return t?u=>l(Ml(n[0],n[s-1],u)):l}function WN(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=ad(0,e,r);n.push(un(t,1,i))}}function jN(n){const e=[0];return WN(e,n.length-1),e}function wZ(n,e){return n.map(t=>t*e)}function SZ(n,e){return n.map(()=>e||CN).splice(0,n.length-1)}function hv({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=EN(r)?r.map(aB):aB(r),s={done:!1,value:e[0]},o=wZ(t&&t.length===e.length?t:jN(e),n),a=VN(o,e,{ease:Array.isArray(i)?i:SZ(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function $N(n,e){return e?n*(1e3/e):0}const AZ=5;function JN(n,e,t){const r=Math.max(e-AZ,0);return $N(t-n(r),e-r)}const Sw=.001,MZ=.01,cB=10,bZ=.05,CZ=1;function EZ({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Qq(n<=ia(cB));let o=1-e;o=Ml(bZ,CZ,o),n=Ml(MZ,cB,_o(n)),o<1?(i=u=>{const c=u*o,f=c*n,h=c-t,m=WA(u,o),g=Math.exp(-f);return Sw-h/m*g},s=u=>{const f=u*o*n,h=f*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,g=Math.exp(-f),y=WA(Math.pow(u,2),o);return(-i(u)+Sw>0?-1:1)*((h-m)*g)/y}):(i=u=>{const c=Math.exp(-u*n),f=(u-t)*n+1;return-Sw+c*f},s=u=>{const c=Math.exp(-u*n),f=(t-u)*(n*n);return c*f});const a=5/n,l=PZ(i,s,a);if(n=ia(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const TZ=12;function PZ(n,e,t){let r=t;for(let i=1;i<TZ;i++)r=r-n(r)/e(r);return r}function WA(n,e){return n*Math.sqrt(1-e*e)}const RZ=["duration","bounce"],BZ=["stiffness","damping","mass"];function fB(n,e){return e.some(t=>n[t]!==void 0)}function DZ(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!fB(n,BZ)&&fB(n,RZ)){const t=EZ(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function GC({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:f,isResolvedFromDuration:h}=DZ(r),m=c?-_o(c):0,g=l/(2*Math.sqrt(a*u)),y=s-i,v=_o(Math.sqrt(a/u)),x=Math.abs(y)<5;t||(t=x?.01:2),e||(e=x?.005:.5);let _;if(g<1){const S=WA(v,g);_=M=>{const C=Math.exp(-g*v*M);return s-C*((m+g*v*y)/S*Math.sin(S*M)+y*Math.cos(S*M))}}else if(g===1)_=S=>s-Math.exp(-v*S)*(y+(m+v*y)*S);else{const S=v*Math.sqrt(g*g-1);_=M=>{const C=Math.exp(-g*v*M),T=Math.min(S*M,300);return s-C*((m+g*v*y)*Math.sinh(T)+S*y*Math.cosh(T))/S}}return{calculatedDuration:h&&f||null,next:S=>{const M=_(S);if(h)o.done=S>=f;else{let C=m;S!==0&&(g<1?C=JN(_,S,M):C=0);const T=Math.abs(C)<=t,R=Math.abs(s-M)<=e;o.done=T&&R}return o.value=o.done?s:M,o}}}function dB({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=n[0],h={done:!1,value:f},m=b=>a!==void 0&&b<a||l!==void 0&&b>l,g=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let y=t*e;const v=f+y,x=o===void 0?v:o(v);x!==v&&(y=x-f);const _=b=>-y*Math.exp(-b/r),S=b=>x+_(b),M=b=>{const B=_(b),I=S(b);h.done=Math.abs(B)<=u,h.value=h.done?x:I};let C,T;const R=b=>{m(h.value)&&(C=b,T=GC({keyframes:[h.value,g(h.value)],velocity:JN(S,b,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:b=>{let B=!1;return!T&&C===void 0&&(B=!0,M(b),R(b)),C!==void 0&&b>C?T.next(b-C):(!B&&M(b),h)}}}const IZ=n=>{const e=({timestamp:t})=>n(t);return{start:()=>cn.update(e,!0),stop:()=>da(e),now:()=>pn.isProcessing?pn.timestamp:performance.now()}},jA=2e4;function $A(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<jA;)e+=t,r=n.next(e);return e>=jA?1/0:e}const LZ={decay:dB,inertia:dB,tween:hv,keyframes:hv,spring:GC};function pv({autoplay:n=!0,delay:e=0,driver:t=IZ,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...h}){let m=1,g=!1,y,v;const x=()=>{y&&y(),v=new Promise(K=>{y=K})};x();let _;const S=LZ[i]||hv;let M;S!==hv&&typeof r[0]!="number"&&(M=VN([0,100],r,{clamp:!1}),r=[0,100]);const C=S({...h,keyframes:r});let T;a==="mirror"&&(T=S({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let R="idle",b=null,B=null,I=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=$A(C));const{calculatedDuration:k}=C;let j=1/0,G=1/0;k!==null&&(j=k+o,G=j*(s+1)-o);let N=0;const $=K=>{if(B===null)return;m>0&&(B=Math.min(B,K)),b!==null?N=b:N=(K-B)*m;const ee=N-e,ce=ee<0;N=Math.max(ee,0),R==="finished"&&b===null&&(N=G);let ge=N,Re=C;if(s){const Ke=N/j;let be=Math.floor(Ke),Ve=Ke%1;!Ve&&Ke>=1&&(Ve=1),Ve===1&&be--,be=Math.min(be,s+1);const he=!!(be%2);he&&(a==="reverse"?(Ve=1-Ve,o&&(Ve-=o/j)):a==="mirror"&&(Re=T));let ae=Ml(0,1,Ve);N>G&&(ae=a==="reverse"&&he?1:0),ge=ae*j}const se=ce?{done:!1,value:r[0]}:Re.next(ge);M&&(se.value=M(se.value));let{done:He}=se;!ce&&k!==null&&(He=N>=G);const Ge=b===null&&(R==="finished"||R==="running"&&He||m<0&&N<=0);return f&&f(se.value),Ge&&O(),se},X=()=>{_&&_.stop(),_=void 0},te=()=>{R="idle",X(),x(),B=I=null},O=()=>{R="finished",c&&c(),X(),x()},z=()=>{if(g)return;_||(_=t($));const K=_.now();l&&l(),b!==null?B=K-b:(!B||R==="finished")&&(B=K),I=B,b=null,R="running",_.start()};n&&z();const H={then(K,ee){return v.then(K,ee)},get time(){return _o(N)},set time(K){K=ia(K),N=K,b!==null||!_||m===0?b=K:B=_.now()-K/m},get duration(){const K=C.calculatedDuration===null?$A(C):C.calculatedDuration;return _o(K)},get speed(){return m},set speed(K){K===m||!_||(m=K,H.time=_o(N))},get state(){return R},play:z,pause:()=>{R="paused",b=N},stop:()=>{g=!0,R!=="idle"&&(R="idle",u&&u(),te())},cancel:()=>{I!==null&&$(I),te()},complete:()=>{R="finished"},sample:K=>(B=0,$(K))};return H}const kZ=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),j0=10,FZ=2e4,OZ=(n,e)=>e.type==="spring"||n==="backgroundColor"||!wN(e.ease);function NZ(n,e,{onUpdate:t,onComplete:r,...i}){if(!(MN.waapi()&&kZ.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(x=>{a=x})};u();let{keyframes:c,duration:f=300,ease:h,times:m}=i;if(OZ(e,i)){const x=pv({...i,repeat:0,delay:0});let _={done:!1,value:c[0]};const S=[];let M=0;for(;!_.done&&M<FZ;)_=x.sample(M),S.push(_.value),M+=j0;m=void 0,c=S,f=M-j0,h="linear"}const g=Zq(n.owner.current,e,c,{...i,duration:f,ease:h,times:m}),y=()=>g.cancel(),v=()=>{cn.update(y),a(),u()};return g.onfinish=()=>{n.set(eZ(c,i)),r&&r(),v()},{then(x,_){return l.then(x,_)},get time(){return _o(g.currentTime||0)},set time(x){g.currentTime=ia(x)},get speed(){return g.playbackRate},set speed(x){g.playbackRate=x},get duration(){return _o(f)},play:()=>{o||(g.play(),da(y))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:x}=g;if(x){const _=pv({...i,autoplay:!1});n.setWithVelocity(_.sample(x-j0).value,_.sample(x).value,j0)}v()},complete:()=>g.finish(),cancel:v}}function zZ({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:er,pause:er,stop:er,then:s=>(s(),Promise.resolve()),cancel:er,complete:er});return e?pv({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const UZ={type:"spring",stiffness:500,damping:25,restSpeed:10},GZ=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),HZ={type:"keyframes",duration:.8},VZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WZ=(n,{keyframes:e})=>e.length>2?HZ:pc.has(n)?n.startsWith("scale")?GZ(e[1]):UZ:VZ,JA=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bl.test(e)||e==="0")&&!e.startsWith("url(")),jZ=new Set(["brightness","contrast","saturate","opacity"]);function $Z(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(b1)||[];if(!r)return n;const i=t.replace(r,"");let s=jZ.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const JZ=/([a-z-]*)\(.*?\)/g,XA={...bl,getAnimatableNone:n=>{const e=n.match(JZ);return e?e.map($Z).join(" "):n}},XZ={...rN,color:Gr,backgroundColor:Gr,outlineColor:Gr,fill:Gr,stroke:Gr,borderColor:Gr,borderTopColor:Gr,borderRightColor:Gr,borderBottomColor:Gr,borderLeftColor:Gr,filter:XA,WebkitFilter:XA},HC=n=>XZ[n];function XN(n,e){let t=HC(n);return t!==XA&&(t=bl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const KN=n=>/^0[^.\s]+$/.test(n);function KZ(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||KN(n)}function YZ(n,e,t,r){const i=JA(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),KZ(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=XN(e,a)}return s}function QZ({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function YN(n,e){return n[e]||n.default||n}const VC=(n,e,t,r={})=>i=>{const s=YN(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ia(o);const l=YZ(e,n,t,s),u=l[0],c=l[l.length-1],f=JA(n,u),h=JA(n,c);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(QZ(s)||(m={...m,...WZ(n,m)}),m.duration&&(m.duration=ia(m.duration)),m.repeatDelay&&(m.repeatDelay=ia(m.repeatDelay)),!f||!h||qq.current||s.type===!1)return zZ(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=NZ(e,n,m);if(g)return g}return pv(m)};function mv(n){return!!(Rn(n)&&n.add)}const qZ=n=>/^\-?\d*\.?\d+$/.test(n);function WC(n,e){n.indexOf(e)===-1&&n.push(e)}function B1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class jC{constructor(){this.subscriptions=[]}add(e){return WC(this.subscriptions,e),()=>B1(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ZZ=n=>!isNaN(parseFloat(n));class eee{constructor(e,t={}){this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=pn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,cn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>cn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=ZZ(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new jC);const r=this.events[e].add(t);return e==="change"?()=>{r(),cn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$N(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nc(n,e){return new eee(n,e)}const QN=n=>e=>e.test(n),tee={test:n=>n==="auto",parse:n=>n},qN=[mc,it,xo,Va,hq,dq,tee],wh=n=>qN.find(QN(n)),nee=[...qN,Gr,bl],ree=n=>nee.find(QN(n));function iee(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,nc(t))}function see(n,e){const t=P1(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=bq(s[o]);iee(n,o,a)}}function ZN(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(qZ(c)||KN(c))?c=parseFloat(c):!ree(c)&&bl.test(u)&&(c=XN(l,u)),n.addValue(l,nc(c,{owner:n})),t[l]===void 0&&(t[l]=c),c!==null&&n.setBaseTarget(l,c))}}function oee(n,e){return e?(e[n]||e.default||e).from:void 0}function aee(n,e,t){const r={};for(const i in n){const s=oee(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function lee({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function $C(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const u=[],c=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const h=n.getValue(f),m=a[f];if(!h||m===void 0||c&&lee(c,f))continue;const g={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!h.hasAnimated){const v=n.getProps()[Yq];v&&(g.elapsed=window.HandoffAppearAnimations(v,f,h,cn))}h.start(VC(f,h,m,n.shouldReduceMotion&&pc.has(f)?{type:!1}:g));const y=h.animation;mv(l)&&(l.add(f),y.then(()=>l.remove(f))),u.push(y)}return o&&Promise.all(u).then(()=>{o&&see(n,o)}),u}function KA(n,e,t={}){const r=P1(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all($C(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return uee(n,e,u+l,c,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(t.delay)])}function uee(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(n.variantChildren).sort(cee).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(KA(u,e,{...s,delay:t+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function cee(n,e){return n.sortNodePosition(e)}function fee(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>KA(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=KA(n,e,t);else{const i=typeof e=="function"?P1(n,e,t.custom):e;r=Promise.all($C(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const dee=[...bC].reverse(),hee=bC.length;function pee(n){return e=>Promise.all(e.map(({animation:t,options:r})=>fee(n,t,r)))}function mee(n){let e=pee(n);const t=yee();let r=!0;const i=(l,u)=>{const c=P1(n,u);if(c){const{transition:f,transitionEnd:h,...m}=c;l={...l,...m,...h}}return l};function s(l){e=l(n)}function o(l,u){const c=n.getProps(),f=n.getVariantContext(!0)||{},h=[],m=new Set;let g={},y=1/0;for(let x=0;x<hee;x++){const _=dee[x],S=t[_],M=c[_]!==void 0?c[_]:f[_],C=Up(M),T=_===u?S.isActive:null;T===!1&&(y=x);let R=M===f[_]&&M!==c[_]&&C;if(R&&r&&n.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...g},!S.isActive&&T===null||!M&&!S.prevProp||A1(M)||typeof M=="boolean")continue;const b=gee(S.prevProp,M);let B=b||_===u&&S.isActive&&!R&&C||x>y&&C;const I=Array.isArray(M)?M:[M];let k=I.reduce(i,{});T===!1&&(k={});const{prevResolvedValues:j={}}=S,G={...j,...k},N=$=>{B=!0,m.delete($),S.needsAnimating[$]=!0};for(const $ in G){const X=k[$],te=j[$];g.hasOwnProperty($)||(X!==te?fv(X)&&fv(te)?!xN(X,te)||b?N($):S.protectedKeys[$]=!0:X!==void 0?N($):m.add($):X!==void 0&&m.has($)?N($):S.protectedKeys[$]=!0)}S.prevProp=M,S.prevResolvedValues=k,S.isActive&&(g={...g,...k}),r&&n.blockInitialAnimation&&(B=!1),B&&!R&&h.push(...I.map($=>({animation:$,options:{type:_,...l}})))}if(m.size){const x={};m.forEach(_=>{const S=n.getBaseTarget(_);S!==void 0&&(x[_]=S)}),h.push({animation:x})}let v=!!h.length;return r&&c.initial===!1&&!n.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,u,c){var f;if(t[l].isActive===u)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),t[l].isActive=u;const h=o(c,l);for(const m in t)t[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function gee(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!xN(e,n):!1}function ou(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yee(){return{animate:ou(!0),whileInView:ou(),whileHover:ou(),whileTap:ou(),whileDrag:ou(),whileFocus:ou(),exit:ou()}}class vee extends zl{constructor(e){super(e),e.animationState||(e.animationState=mee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),A1(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let xee=0;class _ee extends zl{constructor(){super(...arguments),this.id=xee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const e5={animation:{Feature:vee},exit:{Feature:_ee}},hB=(n,e)=>Math.abs(n-e);function wee(n,e){const t=hB(n.x,e.x),r=hB(n.y,e.y);return Math.sqrt(t**2+r**2)}class t5{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Mw(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,f=wee(u.offset,{x:0,y:0})>=3;if(!c&&!f)return;const{point:h}=u,{timestamp:m}=pn;this.history.push({...h,timestamp:m});const{onStart:g,onMove:y}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Aw(c,this.transformPagePoint),cn.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:h}=this.handlers,m=Mw(u.type==="pointercancel"?this.lastMoveEventInfo:Aw(c,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),h&&h(u,m)},!hN(e))return;this.handlers=t,this.transformPagePoint=r;const i=E1(e),s=Aw(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=pn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Mw(s,this.history)),this.removeListeners=ra(Hs(window,"pointermove",this.handlePointerMove),Hs(window,"pointerup",this.handlePointerUp),Hs(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function Aw(n,e){return e?{point:e(n.point)}:n}function pB(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Mw({point:n},e){return{point:n,delta:pB(n,n5(e)),offset:pB(n,See(e)),velocity:Aee(e,.1)}}function See(n){return n[0]}function n5(n){return n[n.length-1]}function Aee(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=n5(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>ia(e)));)t--;if(!r)return{x:0,y:0};const s=_o(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Fi(n){return n.max-n.min}function YA(n,e=0,t=.01){return Math.abs(n-e)<=t}function mB(n,e,t,r=.5){n.origin=r,n.originPoint=un(e.min,e.max,n.origin),n.scale=Fi(t)/Fi(e),(YA(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=un(t.min,t.max,n.origin)-n.originPoint,(YA(n.translate)||isNaN(n.translate))&&(n.translate=0)}function tp(n,e,t,r){mB(n.x,e.x,t.x,r?r.originX:void 0),mB(n.y,e.y,t.y,r?r.originY:void 0)}function gB(n,e,t){n.min=t.min+e.min,n.max=n.min+Fi(e)}function Mee(n,e,t){gB(n.x,e.x,t.x),gB(n.y,e.y,t.y)}function yB(n,e,t){n.min=e.min-t.min,n.max=n.min+Fi(e)}function np(n,e,t){yB(n.x,e.x,t.x),yB(n.y,e.y,t.y)}function bee(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?un(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?un(t,n,r.max):Math.min(n,t)),n}function vB(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Cee(n,{top:e,left:t,bottom:r,right:i}){return{x:vB(n.x,t,i),y:vB(n.y,e,r)}}function xB(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Eee(n,e){return{x:xB(n.x,e.x),y:xB(n.y,e.y)}}function Tee(n,e){let t=.5;const r=Fi(n),i=Fi(e);return i>r?t=ad(e.min,e.max-r,n.min):r>i&&(t=ad(n.min,n.max-i,e.min)),Ml(0,1,t)}function Pee(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const QA=.35;function Ree(n=QA){return n===!1?n=0:n===!0&&(n=QA),{x:_B(n,"left","right"),y:_B(n,"top","bottom")}}function _B(n,e,t){return{min:wB(n,e),max:wB(n,t)}}function wB(n,e){return typeof n=="number"?n:n[e]||0}const SB=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cf=()=>({x:SB(),y:SB()}),AB=()=>({min:0,max:0}),Fn=()=>({x:AB(),y:AB()});function lo(n){return[n("x"),n("y")]}function r5({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Bee({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Dee(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function bw(n){return n===void 0||n===1}function qA({scale:n,scaleX:e,scaleY:t}){return!bw(n)||!bw(e)||!bw(t)}function du(n){return qA(n)||i5(n)||n.z||n.rotate||n.rotateX||n.rotateY}function i5(n){return MB(n.x)||MB(n.y)}function MB(n){return n&&n!=="0%"}function gv(n,e,t){const r=n-t,i=e*r;return t+i}function bB(n,e,t,r,i){return i!==void 0&&(n=gv(n,i,r)),gv(n,t,r)+e}function ZA(n,e=0,t=1,r,i){n.min=bB(n.min,e,t,r,i),n.max=bB(n.max,e,t,r,i)}function s5(n,{x:e,y:t}){ZA(n.x,e.translate,e.scale,e.originPoint),ZA(n.y,t.translate,t.scale,t.originPoint)}function Iee(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ef(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,s5(n,o)),r&&du(s.latestValues)&&Ef(n,s.latestValues))}e.x=CB(e.x),e.y=CB(e.y)}function CB(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Ka(n,e){n.min=n.min+e,n.max=n.max+e}function EB(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=un(n.min,n.max,s);ZA(n,e[t],e[r],o,e.scale)}const Lee=["x","scaleX","originX"],kee=["y","scaleY","originY"];function Ef(n,e){EB(n.x,e,Lee),EB(n.y,e,kee)}function o5(n,e){return r5(Dee(n.getBoundingClientRect(),e))}function Fee(n,e,t){const r=o5(n,t),{scroll:i}=e;return i&&(Ka(r.x,i.offset.x),Ka(r.y,i.offset.y)),r}const Oee=new WeakMap;class Nee{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),t&&this.snapToCursor(E1(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:f,onDragStart:h}=this.getProps();if(c&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=gN(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lo(g=>{let y=this.getAxisMotionValue(g).get()||0;if(xo.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[g];x&&(y=Fi(x)*(parseFloat(y)/100))}}this.originPoint[g]=y}),h&&cn.update(()=>h(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:f,onDirectionLock:h,onDrag:m}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=u;if(f&&this.currentDirection===null){this.currentDirection=zee(g),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new t5(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&cn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!$0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=bee(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Mf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Cee(r.layoutBox,e):this.constraints=!1,this.elastic=Ree(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&lo(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Pee(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Mf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Fee(r,i.root,this.visualElement.getTransformPagePoint());let o=Eee(i.layout.layoutBox,s);if(t){const a=t(Bee(o));this.hasMutatedConstraints=!!a,a&&(o=r5(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=lo(c=>{if(!$0(c,t,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(VC(e,r,0,t))}stopAnimation(){lo(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){lo(t=>{const{drag:r}=this.getProps();if(!$0(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-un(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Mf(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};lo(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Tee({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),lo(o=>{if(!$0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(un(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Oee.set(this.visualElement,this);const e=this.visualElement.current,t=Hs(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Mf(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ea(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(lo(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=QA,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function $0(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function zee(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Uee extends zl{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new Nee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const TB=n=>(e,t)=>{n&&cn.update(()=>n(e,t))};class Gee extends zl{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new t5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:TB(e),onStart:TB(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&cn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Hs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Hee(){const n=P.useContext(w1);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=P.useId();return P.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const Cy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PB(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Sh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(it.test(n))n=parseFloat(n);else return n;const t=PB(n,e.target.x),r=PB(n,e.target.y);return`${t}% ${r}%`}},Vee={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=bl.parse(n);if(i.length>5)return r;const s=bl.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=un(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Wee extends J.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;sq(jee),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Cy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||cn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a5(n){const[e,t]=Hee(),r=P.useContext(EC);return J.createElement(Wee,{...n,layoutGroup:r,switchLayoutGroup:P.useContext(Q4),isPresent:e,safeToRemove:t})}const jee={borderRadius:{...Sh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sh,borderTopRightRadius:Sh,borderBottomLeftRadius:Sh,borderBottomRightRadius:Sh,boxShadow:Vee},l5=["TopLeft","TopRight","BottomLeft","BottomRight"],$ee=l5.length,RB=n=>typeof n=="string"?parseFloat(n):n,BB=n=>typeof n=="number"||it.test(n);function Jee(n,e,t,r,i,s){i?(n.opacity=un(0,t.opacity!==void 0?t.opacity:1,Xee(r)),n.opacityExit=un(e.opacity!==void 0?e.opacity:1,0,Kee(r))):s&&(n.opacity=un(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<$ee;o++){const a=`border${l5[o]}Radius`;let l=DB(e,a),u=DB(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||BB(l)===BB(u)?(n[a]=Math.max(un(RB(l),RB(u),r),0),(xo.test(u)||xo.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=un(e.rotate||0,t.rotate||0,r))}function DB(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Xee=u5(0,.5,NC),Kee=u5(.5,.95,er);function u5(n,e,t){return r=>r<n?0:r>e?1:t(ad(n,e,r))}function IB(n,e){n.min=e.min,n.max=e.max}function ts(n,e){IB(n.x,e.x),IB(n.y,e.y)}function LB(n,e,t,r,i){return n-=e,n=gv(n,1/t,r),i!==void 0&&(n=gv(n,1/i,r)),n}function Yee(n,e=0,t=1,r=.5,i,s=n,o=n){if(xo.test(e)&&(e=parseFloat(e),e=un(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=un(s.min,s.max,r);n===s&&(a-=e),n.min=LB(n.min,e,t,a,i),n.max=LB(n.max,e,t,a,i)}function kB(n,e,[t,r,i],s,o){Yee(n,e[t],e[r],e[i],e.scale,s,o)}const Qee=["x","scaleX","originX"],qee=["y","scaleY","originY"];function FB(n,e,t,r){kB(n.x,e,Qee,t?t.x:void 0,r?r.x:void 0),kB(n.y,e,qee,t?t.y:void 0,r?r.y:void 0)}function OB(n){return n.translate===0&&n.scale===1}function c5(n){return OB(n.x)&&OB(n.y)}function eM(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function NB(n){return Fi(n.x)/Fi(n.y)}class Zee{constructor(){this.members=[]}add(e){WC(this.members,e),e.scheduleRender()}remove(e){if(B1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zB(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:c}=t;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const ete=(n,e)=>n.depth-e.depth;class tte{constructor(){this.children=[],this.isDirty=!1}add(e){WC(this.children,e),this.isDirty=!0}remove(e){B1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ete),this.isDirty=!1,this.children.forEach(e)}}function nte(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(da(r),n(s-e))};return cn.read(r,!0),()=>da(r)}function rte(n){window.MotionDebug&&window.MotionDebug.record(n)}function f5(n){return n instanceof SVGElement&&n.tagName!=="svg"}function JC(n,e,t){const r=Rn(n)?n:nc(n);return r.start(VC("",r,e,t)),r.animation}const UB=["","X","Y","Z"],GB=1e3;let ite=0;const hu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function d5({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ite++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{hu.totalNodes=hu.resolvedTargetDeltas=hu.recalculatedProjection=0,this.nodes.forEach(ate),this.nodes.forEach(dte),this.nodes.forEach(hte),this.nodes.forEach(lte),rte(hu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new tte)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=f5(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),n){let f;const h=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=nte(h,250),Cy.hasAnimatedSinceResize&&(Cy.hasAnimatedSinceResize=!1,this.nodes.forEach(VB))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||vte,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=c.getProps(),_=!this.targetLayout||!eM(this.targetLayout,g)||m,S=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const M={...YN(y,"layout"),onPlay:v,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else h||VB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pte),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HB);return}this.isUpdating||this.nodes.forEach(cte),this.isUpdating=!1,this.nodes.forEach(fte),this.nodes.forEach(ste),this.nodes.forEach(ote),this.clearAllSnapshots();const a=performance.now();pn.delta=Ml(0,1e3/60,a-pn.timestamp),pn.timestamp=a,pn.isProcessing=!0,Uf.update.process(pn),Uf.preRender.process(pn),Uf.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ute),this.sharedNodes.forEach(mte)}scheduleUpdateProjection(){cn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!c5(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||du(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),xte(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Fn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ka(a.x,l.offset.x),Ka(a.y,l.offset.y)),a}removeElementScroll(o){const a=Fn();ts(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){ts(a,o);const{scroll:h}=this.root;h&&(Ka(a.x,-h.offset.x),Ka(a.y,-h.offset.y))}Ka(a.x,c.offset.x),Ka(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Fn();ts(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ef(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),du(c.latestValues)&&Ef(l,c.latestValues)}return du(this.latestValues)&&Ef(l,this.latestValues),l}removeTransform(o){const a=Fn();ts(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!du(u.latestValues))continue;qA(u.latestValues)&&u.updateSnapshot();const c=Fn(),f=u.measurePageBox();ts(c,f),FB(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return du(this.latestValues)&&FB(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),np(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fn(),this.targetWithTransforms=Fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Mee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ts(this.target,this.layout.layoutBox),s5(this.target,this.targetDelta)):ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),np(this.relativeTargetOrigin,this.target,m.target),ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qA(this.parent.latestValues)||i5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;ts(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Iee(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Cf(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Cf(),this.projectionDeltaWithTransform=Cf());const y=this.projectionTransform;tp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=zB(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),hu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Cf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Fn(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,v=this.getStack(),x=!v||v.members.length<=1,_=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(yte));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const C=M/1e3;WB(f.x,o.x,C),WB(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(np(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gte(this.relativeTarget,this.relativeTargetOrigin,h,C),S&&eM(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Fn()),ts(S,this.relativeTarget)),y&&(this.animationValues=c,Jee(c,u,this.latestValues,C,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cn.update(()=>{Cy.hasAnimatedSinceResize=!0,this.currentAnimation=JC(0,GB,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&h5(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Fn();const f=Fi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Fi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}ts(a,l),Ef(a,c),tp(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Zee),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<UB.length;c++){const f="rotate"+UB[c];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ep(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ep(o.pointerEvents)||""),this.hasProjected&&!du(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=zB(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in uv){if(h[y]===void 0)continue;const{correct:v,applyTo:x}=uv[y],_=u.transform==="none"?h[y]:v(h[y],f);if(x){const S=x.length;for(let M=0;M<S;M++)u[x[M]]=_}else u[y]=_}return this.options.layoutId&&(u.pointerEvents=f===this?ep(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(HB),this.root.sharedNodes.clear()}}}function ste(n){n.updateLayout()}function ote(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?lo(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=Fi(h);h.min=r[f].min,h.max=h.min+m}):h5(s,t.layoutBox,r)&&lo(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=Fi(r[f]);h.max=h.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+m)});const a=Cf();tp(a,r,t.layoutBox);const l=Cf();o?tp(l,n.applyTransform(i,!0),t.measuredBox):tp(l,r,t.layoutBox);const u=!c5(a);let c=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=Fn();np(g,t.layoutBox,h.layoutBox);const y=Fn();np(y,r,m.layoutBox),eM(g,y)||(c=!0),f.options.layoutRoot&&(n.relativeTarget=y,n.relativeTargetOrigin=g,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function ate(n){hu.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function lte(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function ute(n){n.clearSnapshot()}function HB(n){n.clearMeasurements()}function cte(n){n.isLayoutDirty=!1}function fte(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function VB(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function dte(n){n.resolveTargetDelta()}function hte(n){n.calcProjection()}function pte(n){n.resetRotation()}function mte(n){n.removeLeadSnapshot()}function WB(n,e,t){n.translate=un(e.translate,0,t),n.scale=un(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function jB(n,e,t,r){n.min=un(e.min,t.min,r),n.max=un(e.max,t.max,r)}function gte(n,e,t,r){jB(n.x,e.x,t.x,r),jB(n.y,e.y,t.y,r)}function yte(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const vte={duration:.45,ease:[.4,0,.1,1]};function $B(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function xte(n){$B(n.x),$B(n.y)}function h5(n,e,t){return n==="position"||n==="preserve-aspect"&&!YA(NB(e),NB(t),.2)}const _te=d5({attachResizeListener:(n,e)=>ea(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cw={current:void 0},p5=d5({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Cw.current){const n=new _te({});n.mount(window),n.setOptions({layoutScroll:!0}),Cw.current=n}return Cw.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),wte={pan:{Feature:Gee},drag:{Feature:Uee,ProjectionNode:p5,MeasureLayout:a5}},Ste=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ate(n){const e=Ste.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function tM(n,e,t=1){const[r,i]=Ate(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():UA(i)?tM(i,e,t+1):i}function Mte(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!UA(s))return;const o=tM(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!UA(s))continue;const o=tM(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const bte=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),m5=n=>bte.has(n),Cte=n=>Object.keys(n).some(m5),JB=n=>n===mc||n===it,XB=(n,e)=>parseFloat(n.split(", ")[e]),KB=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return XB(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?XB(s[1],n):0}},Ete=new Set(["x","y","z"]),Tte=Pm.filter(n=>!Ete.has(n));function Pte(n){const e=[];return Tte.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const YB={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:KB(4,13),y:KB(5,14)},Rte=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=YB[u](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),n[u]=YB[u](l,s)}),n},Bte=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(m5);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let c=t[l],f=wh(c);const h=e[l];let m;if(fv(h)){const g=h.length,y=h[0]===null?1:0;c=h[y],f=wh(c);for(let v=y;v<g&&h[v]!==null;v++)m?R1(wh(h[v])===m):m=wh(h[v])}else m=wh(h);if(f!==m)if(JB(f)&&JB(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&m===it&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(c===0||h===0)?c===0?u.set(m.transform(c)):e[l]=f.transform(h):(o||(s=Pte(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Rte(e,n,a);return s.length&&s.forEach(([c,f])=>{n.getValue(c).set(f)}),n.render(),S1&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Dte(n,e,t,r){return Cte(e)?Bte(n,e,t,r):{target:e,transitionEnd:r}}const Ite=(n,e,t,r)=>{const i=Mte(n,e,r);return e=i.target,r=i.transitionEnd,Dte(n,e,t,r)},nM={current:null},g5={current:!1};function Lte(){if(g5.current=!0,!!S1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>nM.current=n.matches;n.addListener(e),e()}else nM.current=!1}function kte(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(Rn(s))n.addValue(i,s),mv(r)&&r.add(i);else if(Rn(o))n.addValue(i,nc(s,{owner:n})),mv(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,nc(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const Vp=new WeakMap,y5=Object.keys(Gp),Fte=y5.length,QB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ote=CC.length;class v5{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>cn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=M1(t),this.isVariantNode=Y4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{});for(const f in c){const h=c[f];a[f]!==void 0&&Rn(h)&&(h.set(a[f],!1),mv(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Vp.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),g5.current||Lte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vp.delete(this.current),this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=pc.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&cn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<Fte;l++){const u=y5[l],{isEnabled:c,Feature:f,ProjectionNode:h,MeasureLayout:m}=Gp[u];h&&(o=h),c(t)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:h,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&Mf(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<QB.length;r++){const i=QB[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=kte(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<Ote;r++){const i=CC[r],s=this.props[i];(Up(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=nc(t,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=kC(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Rn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new jC),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class x5 extends v5{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=aee(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){ZN(this,r,o);const a=Ite(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function Nte(n){return window.getComputedStyle(n)}class _5 extends x5{readValueFromInstance(e,t){if(pc.has(t)){const r=HC(t);return r&&r.default||0}else{const r=Nte(e),i=(tN(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return o5(e,t)}build(e,t,r,i){PC(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return LC(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){uN(e,t,r,i)}}class w5 extends x5{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(pc.has(t)){const r=HC(t);return r&&r.default||0}return t=cN.has(t)?t:IC(t),e.getAttribute(t)}measureInstanceViewportBox(){return Fn()}scrapeMotionValuesFromProps(e,t){return dN(e,t)}build(e,t,r,i){BC(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){fN(e,t,r,i)}mount(e){this.isSVGTag=DC(e.tagName),super.mount(e)}}const zte=(n,e)=>TC(n)?new w5(e,{enableHardwareAcceleration:!1}):new _5(e,{enableHardwareAcceleration:!0}),Ute={layout:{ProjectionNode:p5,MeasureLayout:a5}},Gte={...e5,...$q,...wte,...Ute},Gt=rq((n,e)=>Rq(n,e,Gte,zte));function S5(){const n=P.useRef(!1);return lv(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function Hte(){const n=S5(),[e,t]=P.useState(0),r=P.useCallback(()=>{n.current&&t(e+1)},[e]);return[P.useCallback(()=>cn.postRender(r),[r]),e]}class Vte extends P.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Wte({children:n,isPresent:e}){const t=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=t;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),P.createElement(Vte,{isPresent:e,childRef:r,sizeRef:i},P.cloneElement(n,{ref:r}))}const Ew=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=C1(jte),l=P.useId(),u=P.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[t]);return P.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[t]),P.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),o==="popLayout"&&(n=P.createElement(Wte,{isPresent:t},n)),P.createElement(w1.Provider,{value:u},n)};function jte(){return new Map}function $te(n){return P.useEffect(()=>()=>n(),[])}const af=n=>n.key||"";function Jte(n,e){n.forEach(t=>{const r=af(t);e.set(r,t)})}function Xte(n){const e=[];return P.Children.forEach(n,t=>{P.isValidElement(t)&&e.push(t)}),e}const co=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=P.useContext(EC).forceRender||Hte()[0],l=S5(),u=Xte(n);let c=u;const f=P.useRef(new Map).current,h=P.useRef(c),m=P.useRef(new Map).current,g=P.useRef(!0);if(lv(()=>{g.current=!1,Jte(u,m),h.current=c}),$te(()=>{g.current=!0,m.clear(),f.clear()}),g.current)return P.createElement(P.Fragment,null,c.map(_=>P.createElement(Ew,{key:af(_),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},_)));c=[...c];const y=h.current.map(af),v=u.map(af),x=y.length;for(let _=0;_<x;_++){const S=y[_];v.indexOf(S)===-1&&!f.has(S)&&f.set(S,void 0)}return o==="wait"&&f.size&&(c=[]),f.forEach((_,S)=>{if(v.indexOf(S)!==-1)return;const M=m.get(S);if(!M)return;const C=y.indexOf(S);let T=_;if(!T){const R=()=>{m.delete(S),f.delete(S);const b=h.current.findIndex(B=>B.key===S);if(h.current.splice(b,1),!f.size){if(h.current=u,l.current===!1)return;a(),r&&r()}};T=P.createElement(Ew,{key:af(M),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:s,mode:o},M),f.set(S,T)}c.splice(C,0,T)}),c=c.map(_=>{const S=_.key;return f.has(S)?_:P.createElement(Ew,{key:af(_),isPresent:!0,presenceAffectsLayout:s,mode:o},_)}),P.createElement(P.Fragment,null,f.size?c:c.map(_=>P.cloneElement(_)))};function Kte({children:n,isValidProp:e,...t}){e&&oN(e),t={...P.useContext(zp),...t},t.isStatic=C1(()=>t.isStatic);const r=P.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return P.createElement(zp.Provider,{value:r},n)}function qB(n){const e=C1(()=>nc(n)),{isStatic:t}=P.useContext(zp);if(t){const[,r]=P.useState(n);P.useEffect(()=>e.on("change",r),[])}return e}function A5(n,e,t){var r;if(typeof n=="string"){let i=document;e&&(R1(!!e.current),i=e.current),t?((r=t[n])!==null&&r!==void 0||(t[n]=i.querySelectorAll(n)),n=t[n]):n=i.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}class M5{constructor(e){this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Yte(n){return typeof n=="object"&&!Array.isArray(n)}function Qte(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=f5(n)?new w5(e,{enableHardwareAcceleration:!1}):new _5(e,{enableHardwareAcceleration:!0});t.mount(n),Vp.set(n,t)}function qte(n,e=100){const t=GC({keyframes:[0,e],...n}),r=Math.min($A(t),jA);return{type:"keyframes",ease:i=>t.next(r*i).value/e,duration:_o(r)}}function ZB(n,e,t,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:(i=r.get(e))!==null&&i!==void 0?i:n}const Zte=(n,e,t)=>{const r=e-n;return((t-n)%r+r)%r+n};function ene(n,e){return EN(n)?n[Zte(0,n.length,e)]:n}function tne(n,e,t){for(let r=0;r<n.length;r++){const i=n[r];i.at>e&&i.at<t&&(B1(n,i),r--)}}function nne(n,e,t,r,i,s){tne(n,i,s);for(let o=0;o<e.length;o++)n.push({value:e[o],at:un(i,s,r[o]),easing:ene(t,o)})}function rne(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const ine="easeInOut";function sne(n,{defaultTransition:e={},...t}={},r){const i=e.duration||.3,s=new Map,o=new Map,a={},l=new Map;let u=0,c=0,f=0;for(let h=0;h<n.length;h++){const m=n[h];if(typeof m=="string"){l.set(m,c);continue}else if(!Array.isArray(m)){l.set(m.name,ZB(c,m.at,u,l));continue}let[g,y,v={}]=m;v.at!==void 0&&(c=ZB(c,v.at,u,l));let x=0;const _=(S,M,C,T=0,R=0)=>{const b=one(S),{delay:B=0,times:I=jN(b),type:k="keyframes",...j}=M;let{ease:G=e.ease||"easeOut",duration:N}=M;const $=typeof B=="function"?B(T,R):B,X=b.length;if(X<=2&&k==="spring"){let H=100;if(X===2&&une(b)){const ce=b[1]-b[0];H=Math.abs(ce)}const K={...j};N!==void 0&&(K.duration=ia(N));const ee=qte(K,H);G=ee.ease,N=ee.duration}N??(N=i);const te=c+$,O=te+N;I.length===1&&I[0]===0&&(I[1]=1);const z=I.length-b.length;z>0&&WN(I,z),b.length===1&&b.unshift(null),nne(C,b,G,I,te,O),x=Math.max($+N,x),f=Math.max(O,f)};if(Rn(g)){const S=eD(g,o);_(y,v,tD("default",S))}else{const S=A5(g,r,a),M=S.length;for(let C=0;C<M;C++){y=y,v=v;const T=S[C],R=eD(T,o);for(const b in y)_(y[b],ane(v,b),tD(b,R),C,M)}u=c,c+=x}}return o.forEach((h,m)=>{for(const g in h){const y=h[g];y.sort(rne);const v=[],x=[],_=[];for(let M=0;M<y.length;M++){const{at:C,value:T,easing:R}=y[M];v.push(T),x.push(ad(0,f,C)),_.push(R||"easeOut")}x[0]!==0&&(x.unshift(0),v.unshift(v[0]),_.unshift(ine)),x[x.length-1]!==1&&(x.push(1),v.push(null)),s.has(m)||s.set(m,{keyframes:{},transition:{}});const S=s.get(m);S.keyframes[g]=v,S.transition[g]={...e,duration:f,ease:_,times:x,...t}}}),s}function eD(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function tD(n,e){return e[n]||(e[n]=[]),e[n]}function one(n){return Array.isArray(n)?n:[n]}function ane(n,e){return n[e]?{...n,...n[e]}:{...n}}const lne=n=>typeof n=="number",une=n=>n.every(lne);function b5(n,e,t,r){const i=A5(n,r),s=i.length,o=[];for(let a=0;a<s;a++){const l=i[a];Vp.has(l)||Qte(l);const u=Vp.get(l),c={...t};typeof c.delay=="function"&&(c.delay=c.delay(a,s)),o.push(...$C(u,{...e,transition:c},{}))}return new M5(o)}const cne=n=>Array.isArray(n)&&Array.isArray(n[0]);function fne(n,e,t){const r=[];return sne(n,e,t).forEach(({keyframes:s,transition:o},a)=>{let l;Rn(a)?l=JC(a,s.default,o.default):l=b5(a,s,o),r.push(l)}),new M5(r)}const dne=n=>{function e(t,r,i){let s;return cne(t)?s=fne(t,r,n):Yte(r)?s=b5(t,r,i,n):s=JC(t,r,i),n&&n.animations.push(s),s}return e},nD=dne();function hne(...n){return e=>n.forEach(t=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(t,e))}const C5=P.forwardRef((n,e)=>{const{children:t,...r}=n;return P.Children.toArray(t).some(rD)?P.createElement(P.Fragment,null,P.Children.map(t,i=>rD(i)?P.createElement(rM,rn({},r,{ref:e}),i.props.children):i)):P.createElement(rM,rn({},r,{ref:e}),t)});C5.displayName="Slot";const rM=P.forwardRef((n,e)=>{const{children:t,...r}=n;return P.isValidElement(t)?P.cloneElement(t,{...mne(r,t.props),ref:hne(e,t.ref)}):P.Children.count(t)>1?P.Children.only(null):null});rM.displayName="SlotClone";const pne=({children:n})=>P.createElement(P.Fragment,null,n);function rD(n){return P.isValidElement(n)&&n.type===pne}function mne(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?t[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const gne=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((n,e)=>({...n,[e]:P.forwardRef((t,r)=>{const{asChild:i,...s}=t,o=i?C5:e;return P.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),P.createElement(o,rn({},s,{ref:r}))})}),{}),yne=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},vne=P.forwardRef((n,e)=>{var t,r;const{containerRef:i,style:s,...o}=n,a=(t=i==null?void 0:i.current)!==null&&t!==void 0?t:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=P.useState({});return yne(()=>{l({})},[]),a?kb.createPortal(P.createElement(gne.div,rn({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),xne=vne;var iD=Object.prototype.hasOwnProperty;function Wp(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Wp(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(iD.call(n,t)&&++r&&!iD.call(e,t)||!(t in e)||!Wp(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function Im(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var D1=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};D1.prototype._test=function(e){var t=this.fn;try{Gf(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Gf(this.modifiers.slice(),t,this)(e)}catch{return!1}};D1.prototype._check=function(e){try{Gf(this.modifiers.slice(),this.fn,this)(e)}catch{if(Gf(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Gf(this.modifiers.slice(),this.fn,this)(e))throw null};D1.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){T5(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function E5(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Gf(n,e,t){if(n.length){var r=n.shift(),i=Gf(n,e,t);return r.perform(i,t)}else return E5(e)}function T5(n,e,t){if(n.length){var r=n.shift(),i=T5(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(E5(e,"async")(s))}}var _ne=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},XC=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),Mo=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Mo.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new D1(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Mo.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new _ne(t,e.simple,e.async)),this};Mo.prototype._clone=function(){return new Mo(this.chain.slice(),this.nextRuleModifiers.slice())};Mo.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};Mo.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new XC(r,e,i))}}),t};Mo.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new XC(t,e,r)}})};Mo.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){P5(e,t.chain.slice(),r,i)})};function P5(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){P5(n,e,t,r)},function(s){r(new XC(i,n,s))})}else t(n)}var sD=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function wne(n,e){return e===void 0&&(e=!1),{simple:function(t){return sD(t,e)||n.check(t)===void 0},async:function(t){return sD(t,e)||n.testAsync(t)}}}function li(){return typeof Proxy<"u"?R5(new Mo):iM(new Mo)}var jp={};li.extend=function(n){Object.assign(jp,n)};li.clearCustomRules=function(){jp={}};function R5(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=R5(n._clone());if(r in yv)return i._applyModifier(yv[r],r);if(r in jp)return i._applyRule(jp[r],r);if(r in sM)return i._applyRule(sM[r],r)}})}function iM(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=iM(s._clone()),c=u._applyRule(i[o],o).apply(void 0,a);return c}}),s},t=e(sM,n),r=e(jp,t);return Object.keys(yv).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=iM(r._clone());return s._applyModifier(yv[i],i)}})}),r}var yv={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return J0(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(J0(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&J0(e).every(n)}},async:function(n){return function(e){return Promise.all(J0(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return oD(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return oD(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function oD(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function J0(n){return typeof n=="string"?n.split(""):n}var sM={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||Sne;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return ef("string")},boolean:function(){return ef("boolean")},undefined:function(){return ef("undefined")},null:function(){return ef("null")},array:function(){return ef("array")},object:function(){return ef("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return Ane(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:wne};function ef(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function Sne(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function Ane(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var Wt="colors",zr="sizes",ze="space",Mne={gap:ze,gridGap:ze,columnGap:ze,gridColumnGap:ze,rowGap:ze,gridRowGap:ze,inset:ze,insetBlock:ze,insetBlockEnd:ze,insetBlockStart:ze,insetInline:ze,insetInlineEnd:ze,insetInlineStart:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,marginBlock:ze,marginBlockEnd:ze,marginBlockStart:ze,marginInline:ze,marginInlineEnd:ze,marginInlineStart:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,paddingBlock:ze,paddingBlockEnd:ze,paddingBlockStart:ze,paddingInline:ze,paddingInlineEnd:ze,paddingInlineStart:ze,top:ze,right:ze,bottom:ze,left:ze,scrollMargin:ze,scrollMarginTop:ze,scrollMarginRight:ze,scrollMarginBottom:ze,scrollMarginLeft:ze,scrollMarginX:ze,scrollMarginY:ze,scrollMarginBlock:ze,scrollMarginBlockEnd:ze,scrollMarginBlockStart:ze,scrollMarginInline:ze,scrollMarginInlineEnd:ze,scrollMarginInlineStart:ze,scrollPadding:ze,scrollPaddingTop:ze,scrollPaddingRight:ze,scrollPaddingBottom:ze,scrollPaddingLeft:ze,scrollPaddingX:ze,scrollPaddingY:ze,scrollPaddingBlock:ze,scrollPaddingBlockEnd:ze,scrollPaddingBlockStart:ze,scrollPaddingInline:ze,scrollPaddingInlineEnd:ze,scrollPaddingInlineStart:ze,fontSize:"fontSizes",background:Wt,backgroundColor:Wt,backgroundImage:Wt,borderImage:Wt,border:Wt,borderBlock:Wt,borderBlockEnd:Wt,borderBlockStart:Wt,borderBottom:Wt,borderBottomColor:Wt,borderColor:Wt,borderInline:Wt,borderInlineEnd:Wt,borderInlineStart:Wt,borderLeft:Wt,borderLeftColor:Wt,borderRight:Wt,borderRightColor:Wt,borderTop:Wt,borderTopColor:Wt,caretColor:Wt,color:Wt,columnRuleColor:Wt,fill:Wt,outline:Wt,outlineColor:Wt,stroke:Wt,textDecorationColor:Wt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:zr,minBlockSize:zr,maxBlockSize:zr,inlineSize:zr,minInlineSize:zr,maxInlineSize:zr,width:zr,minWidth:zr,maxWidth:zr,height:zr,minHeight:zr,maxHeight:zr,flexBasis:zr,gridTemplateColumns:zr,gridTemplateRows:zr,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},bne=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,bd=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,bne))(e);return i in n?n[i]:n[i]=t(e,...r)}},Nu=Symbol.for("sxs.internal"),KC=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),aD=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:Cne}=Object.prototype,oM=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Ene=/\s+(?![^()]*\))/,tf=n=>e=>n(...typeof e=="string"?String(e).split(Ene):[e]),lD={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:tf((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:tf((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:tf((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:tf((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:tf((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:tf((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},Tw=/([\d.]+)([^]*)/,Tne=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,Pne=(n,e)=>n in Rne&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${oM(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${oM(n)}:${r}fit-content`)+s):String(e),Rne={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},ha=n=>n?n+"-":"",B5=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?ha(e)+(a.includes("$")?"":ha(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),Bne=/\s*,\s*(?![^()]*\))/,Dne=Object.prototype.toString,Tf=(n,e,t,r,i)=>{let s,o,a;const l=(u,c,f)=>{let h,m;const g=y=>{for(h in y){const _=h.charCodeAt(0)===64,S=_&&Array.isArray(y[h])?y[h]:[y[h]];for(m of S){const M=/[A-Z]/.test(x=h)?x:x.replace(/-[^]/g,T=>T[1].toUpperCase()),C=typeof m=="object"&&m&&m.toString===Dne&&(!r.utils[M]||!c.length);if(M in r.utils&&!C){const T=r.utils[M];if(T!==o){o=T,g(T(m)),o=null;continue}}else if(M in lD){const T=lD[M];if(T!==a){a=T,g(T(m)),a=null;continue}}if(_&&(v=h.slice(1)in r.media?"@media "+r.media[h.slice(1)]:h,h=v.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(T,R,b,B,I,k)=>{const j=Tw.test(R),G=.0625*(j?-1:1),[N,$]=j?[B,R]:[R,B];return"("+(b[0]==="="?"":b[0]===">"===j?"max-":"min-")+N+":"+(b[0]!=="="&&b.length===1?$.replace(Tw,(X,te,O)=>Number(te)+G*(b===">"?1:-1)+O):$)+(I?") and ("+(I[0]===">"?"min-":"max-")+N+":"+(I.length===1?k.replace(Tw,(X,te,O)=>Number(te)+G*(I===">"?-1:1)+O):k):"")+")"})),C){const T=_?f.concat(h):[...f],R=_?[...c]:Tne(c,h.split(Bne));s!==void 0&&i(uD(...s)),s=void 0,l(m,R,T)}else s===void 0&&(s=[[],c,f]),h=_||h.charCodeAt(0)!==36?h:`--${ha(r.prefix)}${h.slice(1).replace(/\$/g,"-")}`,m=C?m:typeof m=="number"?m&&M in Ine?String(m)+"px":String(m):B5(Pne(M,m??""),r.prefix,r.themeMap[M]),s[0].push(`${_?`${h} `:`${oM(h)}:`}${m}`)}}var v,x};g(u),s!==void 0&&i(uD(...s)),s=void 0};l(n,e,t)},uD=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,Ine={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},cD=n=>String.fromCharCode(n+(n>25?39:97)),zu=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=cD(t%52)+r;return cD(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Ih=["themed","global","styled","onevar","resonevar","allvar","inline"],Lne=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},kne=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(n).styleSheets||[];for(const a of i)if(Lne(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const f=Object(u[l+1]);if(f.type!==4)continue;++l;const{cssText:h}=c;if(!h.startsWith("--sxs"))continue;const m=h.slice(14,-3).trim().split(/\s+/),g=Ih[m[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[g]={group:f,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,f){this.cssRules.splice(f,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=Ih.length-1;a>=0;--a){const l=Ih[a];if(!o[l]){const u=Ih[a+1],c=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",c),s.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:s.cssRules[c+1],index:c,cache:new Set([a])}}Fne(o[l])}};return r(),e},Fne=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},Ah=Symbol(),One=bd(),fD=(n,e)=>One(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[Nu]){r.type==null&&(r.type=i[Nu].type);for(const s of i[Nu].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(Nne(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),zne(n,r,e)}),Nne=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${ha(i.prefix)}c-${zu(r)}`,o=[],a=[],l=Object.create(null),u=[];for(const h in t)l[h]=String(t[h]);if(typeof n=="object"&&n)for(const h in n){c=l,f=h,Cne.call(c,f)||(l[h]="undefined");const m=n[h];for(const g in m){const y={[h]:String(g)};String(g)==="undefined"&&u.push(h);const v=m[g],x=[y,v,!aD(v)];o.push(x)}}var c,f;if(typeof e=="object"&&e)for(const h of e){let{css:m,...g}=h;m=typeof m=="object"&&m||{};for(const v in g)g[v]=String(g[v]);const y=[g,m,!aD(m)];a.push(y)}return[s,r,o,a,l,u]},zne=(n,e,t)=>{const[r,i,s,o]=Une(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function h(){for(let m=0;m<h[Ah].length;m++){const[g,y]=h[Ah][m];f.rules[g].apply(y)}return h[Ah]=[],null}return h[Ah]=[],h.rules={},Ih.forEach(m=>h.rules[m]={apply:g=>h[Ah].push([m,g])}),h})(t):null,l=(a||t).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=f=>{f=typeof f=="object"&&f||Gne;const{css:h,...m}=f,g={};for(const x in s)if(delete m[x],x in f){let _=f[x];typeof _=="object"&&_?g[x]={"@initial":s[x],..._}:(_=String(_),g[x]=_!=="undefined"||o.has(x)?_:s[x])}else g[x]=s[x];const y=new Set([...i]);for(const[x,_,S,M]of e.composers){t.rules.styled.cache.has(x)||(t.rules.styled.cache.add(x),Tf(_,[`.${x}`],[],n,R=>{l.styled.apply(R)}));const C=dD(S,g,n.media),T=dD(M,g,n.media,!0);for(const R of C)if(R!==void 0)for(const[b,B,I]of R){const k=`${x}-${zu(B)}-${b}`;y.add(k);const j=(I?t.rules.resonevar:t.rules.onevar).cache,G=I?l.resonevar:l.onevar;j.has(k)||(j.add(k),Tf(B,[`.${k}`],[],n,N=>{G.apply(N)}))}for(const R of T)if(R!==void 0)for(const[b,B]of R){const I=`${x}-${zu(B)}-${b}`;y.add(I),t.rules.allvar.cache.has(I)||(t.rules.allvar.cache.add(I),Tf(B,[`.${I}`],[],n,k=>{l.allvar.apply(k)}))}}if(typeof h=="object"&&h){const x=`${r}-i${zu(h)}-css`;y.add(x),t.rules.inline.cache.has(x)||(t.rules.inline.cache.add(x),Tf(h,[`.${x}`],[],n,_=>{l.inline.apply(_)}))}for(const x of String(f.className||"").trim().split(/\s+/))x&&y.add(x);const v=m.className=[...y].join(" ");return{type:e.type,className:v,selector:u,props:m,toString:()=>v,deferredInjector:a}};return KC(c,{className:r,selector:u,[Nu]:e,toString:()=>(t.rules.styled.cache.has(r)||c(),r)})},Une=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||a.includes(u))&&(r[l]=u)}}return[e,t,r,new Set(i)]},dD=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,u=0,c=!1;for(l in s){const f=s[l];let h=e[l];if(h!==f){if(typeof h!="object"||!h)continue e;{let m,g,y=0;for(const v in h){if(f===String(h[v])){if(v!=="@initial"){const x=v.slice(1);(g=g||[]).push(x in t?t[x]:v.replace(/^@media ?/,"")),c=!0}u+=y,m=!0}++y}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!m)continue e}}}(i[u]=i[u]||[]).push([r?"cv":`${l}-${s[l]}`,o,c])}return i},Gne={},Hne=bd(),Vne=(n,e)=>Hne(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=zu(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Tf(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return KC(r,{toString:r})}),Wne=bd(),jne=(n,e)=>Wne(n,()=>t=>{const r=`${ha(n.prefix)}k-${zu(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Tf(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return KC(i,{get name(){return i()},toString:i})}),$ne=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+ha(this.prefix)+ha(this.scale)+this.token}toString(){return this.computedValue}},Jne=bd(),Xne=(n,e)=>Jne(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${ha(n.prefix)}t-${zu(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const u in r[l]){const c=`--${ha(n.prefix)}${l}-${u}`,f=B5(String(r[l][u]),n.prefix,l);s[l][u]=new $ne(u,f,l,n.prefix),o.push(`${c}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),Kne=bd(),Yne=bd(),Qne=n=>{const e=(t=>{let r=!1;const i=Kne(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},c={prefix:o,media:a,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...Mne},utils:typeof s.utils=="object"&&s.utils||{}},f=kne(l),h={css:fD(c,f),globalCss:Vne(c,f),keyframes:jne(c,f),createTheme:Xne(c,f),reset(){f.reset(),h.theme.toString()},theme:{},sheet:f,config:c,prefix:o,getCssText:f.toString,toString:f.toString};return String(h.theme=h.createTheme(u)),h});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>Yne(t,()=>{const i=fD(t,r);return(...s)=>{const o=i(...s),a=o[Nu].type,l=J.forwardRef((u,c)=>{const f=u&&u.as||a,{props:h,deferredInjector:m}=o(u);return delete h.as,h.ref=c,m?J.createElement(J.Fragment,null,J.createElement(f,h),J.createElement(m,null)):J.createElement(f,h)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Nu]=o[Nu],l}}))(e),e};const qne=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},Zne=cU["useId".toString()]||(()=>{});let ere=0;function tre(n){const[e,t]=P.useState(Zne());return qne(()=>{n||t(r=>r??String(ere++))},[n]),n||(e?`radix-${e}`:"")}function D5(...n){return e=>n.forEach(t=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(t,e))}function YC(...n){return P.useCallback(D5(...n),n)}const I5=P.forwardRef((n,e)=>{const{children:t,...r}=n;return P.Children.toArray(t).some(hD)?P.createElement(P.Fragment,null,P.Children.map(t,i=>hD(i)?P.createElement(aM,rn({},r,{ref:e}),i.props.children):i)):P.createElement(aM,rn({},r,{ref:e}),t)});I5.displayName="Slot";const aM=P.forwardRef((n,e)=>{const{children:t,...r}=n;return P.isValidElement(t)?P.cloneElement(t,{...nre(r,t.props),ref:D5(e,t.ref)}):P.Children.count(t)>1?P.Children.only(null):null});aM.displayName="SlotClone";const L5=({children:n})=>P.createElement(P.Fragment,null,n);function hD(n){return P.isValidElement(n)&&n.type===L5}function nre(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?t[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const Cd=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((n,e)=>({...n,[e]:P.forwardRef((t,r)=>{const{asChild:i,...s}=t,o=i?I5:e;return P.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.as&&console.error(rre),P.createElement(o,rn({},s,{ref:r}))})}),{}),rre="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",ire=P.forwardRef((n,e)=>P.createElement(Cd.span,rn({},n,{ref:e,style:{...n.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),sre=ire,ore=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},are=P.forwardRef((n,e)=>{var t,r;const{containerRef:i,style:s,...o}=n,a=(t=i==null?void 0:i.current)!==null&&t!==void 0?t:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=P.useState({});return ore(()=>{l({})},[]),a?kb.createPortal(P.createElement(Cd.div,rn({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),lre=P.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return P.createElement(Cd.svg,rn({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:P.createElement("polygon",{points:"0,0 30,0 15,10"}))}),ure=lre;function pD(n){const[e,t]=P.useState(void 0);return P.useEffect(()=>{if(n){const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else{const l=n.getBoundingClientRect();o=l.width,a=l.height}t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>{t(void 0),r.unobserve(n)}}},[n]),e}function cre(n,e){const t=pu.get(n);return t===void 0?(pu.set(n,{rect:{},callbacks:[e]}),pu.size===1&&(lM=requestAnimationFrame(k5))):(t.callbacks.push(e),e(n.getBoundingClientRect())),()=>{const r=pu.get(n);if(r===void 0)return;const i=r.callbacks.indexOf(e);i>-1&&r.callbacks.splice(i,1),r.callbacks.length===0&&(pu.delete(n),pu.size===0&&cancelAnimationFrame(lM))}}let lM;const pu=new Map;function k5(){const n=[];pu.forEach((e,t)=>{const r=t.getBoundingClientRect();var i,s;i=e.rect,s=r,(i.width!==s.width||i.height!==s.height||i.top!==s.top||i.right!==s.right||i.bottom!==s.bottom||i.left!==s.left)&&(e.rect=r,n.push(e))}),n.forEach(e=>{e.callbacks.forEach(t=>t(e.rect))}),lM=requestAnimationFrame(k5)}function F5(n){const[e,t]=P.useState();return P.useEffect(()=>{if(n){const r=cre(n,t);return()=>{t(void 0),r()}}},[n]),e}function O5(n,e=[]){let t=[];const r=()=>{const i=t.map(s=>P.createContext(s));return function(s){const o=(s==null?void 0:s[n])||i;return P.useMemo(()=>({[`__scope${n}`]:{...s,[n]:o}}),[s,o])}};return r.scopeName=n,[function(i,s){const o=P.createContext(s),a=t.length;function l(u){const{scope:c,children:f,...h}=u,m=(c==null?void 0:c[n][a])||o,g=P.useMemo(()=>h,Object.values(h));return P.createElement(m.Provider,{value:g},f)}return t=[...t,s],l.displayName=i+"Provider",[l,function(u,c){const f=(c==null?void 0:c[n][a])||o,h=P.useContext(f);if(h)return h;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${i}\``)}]},fre(r,...e)]}function fre(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const s=r.reduce((o,{useScope:a,scopeName:l})=>({...o,...a(i)[`__scope${l}`]}),{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function dre({anchorRect:n,popperSize:e,arrowSize:t,arrowOffset:r=0,side:i,sideOffset:s=0,align:o,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:u,collisionTolerance:c=0}){if(!n||!e||!u)return{popperStyles:hre,arrowStyles:Pw};const f=function(R,b,B=0,I=0,k){const j=k?k.height:0,G=mD(b,R,"x"),N=mD(b,R,"y"),$=N.before-B-j,X=N.after+B+j,te=G.before-B-j,O=G.after+B+j;return{top:{start:{x:G.start+I,y:$},center:{x:G.center,y:$},end:{x:G.end-I,y:$}},right:{start:{x:O,y:N.start+I},center:{x:O,y:N.center},end:{x:O,y:N.end-I}},bottom:{start:{x:G.start+I,y:X},center:{x:G.center,y:X},end:{x:G.end-I,y:X}},left:{start:{x:te,y:N.start+I},center:{x:te,y:N.center},end:{x:te,y:N.end-I}}}}(e,n,s,a,t),h=f[i][o];if(l===!1){const R=gD(h);let b=Pw;return t&&(b=vD({popperSize:e,arrowSize:t,arrowOffset:r,side:i,align:o})),{popperStyles:{...R,"--radix-popper-transform-origin":yD(e,i,o,r,t)},arrowStyles:b,placedSide:i,placedAlign:o}}const m=DOMRect.fromRect({...e,...h}),g=(y=u,v=c,DOMRect.fromRect({width:y.width-2*v,height:y.height-2*v,x:y.left+v,y:y.top+v}));var y,v;const x=_D(m,g),_=f[xD(i)][o],S=function(R,b,B){const I=xD(R);return b[R]&&!B[I]?I:R}(i,x,_D(DOMRect.fromRect({...e,..._}),g)),M=function(R,b,B,I,k){const j=B==="top"||B==="bottom",G=j?"left":"top",N=j?"right":"bottom",$=j?"width":"height",X=b[$]>R[$];return(I==="start"||I==="center")&&(k[G]&&X||k[N]&&!X)?"end":(I==="end"||I==="center")&&(k[N]&&X||k[G]&&!X)?"start":I}(e,n,i,o,x),C=gD(f[S][M]);let T=Pw;return t&&(T=vD({popperSize:e,arrowSize:t,arrowOffset:r,side:S,align:M})),{popperStyles:{...C,"--radix-popper-transform-origin":yD(e,S,M,r,t)},arrowStyles:T,placedSide:S,placedAlign:M}}function mD(n,e,t){const r=n[t==="x"?"left":"top"],i=t==="x"?"width":"height",s=n[i],o=e[i];return{before:r-o,start:r,center:r+(s-o)/2,end:r+s-o,after:r+s}}function gD(n){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(n.x+window.scrollX)}px, ${Math.round(n.y+window.scrollY)}px, 0)`}}function yD(n,e,t,r,i){const s=e==="top"||e==="bottom",o=i?i.width:0,a=i?i.height:0,l=o/2+r;let u="",c="";return s?(u={start:`${l}px`,center:"center",end:n.width-l+"px"}[t],c=e==="top"?`${n.height+a}px`:-a+"px"):(u=e==="left"?`${n.width+a}px`:-a+"px",c={start:`${l}px`,center:"center",end:n.height-l+"px"}[t]),`${u} ${c}`}const hre={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},Pw={position:"absolute",opacity:0};function vD({popperSize:n,arrowSize:e,arrowOffset:t,side:r,align:i}){const s=(n.width-e.width)/2,o=(n.height-e.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(e.width,e.height),u={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:pre(r,i)};return r!=="top"&&r!=="bottom"||(i==="start"&&(u.left=`${t}px`),i==="center"&&(u.left=`${s}px`),i==="end"&&(u.right=`${t}px`)),r!=="left"&&r!=="right"||(i==="start"&&(u.top=`${t}px`),i==="center"&&(u.top=`${o}px`),i==="end"&&(u.bottom=`${t}px`)),u}function pre(n,e){return(n!=="top"&&n!=="right"||e!=="end")&&(n!=="bottom"&&n!=="left"||e==="end")?"ltr":"rtl"}function xD(n){return{top:"bottom",right:"left",bottom:"top",left:"right"}[n]}function _D(n,e){return{top:n.top<e.top,right:n.right>e.right,bottom:n.bottom>e.bottom,left:n.left<e.left}}const[N5,z5]=O5("Popper"),[mre,U5]=N5("Popper"),gre=n=>{const{__scopePopper:e,children:t}=n,[r,i]=P.useState(null);return P.createElement(mre,{scope:e,anchor:r,onAnchorChange:i},t)},yre=P.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=U5("PopperAnchor",t),o=P.useRef(null),a=YC(e,o);return P.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:P.createElement(Cd.div,rn({},i,{ref:a}))}),[vre,xre]=N5("PopperContent"),_re=P.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i,align:s="center",alignOffset:o,collisionTolerance:a,avoidCollisions:l=!0,...u}=n,c=U5("PopperContent",t),[f,h]=P.useState(),m=F5(c.anchor),[g,y]=P.useState(null),v=pD(g),[x,_]=P.useState(null),S=pD(x),M=YC(e,j=>y(j)),C=function(){const[j,G]=P.useState(void 0);return P.useEffect(()=>{let N;function $(){G({width:window.innerWidth,height:window.innerHeight})}function X(){window.clearTimeout(N),N=window.setTimeout($,100)}return $(),window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]),j}(),T=C?DOMRect.fromRect({...C,x:0,y:0}):void 0,{popperStyles:R,arrowStyles:b,placedSide:B,placedAlign:I}=dre({anchorRect:m,popperSize:v,arrowSize:S,arrowOffset:f,side:r,sideOffset:i,align:s,alignOffset:o,shouldAvoidCollisions:l,collisionBoundariesRect:T,collisionTolerance:a}),k=B!==void 0;return P.createElement("div",{style:R,"data-radix-popper-content-wrapper":""},P.createElement(vre,{scope:t,arrowStyles:b,onArrowChange:_,onArrowOffsetChange:h},P.createElement(Cd.div,rn({"data-side":B,"data-align":I},u,{style:{...u.style,animation:k?void 0:"none"},ref:M}))))}),wre=P.forwardRef(function(n,e){const{__scopePopper:t,offset:r,...i}=n,s=xre("PopperArrow",t),{onArrowOffsetChange:o}=s;return P.useEffect(()=>o(r),[o,r]),P.createElement("span",{style:{...s.arrowStyles,pointerEvents:"none"}},P.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},P.createElement(ure,rn({},i,{ref:e,style:{...i.style,display:"block"}}))))}),Sre=gre,Are=yre,Mre=_re,bre=wre,wD=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{};function Cre(...n){return e=>n.forEach(t=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(t,e))}function Ere(...n){return P.useCallback(Cre(...n),n)}const G5=n=>{const{present:e,children:t}=n,r=function(o){const[a,l]=P.useState(),u=P.useRef({}),c=P.useRef(o),f=P.useRef("none"),h=o?"mounted":"unmounted",[m,g]=function(y,v){return P.useReducer((x,_)=>{const S=v[x][_];return S??x},y)}(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const y=X0(u.current);f.current=m==="mounted"?y:"none"},[m]),wD(()=>{const y=u.current,v=c.current;if(v!==o){const x=f.current,_=X0(y);o?g("MOUNT"):_==="none"||(y==null?void 0:y.display)==="none"?g("UNMOUNT"):g(v&&x!==_?"ANIMATION_OUT":"UNMOUNT"),c.current=o}},[o,g]),wD(()=>{if(a){const y=x=>{const _=X0(u.current).includes(x.animationName);x.target===a&&_&&g("ANIMATION_END")},v=x=>{x.target===a&&(f.current=X0(u.current))};return a.addEventListener("animationstart",v),a.addEventListener("animationcancel",y),a.addEventListener("animationend",y),()=>{a.removeEventListener("animationstart",v),a.removeEventListener("animationcancel",y),a.removeEventListener("animationend",y)}}},[a,g]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:P.useCallback(y=>{y&&(u.current=getComputedStyle(y)),l(y)},[])}}(e),i=typeof t=="function"?t({present:r.isPresent}):P.Children.only(t),s=Ere(r.ref,i.ref);return typeof t=="function"||r.isPresent?P.cloneElement(i,{ref:s}):null};function X0(n){return(n==null?void 0:n.animationName)||"none"}G5.displayName="Presence";function SD(n){const e=P.useRef(n);return P.useEffect(()=>{e.current=n},[n]),e.current}function Tre(n){const e=P.useRef(n);return P.useEffect(()=>{e.current=n}),P.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function Pre(n){const e=Tre(n);P.useEffect(()=>{const t=r=>{r.key==="Escape"&&e(r)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e])}function AD(n){const e=P.useRef(n);return P.useEffect(()=>{e.current=n}),P.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function Rre({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=function({defaultProp:l,onChange:u}){const c=P.useState(l),[f]=c,h=P.useRef(f),m=AD(u);return P.useEffect(()=>{h.current!==f&&(m(f),h.current=f)},[f,h,m]),c}({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=AD(t);return[o,P.useCallback(l=>{if(s){const u=l,c=typeof l=="function"?u(n):l;c!==n&&a(c)}else i(l)},[s,n,i,a])]}function nf(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}const[H5,Mfe]=O5("Tooltip",[z5]),I1=z5(),Bre=700,[bfe,Dre]=H5("TooltipProvider",{isOpenDelayed:!0,delayDuration:Bre,onOpen:()=>{},onClose:()=>{}}),[Ire,L1]=H5("Tooltip"),Lre=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,delayDuration:o}=n,a=Dre("Tooltip",e),l=I1(e),[u,c]=P.useState(null),f=tre(),h=P.useRef(0),m=o??a.delayDuration,g=P.useRef(!1),{onOpen:y,onClose:v}=a,[x=!1,_]=Rre({prop:r,defaultProp:i,onChange:T=>{T&&(document.dispatchEvent(new CustomEvent("tooltip.open")),y()),s==null||s(T)}}),S=P.useMemo(()=>x?g.current?"delayed-open":"instant-open":"closed",[x]),M=P.useCallback(()=>{window.clearTimeout(h.current),g.current=!1,_(!0)},[_]),C=P.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,_(!0)},m)},[m,_]);return P.useEffect(()=>()=>window.clearTimeout(h.current),[]),P.createElement(Sre,l,P.createElement(Ire,{scope:e,contentId:f,open:x,stateAttribute:S,trigger:u,onTriggerChange:c,onTriggerEnter:P.useCallback(()=>{a.isOpenDelayed?C():M()},[a.isOpenDelayed,C,M]),onOpen:P.useCallback(M,[M]),onClose:P.useCallback(()=>{window.clearTimeout(h.current),_(!1),v()},[_,v])},t))},kre=P.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=L1("TooltipTrigger",t),s=I1(t),o=YC(e,i.onTriggerChange),a=P.useRef(!1),l=P.useCallback(()=>a.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),P.createElement(Are,rn({asChild:!0},s),P.createElement(Cd.button,rn({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:o,onMouseEnter:nf(n.onMouseEnter,i.onTriggerEnter),onMouseLeave:nf(n.onMouseLeave,i.onClose),onMouseDown:nf(n.onMouseDown,()=>{i.onClose(),a.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:nf(n.onFocus,()=>{a.current||i.onOpen()}),onBlur:nf(n.onBlur,i.onClose),onClick:nf(n.onClick,i.onClose)})))}),Fre=P.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=L1("TooltipContent",n.__scopeTooltip);return P.createElement(G5,{present:t||i.open},P.createElement(Ore,rn({ref:e},r)))}),Ore=P.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,portalled:s=!0,...o}=n,a=L1("TooltipContent",t),l=I1(t),u=s?are:P.Fragment,{onClose:c}=a;return Pre(()=>c()),P.useEffect(()=>(document.addEventListener("tooltip.open",c),()=>document.removeEventListener("tooltip.open",c)),[c]),P.createElement(u,null,P.createElement(zre,{__scopeTooltip:t}),P.createElement(Mre,rn({"data-state":a.stateAttribute},l,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),P.createElement(L5,null,r),P.createElement(sre,{id:a.contentId,role:"tooltip"},i||r)))}),Nre=P.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=I1(t);return P.createElement(bre,rn({},i,r,{ref:e}))});function zre(n){const{__scopeTooltip:e}=n,t=L1("CheckTriggerMoved",e),r=F5(t.trigger),i=r==null?void 0:r.left,s=SD(i),o=r==null?void 0:r.top,a=SD(o),l=t.onClose;return P.useEffect(()=>{(s!==void 0&&s!==i||a!==void 0&&a!==o)&&l()},[l,s,a,i,o]),null}const Ure=Lre,Gre=kre,Hre=Fre,Vre=Nre;function Wre(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function jt(n,e){if(n==null)return{};var t=Wre(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let mn;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(mn||(mn={}));const jre={[mn.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[mn.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[mn.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[mn.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[mn.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[mn.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[mn.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[mn.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[mn.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[mn.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[mn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function V5(n,e,...t){const[r,...i]=jre[e](...t);console[n]("LEVA: "+r,...i)}const Ko=V5.bind(null,"warn"),$re=V5.bind(null,"log"),Jre=["value"],Xre=["schema"],Kre=["value"],W5=[],rc={};function MD(n){let{value:e}=n,t=jt(n,Jre);for(let r of W5){const i=r(e,t);if(i)return i}}function wa(n,e){let{schema:t}=e,r=jt(e,Xre);if(n in rc){Ko(mn.ALREADY_REGISTERED_TYPE,n);return}W5.push((i,s)=>t(i,s)&&n),rc[n]=r}function Rw(n,e,t,r){const{normalize:i}=rc[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=jt(e,Kre);return{value:s,settings:o}}function Yre(n,e,t,r,i,s){const{sanitize:o}=rc[n];return o?o(e,t,r,i,s):e}function bD(n,e,t){const{format:r}=rc[n];return r?r(e,t):e}function Qre(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function st(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(t),!0).forEach(function(r){Qre(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Cl=(n,e,t)=>n>t?t:n<e?e:n,qre=n=>{if(n===""||typeof n=="number")return n;try{const e=Wa(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},Zre=Math.log(10);function ED(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/Zre)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const vv=(n,e,t)=>t===e?0:(Cl(n,e,t)-e)/(t-e),xv=(n,e,t)=>n*(t-e)+e,eie=()=>"_"+Math.random().toString(36).substr(2,9),TD=/\(([0-9+\-*/^ .]+)\)/,PD=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,RD=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,BD=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,DD=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,ID=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Wa(n){if(isNaN(Number(n)))if(TD.test(n)){const e=n.replace(TD,(t,r)=>String(Wa(r)));return Wa(e)}else if(PD.test(n)){const e=n.replace(PD,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return Wa(e)}else if(RD.test(n)){const e=n.replace(RD,(t,r,i)=>String(Number(r)*Number(i)));return Wa(e)}else if(BD.test(n)){const e=n.replace(BD,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return Wa(e)}else if(DD.test(n)){const e=n.replace(DD,(t,r,i)=>String(Number(r)+Number(i)));return Wa(e)}else if(ID.test(n)){const e=n.replace(ID,(t,r,i)=>String(Number(r)-Number(i)));return Wa(e)}else return Number(n);return Number(n)}function tie(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function nie(n,e){const t=st({},n);return e.forEach(r=>r in n&&delete t[r]),t}function rie(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function j5(n){return Object.prototype.toString.call(n)==="[object Object]"}const iie=n=>j5(n)&&Object.keys(n).length===0;let Vs;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(Vs||(Vs={}));let $s;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})($s||($s={}));const sie=["type","__customInput"],oie=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],aie=["type"];function $5(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:st({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:C,__customInput:T}=n,R=jt(n,sie);return $5(T,e,R,C)}const{render:o,label:a,optional:l,order:u=0,disabled:c,hint:f,onChange:h,onEditStart:m,onEditEnd:g,transient:y}=n,v=jt(n,oie),x=st({render:o,key:e,label:a??e,hint:f,transient:y??!!h,onEditStart:m,onEditEnd:g,disabled:c,optional:l,order:u},t);let{type:_}=v,S=jt(v,aie);if(_=r??_,_ in Vs)return{type:_,input:S,options:x};let M;return r&&j5(S)&&"value"in S?M=S.value:M=iie(S)?void 0:S,{type:_,input:M,options:st(st({},x),{},{onChange:h,optional:(i=x.optional)!==null&&i!==void 0?i:!1,disabled:(s=x.disabled)!==null&&s!==void 0?s:!1})}}function lie(n,e,t,r){const i=$5(n,e),{type:s,input:o,options:a}=i;if(s)return s in Vs?i:{type:s,input:Rw(s,o,t,r),options:a};let l=MD(o);return l?{type:l,input:Rw(l,o,t,r),options:a}:(l=MD({value:o}),l?{type:l,input:Rw(l,{value:o},t,r),options:a}:!1)}function LD(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=J5({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const uie=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function J5({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=Yre(n,o,t,e,i,s)}catch(l){throw new uie(`The value \`${r}\` did not result in a correct value.`,e,l)}return Wp(a,e)?e:a}const X5=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},K5=n=>n.shiftKey?5:n.altKey?1/5:1;function cie(n,e){const t=console.error;console.error=()=>{},kb.render(n,e),console.error=t}const fie=["value"],die=["min","max"],hie=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},Y5=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=Cl(i,e,t);return r?s+r:s},pie=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},Q5=n=>{let{value:e}=n,t=jt(n,fie);const{min:r=-1/0,max:i=1/0}=t,s=jt(t,die);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=Cl(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const u=l?ED(l)*10:ED(o);l=l||u/10;const c=Math.round(Cl(Math.log10(1/u),0,2));return{value:a?o+a:o,settings:st({initialValue:o,step:l,pad:c,min:r,max:i,suffix:a},s)}},q5=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var Z5=Object.freeze({__proto__:null,schema:hie,sanitize:Y5,format:pie,normalize:Q5,sanitizeStep:q5});function Dn(){return Dn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Dn.apply(this,arguments)}const ez=P.createContext({});function kr(){return P.useContext(ez)}const QC=P.createContext(null),tz=P.createContext(null),nz=P.createContext(null);function Lm(){return P.useContext(tz)}function mie(){return P.useContext(nz)}const rz=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function K0(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const Mh={$inputStyle:()=>n=>K0(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>K0(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>K0(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>K0(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:nt,css:Cfe,createTheme:gie,globalCss:yie,keyframes:Efe}=Qne({prefix:"leva",theme:rz(),utils:st(st({},Mh),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Mh.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Mh.$focusStyle()(n)}),$hover:n=>({"&:hover":Mh.$hoverStyle()(n)}),$active:n=>({"&:active":Mh.$activeStyle()(n)})})}),vie=yie({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function xie(n){const e=rz();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=gie(e);return{theme:e,className:t.className}}function sa(n,e){const{theme:t}=P.useContext(QC);if(!(n in t)||!(e in t[n]))return Ko(mn.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const iz=nt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),sz=nt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${iz}`]:{paddingLeft:0}}),_ie=nt(sz,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),wie=nt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Sie=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Aie=["onUpdate"];function qC(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:u=0}=n,c=jt(n,Sie);const{id:f,emitOnEditStart:h,emitOnEditEnd:m,disabled:g}=kr(),y=a||f,v=P.useRef(null),x=u>0,_=x?"textarea":"input",S=P.useCallback(T=>R=>{const b=R.currentTarget.value;T(b)},[]);J.useEffect(()=>{const T=v.current,R=S(b=>{r(b),m()});return T==null||T.addEventListener("blur",R),()=>T==null?void 0:T.removeEventListener("blur",R)},[S,r,m]);const M=P.useCallback(T=>{T.key==="Enter"&&S(r)(T)},[S,r]),C=Object.assign({as:_},x?{rows:u}:{},c);return J.createElement(wie,{textArea:x},e&&typeof e=="string"?J.createElement(sz,null,e):e,J.createElement(iz,Dn({levaType:o,ref:v,id:y,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:S(i),onFocus:()=>h(),onKeyPress:M,onKeyDown:s,disabled:g},C)))}function Mie(n){let{onUpdate:e}=n,t=jt(n,Aie);const r=P.useCallback(s=>e(qre(s)),[e]),i=P.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return J.createElement(qC,Dn({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const _v=nt("div",{}),uM=nt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),bie=nt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${uM}::after`]:{opacity:.6},[`${_v}:hover > & + ${uM}::after`]:{opacity:.6},[`${_v}:hover > & > svg`]:{opacity:1}}),oz=nt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${_v}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),az=nt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${oz} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),lz=nt(az,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Cie=nt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Eie=nt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),cM=nt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Tie=nt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${cM}`]:{pointerEvents:"auto"}}}}}),uz=nt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Pie=nt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Rie=nt(Vre,{fill:"$toolTipBackground"});function ZC({children:n}){const{className:e}=P.useContext(QC);return J.createElement(xne,{className:e},n)}const Bie=["align"];function Die(){const{id:n,disable:e,disabled:t}=kr();return J.createElement(J.Fragment,null,J.createElement(Eie,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),J.createElement("label",{htmlFor:n+"__disable"}))}function Iie(n){const{id:e,optional:t,hint:r}=kr(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return J.createElement(J.Fragment,null,t&&J.createElement(Die,null),r!==void 0?J.createElement(Ure,null,J.createElement(Gre,{asChild:!0},J.createElement(cM,Dn({},i,n))),J.createElement(Hre,{side:"top",sideOffset:2},J.createElement(Pie,null,r,J.createElement(Rie,null)))):J.createElement(cM,Dn({},i,s,n)))}function Ks(n){let{align:e}=n,t=jt(n,Bie);const{value:r,label:i,key:s,disabled:o}=kr(),{hideCopyButton:a}=mie(),l=!a&&s!==void 0,[u,c]=P.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),c(!0)}catch{Ko(mn.CLIPBOARD_ERROR,{[s]:r})}};return J.createElement(Cie,{align:e,onPointerLeave:()=>c(!1)},J.createElement(Iie,t),l&&!o&&J.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},u?J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},J.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),J.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):J.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},J.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),J.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Lie=["toggled"],kie=nt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function eE(n){let{toggled:e}=n,t=jt(n,Lie);return J.createElement(kie,Dn({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),J.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Fie=["input"];function Ms(n){let{input:e}=n,t=jt(n,Fie);return e?J.createElement(lz,t):J.createElement(az,t)}function cz({value:n,type:e,settings:t,setValue:r}){const[i,s]=P.useState(bD(e,n,t)),o=P.useRef(n),a=P.useRef(t);a.current=t;const l=P.useCallback(c=>s(bD(e,c,a.current)),[e]),u=P.useCallback(c=>{try{r(c)}catch(f){const{type:h,previousValue:m}=f;if(h!=="LEVA_ERROR")throw f;l(m)}},[l,r]);return P.useEffect(()=>{Wp(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:u}}function km(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=kr();return PY(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Oie(n){const e=P.useRef(null),t=P.useRef(null),r=P.useRef(!1);return P.useEffect(()=>{const i=X5(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),P.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function fz(){const n=P.useRef(null),e=P.useRef({x:0,y:0}),t=P.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const Nie=["__refCount"],Bw=(n,e)=>{if(!n[e])return null;const t=n[e];return jt(t,Nie)};function zie(n){const e=Lm(),[t,r]=P.useState(Bw(e.getData(),n)),i=P.useCallback(u=>e.setValueAtPath(n,u,!0),[n,e]),s=P.useCallback(u=>e.setSettingsAtPath(n,u),[n,e]),o=P.useCallback(u=>e.disableInputAtPath(n,u),[n,e]),a=P.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=P.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return P.useEffect(()=>{r(Bw(e.getData(),n));const u=e.useStore.subscribe(c=>Bw(c.data,n),r,{equalityFn:Im});return()=>u()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const Uie=nt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),dz=nt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),fM=nt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),hz=nt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),pz=nt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Gie({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=P.useRef(null),a=P.useRef(null),l=P.useRef(0),u=sa("sizes","scrubberWidth"),c=km(({event:h,first:m,xy:[g],movement:[y],memo:v})=>{if(m){const{width:_,left:S}=o.current.getBoundingClientRect();l.current=_-parseFloat(u),v=(h==null?void 0:h.target)===a.current?n:xv((g-S)/_,e,t)}const x=v+xv(y/l.current,0,t-e);return r(q5(x,{step:i,initialValue:s})),v}),f=vv(n,e,t);return J.createElement(hz,Dn({ref:o},c()),J.createElement(dz,null,J.createElement(pz,{style:{left:0,right:`${(1-f)*100}%`}})),J.createElement(fM,{ref:a,style:{left:`calc(${f} * (100% - ${u}))`}}))}const Hie=J.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=P.useState(!1),o=km(({active:a,delta:[l],event:u,memo:c=0})=>(s(a),c+=l/2,Math.abs(c)>=1&&(e(f=>parseFloat(f)+Math.floor(c)*t*K5(u)),c=0),c));return J.createElement(_ie,Dn({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function mz({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&J.createElement(Hie,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return J.createElement(Mie,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function Vie(){const n=kr(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return J.createElement(Ms,{input:!0},J.createElement(Ks,null,e),J.createElement(Uie,{hasRange:l},l&&J.createElement(Gie,Dn({value:parseFloat(t),onDrag:r},i)),J.createElement(mz,Dn({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Wie}=Z5,jie=jt(Z5,["sanitizeStep"]);var $ie=st({component:Vie},jie);const Jie=(n,e)=>li().schema({options:li().passesAnyOf(li().object(),li().array())}).test(e),Xie=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},Kie=(n,{values:e})=>e.indexOf(n),Yie=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Qie=Object.freeze({__proto__:null,schema:Jie,sanitize:Xie,format:Kie,normalize:Yie});const qie=nt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),dM=nt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Zie=nt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${dM}:focus + &`]:{$focusStyle:""},[`${dM}:hover + &`]:{$hoverStyle:""}});function ese({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=P.useRef();return e===a[n]&&(l.current=o[n]),J.createElement(qie,null,J.createElement(dM,{id:r,value:n,onChange:u=>t(a[Number(u.currentTarget.value)]),disabled:s},o.map((u,c)=>J.createElement("option",{key:u,value:c},u))),J.createElement(Zie,null,l.current),J.createElement(eE,{toggled:!0}))}function tse(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=kr();return J.createElement(Ms,{input:!0},J.createElement(Ks,null,n),J.createElement(ese,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var nse=st({component:tse},Qie);const rse=n=>li().string().test(n),ise=n=>{if(typeof n!="string")throw Error("Invalid string");return n},sse=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var ose=Object.freeze({__proto__:null,schema:rse,sanitize:ise,normalize:sse});const ase=["displayValue","onUpdate","onChange","editable"],lse=nt("div",{whiteSpace:"pre-wrap"});function use(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=jt(n,ase);return i?J.createElement(qC,Dn({value:e,onUpdate:t,onChange:r},s)):J.createElement(lse,null,e)}function cse(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=kr();return J.createElement(Ms,{input:!0},J.createElement(Ks,null,n),J.createElement(use,Dn({displayValue:t,onUpdate:r,onChange:i},e)))}var fse=st({component:cse},ose);const dse=n=>li().boolean().test(n),hse=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var pse=Object.freeze({__proto__:null,schema:dse,sanitize:hse});const mse=nt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function gse({value:n,onUpdate:e,id:t,disabled:r}){return J.createElement(mse,null,J.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),J.createElement("label",{htmlFor:t},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function yse(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=kr();return J.createElement(Ms,{input:!0},J.createElement(Ks,null,n),J.createElement(gse,{value:e,onUpdate:t,id:i,disabled:r}))}var vse=st({component:yse},pse);const xse=["locked"];function _se({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=P.useRef(n[t]);o.current=n[t];const a=P.useCallback(u=>i({[t]:J5({type:"NUMBER",value:o.current,settings:r},u)}),[i,r,t]),l=cz({type:"NUMBER",value:n[t],settings:r,setValue:a});return J.createElement(mz,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const wse=nt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Sse(n){let{locked:e}=n,t=jt(n,xse);return J.createElement("svg",Dn({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?J.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):J.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function tE({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=kr(),{lock:o,locked:a}=t;return J.createElement(wse,{withLock:o},o&&J.createElement(Sse,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,u)=>J.createElement(_se,{id:u===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const gz=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=Q5(st({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},Ase=["lock"],Mse=["value"];function bse(n){const e=li().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function Cse(n){return Array.isArray(n)?"array":"object"}function rp(n,e,t){return Cse(n)===e?n:e==="array"?Object.values(n):rie(n,t)}const Ese=(n,e,t)=>{const r=rp(n,"object",e.keys);for(let o in r)r[o]=Y5(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=rp(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],u=o[a],c=u!==0?l/u:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*c}else s=st(st({},o),r)}return rp(s,e.format,e.keys)},Tse=(n,e)=>rp(n,"object",e.keys),Pse=n=>!!n&&("step"in n||"min"in n||"max"in n);function Rse(n,e,t=[]){const{lock:r=!1}=e,i=jt(e,Ase),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=rp(n,"object",o),l=Pse(i)?o.reduce((c,f)=>Object.assign(c,{[f]:i}),{}):i,u=gz(a,l);return{value:s==="array"?n:a,settings:st(st({},u),{},{format:s,keys:o,lock:r,locked:!1})}}function yz(n){return{schema:bse(n.length),normalize:e=>{let{value:t}=e,r=jt(e,Mse);return Rse(t,r,n)},format:(e,t)=>Tse(e,t),sanitize:(e,t,r)=>Ese(e,t,r)}}var Bse={grad:.9,turn:360,rad:360/(2*Math.PI)},Ho=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},dr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},ps=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},vz=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},kD=function(n){return{r:ps(n.r,0,255),g:ps(n.g,0,255),b:ps(n.b,0,255),a:ps(n.a)}},Dw=function(n){return{r:dr(n.r),g:dr(n.g),b:dr(n.b),a:dr(n.a,3)}},Dse=/^#([0-9a-f]{3,8})$/i,Y0=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},xz=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},_z=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},FD=function(n){return{h:vz(n.h),s:ps(n.s,0,100),l:ps(n.l,0,100),a:ps(n.a)}},OD=function(n){return{h:dr(n.h),s:dr(n.s),l:dr(n.l),a:dr(n.a,3)}},ND=function(n){return _z((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},ip=function(n){return{h:(e=xz(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},Ise=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Lse=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,kse=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fse=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hM={string:[[function(n){var e=Dse.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?dr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?dr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=kse.exec(n)||Fse.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:kD({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=Ise.exec(n)||Lse.exec(n);if(!e)return null;var t,r,i=FD({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(Bse[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return ND(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return Ho(e)&&Ho(t)&&Ho(r)?kD({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!Ho(e)||!Ho(t)||!Ho(r))return null;var o=FD({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return ND(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!Ho(e)||!Ho(t)||!Ho(r))return null;var o=function(a){return{h:vz(a.h),s:ps(a.s,0,100),v:ps(a.v,0,100),a:ps(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return _z(o)},"hsv"]]},zD=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},wz=function(n){return typeof n=="string"?zD(n.trim(),hM.string):typeof n=="object"&&n!==null?zD(n,hM.object):[null,void 0]},Ose=function(n){return wz(n)[1]},Iw=function(n,e){var t=ip(n);return{h:t.h,s:ps(t.s+100*e,0,100),l:t.l,a:t.a}},Lw=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},UD=function(n,e){var t=ip(n);return{h:t.h,s:t.s,l:ps(t.l+100*e,0,100),a:t.a}},pM=function(){function n(e){this.parsed=wz(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return dr(Lw(this.rgba),2)},n.prototype.isDark=function(){return Lw(this.rgba)<.5},n.prototype.isLight=function(){return Lw(this.rgba)>=.5},n.prototype.toHex=function(){return e=Dw(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Y0(dr(255*s)):"","#"+Y0(t)+Y0(r)+Y0(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return Dw(this.rgba)},n.prototype.toRgbString=function(){return e=Dw(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return OD(ip(this.rgba))},n.prototype.toHslString=function(){return e=OD(ip(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=xz(this.rgba),{h:dr(e.h),s:dr(e.s),v:dr(e.v),a:dr(e.a,3)};var e},n.prototype.invert=function(){return Vr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Vr(Iw(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Vr(Iw(this.rgba,-e))},n.prototype.grayscale=function(){return Vr(Iw(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Vr(UD(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Vr(UD(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Vr({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):dr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=ip(this.rgba);return typeof e=="number"?Vr({h:e,s:t.s,l:t.l,a:t.a}):dr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Vr(e).toHex()},n}(),Vr=function(n){return n instanceof pM?n:new pM(n)},GD=[],Nse=function(n){n.forEach(function(e){GD.indexOf(e)<0&&(e(pM,hM),GD.push(e))})};function zse(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),f=1/0,h="black";if(!s.length)for(var m in t)s[m]=new n(t[m]).toRgb();for(var g in t){var y=(a=c,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));y<f&&(f=y,h=g)}return h}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function Ed(){return(Ed=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function nE(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function mM(n){var e=P.useRef(n),t=P.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var ld=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},sp=function(n){return"touches"in n},gM=function(n){return n&&n.ownerDocument.defaultView||self},HD=function(n,e,t){var r=n.getBoundingClientRect(),i=sp(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:ld((i.pageX-(r.left+gM(n).pageXOffset))/r.width),top:ld((i.pageY-(r.top+gM(n).pageYOffset))/r.height)}},VD=function(n){!sp(n)&&n.preventDefault()},rE=J.memo(function(n){var e=n.onMove,t=n.onKey,r=nE(n,["onMove","onKey"]),i=P.useRef(null),s=mM(e),o=mM(t),a=P.useRef(null),l=P.useRef(!1),u=P.useMemo(function(){var m=function(v){VD(v),(sp(v)?v.touches.length>0:v.buttons>0)&&i.current?s(HD(i.current,v,a.current)):y(!1)},g=function(){return y(!1)};function y(v){var x=l.current,_=gM(i.current),S=v?_.addEventListener:_.removeEventListener;S(x?"touchmove":"mousemove",m),S(x?"touchend":"mouseup",g)}return[function(v){var x=v.nativeEvent,_=i.current;if(_&&(VD(x),!function(M,C){return C&&!sp(M)}(x,l.current)&&_)){if(sp(x)){l.current=!0;var S=x.changedTouches||[];S.length&&(a.current=S[0].identifier)}_.focus(),s(HD(_,x,a.current)),y(!0)}},function(v){var x=v.which||v.keyCode;x<37||x>40||(v.preventDefault(),o({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},y]},[o,s]),c=u[0],f=u[1],h=u[2];return P.useEffect(function(){return h},[h]),J.createElement("div",Ed({},r,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),Fm=function(n){return n.filter(Boolean).join(" ")},iE=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=Fm(["react-colorful__pointer",n.className]);return J.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},J.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},$r=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},Sz=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:$r(n.h),s:$r(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:$r(i/2),a:$r(r,2)}},yM=function(n){var e=Sz(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},kw=function(n){var e=Sz(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},Az=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),u=s%6;return{r:$r(255*[r,a,o,o,l,r][u]),g:$r(255*[l,r,r,a,o,o][u]),b:$r(255*[o,o,l,r,r,a][u]),a:$r(i,2)}},Mz=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:$r(60*(a<0?a+6:a)),s:$r(s?o/s*100:0),v:$r(s/255*100),a:i}},bz=J.memo(function(n){var e=n.hue,t=n.onChange,r=Fm(["react-colorful__hue",n.className]);return J.createElement("div",{className:r},J.createElement(rE,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:ld(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":$r(e),"aria-valuemax":"360","aria-valuemin":"0"},J.createElement(iE,{className:"react-colorful__hue-pointer",left:e/360,color:yM({h:e,s:100,v:100,a:1})})))}),Cz=J.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:yM({h:e.h,s:100,v:100,a:1})};return J.createElement("div",{className:"react-colorful__saturation",style:r},J.createElement(rE,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:ld(e.s+100*i.left,0,100),v:ld(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+$r(e.s)+"%, Brightness "+$r(e.v)+"%"},J.createElement(iE,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:yM(e)})))}),sE=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function Ez(n,e,t){var r=mM(t),i=P.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=P.useRef({color:e,hsva:s});P.useEffect(function(){if(!n.equal(e,a.current.color)){var u=n.toHsva(e);a.current={hsva:u,color:e},o(u)}},[e,n]),P.useEffect(function(){var u;sE(s,a.current.hsva)||n.equal(u=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,n,r]);var l=P.useCallback(function(u){o(function(c){return Object.assign({},c,u)})},[]);return[s,l]}var Use=typeof window<"u"?P.useLayoutEffect:P.useEffect,Gse=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},WD=new Map,Tz=function(n){Use(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!WD.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,WD.set(e,t);var r=Gse();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},Hse=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=nE(n,["className","colorModel","color","onChange"]),a=P.useRef(null);Tz(a);var l=Ez(t,i,s),u=l[0],c=l[1],f=Fm(["react-colorful",e]);return J.createElement("div",Ed({},o,{ref:a,className:f}),J.createElement(Cz,{hsva:u,onChange:c}),J.createElement(bz,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},Vse=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+kw(Object.assign({},t,{a:0}))+", "+kw(Object.assign({},t,{a:1}))+")"},s=Fm(["react-colorful__alpha",e]),o=$r(100*t.a);return J.createElement("div",{className:s},J.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),J.createElement(rE,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:ld(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},J.createElement(iE,{className:"react-colorful__alpha-pointer",left:t.a,color:kw(t)})))},Wse=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=nE(n,["className","colorModel","color","onChange"]),a=P.useRef(null);Tz(a);var l=Ez(t,i,s),u=l[0],c=l[1],f=Fm(["react-colorful",e]);return J.createElement("div",Ed({},o,{ref:a,className:f}),J.createElement(Cz,{hsva:u,onChange:c}),J.createElement(bz,{hue:u.h,onChange:c}),J.createElement(Vse,{hsva:u,onChange:c,className:"react-colorful__last-control"}))},jse={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Mz,fromHsva:Az,equal:sE},$se=function(n){return J.createElement(Wse,Ed({},n,{colorModel:jse}))},Jse={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return Mz({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=Az(n)).r,g:e.g,b:e.b};var e},equal:sE},Xse=function(n){return J.createElement(Hse,Ed({},n,{colorModel:Jse}))};function Kse(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Td(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function Pd(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Yse(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Qse(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Yse(arguments[e]));return n}var qse=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Om(n,e){var t=Zse(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Zse(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=qse.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var eoe=[".DS_Store","Thumbs.db"];function toe(n){return Td(this,void 0,void 0,function(){return Pd(this,function(e){return wv(n)&&noe(n)?[2,ooe(n.dataTransfer,n.type)]:roe(n)?[2,ioe(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,soe(n)]:[2,[]]})})}function noe(n){return wv(n.dataTransfer)}function roe(n){return wv(n)&&wv(n.target)}function wv(n){return typeof n=="object"&&n!==null}function ioe(n){return vM(n.target.files).map(function(e){return Om(e)})}function soe(n){return Td(this,void 0,void 0,function(){var e;return Pd(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return Om(r)})]}})})}function ooe(n,e){return Td(this,void 0,void 0,function(){var t,r;return Pd(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=vM(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(aoe))]):[3,2];case 1:return r=i.sent(),[2,jD(Pz(r))];case 2:return[2,jD(vM(n.files).map(function(s){return Om(s)}))]}})})}function jD(n){return n.filter(function(e){return eoe.indexOf(e.name)===-1})}function vM(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function aoe(n){if(typeof n.webkitGetAsEntry!="function")return $D(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?Rz(e):$D(n)}function Pz(n){return n.reduce(function(e,t){return Qse(e,Array.isArray(t)?Pz(t):[t])},[])}function $D(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=Om(e);return Promise.resolve(t)}function loe(n){return Td(this,void 0,void 0,function(){return Pd(this,function(e){return[2,n.isDirectory?Rz(n):uoe(n)]})})}function Rz(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Td(o,void 0,void 0,function(){var l,u,c;return Pd(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),t(l),[3,4];case 3:return u=f.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(loe)),i.push(c),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function uoe(n){return Td(this,void 0,void 0,function(){return Pd(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=Om(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var coe=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function JD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function XD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(t),!0).forEach(function(r){Bz(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Bz(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KD(n,e){return poe(n)||hoe(n,e)||doe(n,e)||foe()}function foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function doe(n,e){if(n){if(typeof n=="string")return YD(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return YD(n,e)}}function YD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function hoe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function poe(n){if(Array.isArray(n))return n}var moe="file-invalid-type",goe="file-too-large",yoe="file-too-small",voe="too-many-files",xoe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:moe,message:"File type must be ".concat(t)}},QD=function(e){return{code:goe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},qD=function(e){return{code:yoe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},_oe={code:voe,message:"Too many files"};function Dz(n,e){var t=n.type==="application/x-moz-file"||coe(n,e);return[t,t?null:xoe(e)]}function Iz(n,e,t){if(bh(n.size))if(bh(e)&&bh(t)){if(n.size>t)return[!1,QD(t)];if(n.size<e)return[!1,qD(e)]}else{if(bh(e)&&n.size<e)return[!1,qD(e)];if(bh(t)&&n.size>t)return[!1,QD(t)]}return[!0,null]}function bh(n){return n!=null}function woe(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=Dz(a,t),u=KD(l,1),c=u[0],f=Iz(a,r,i),h=KD(f,1),m=h[0];return c&&m})}function Sv(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Q0(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function ZD(n){n.preventDefault()}function Soe(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Aoe(n){return n.indexOf("Edge/")!==-1}function Moe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Soe(n)||Aoe(n)}function oo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!Sv(r)&&a&&a.apply(void 0,[r].concat(s)),Sv(r)})}}function boe(){return"showOpenFilePicker"in window}function Coe(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return XD(XD({},e),{},Bz({},t,[]))},{}):{}}]}function Eoe(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Toe(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Poe=["children"],Roe=["open"],Boe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Doe=["refKey","onChange","onClick"];function Ioe(n){return Foe(n)||koe(n)||Lz(n)||Loe()}function Loe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function koe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Foe(n){if(Array.isArray(n))return xM(n)}function Fw(n,e){return zoe(n)||Noe(n,e)||Lz(n,e)||Ooe()}function Ooe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lz(n,e){if(n){if(typeof n=="string")return xM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xM(n,e)}}function xM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Noe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function zoe(n){if(Array.isArray(n))return n}function eI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(t),!0).forEach(function(r){_M(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _M(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Av(n,e){if(n==null)return{};var t=Uoe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Uoe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var oE=P.forwardRef(function(n,e){var t=n.children,r=Av(n,Poe),i=Fz(r),s=i.open,o=Av(i,Roe);return P.useImperativeHandle(e,function(){return{open:s}},[s]),J.createElement(P.Fragment,null,t(hn(hn({},o),{},{open:s})))});oE.displayName="Dropzone";var kz={disabled:!1,getFilesFromEvent:toe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};oE.defaultProps=kz;oE.propTypes={children:Qt.func,accept:Qt.oneOfType([Qt.string,Qt.arrayOf(Qt.string)]),multiple:Qt.bool,preventDropOnDocument:Qt.bool,noClick:Qt.bool,noKeyboard:Qt.bool,noDrag:Qt.bool,noDragEventsBubbling:Qt.bool,minSize:Qt.number,maxSize:Qt.number,maxFiles:Qt.number,disabled:Qt.bool,getFilesFromEvent:Qt.func,onFileDialogCancel:Qt.func,onFileDialogOpen:Qt.func,useFsAccessApi:Qt.bool,onDragEnter:Qt.func,onDragLeave:Qt.func,onDragOver:Qt.func,onDrop:Qt.func,onDropAccepted:Qt.func,onDropRejected:Qt.func,validator:Qt.func};var wM={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Fz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=hn(hn({},kz),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,f=e.onDragOver,h=e.onDrop,m=e.onDropAccepted,g=e.onDropRejected,y=e.onFileDialogCancel,v=e.onFileDialogOpen,x=e.useFsAccessApi,_=e.preventDropOnDocument,S=e.noClick,M=e.noKeyboard,C=e.noDrag,T=e.noDragEventsBubbling,R=e.validator,b=P.useMemo(function(){return typeof v=="function"?v:tI},[v]),B=P.useMemo(function(){return typeof y=="function"?y:tI},[y]),I=P.useRef(null),k=P.useRef(null),j=P.useReducer(Goe,wM),G=Fw(j,2),N=G[0],$=G[1],X=N.isFocused,te=N.isFileDialogActive,O=N.draggedFiles,z=P.useRef(typeof window<"u"&&window.isSecureContext&&x&&boe()),H=function(){!z.current&&te&&setTimeout(function(){if(k.current){var q=k.current.files;q.length||($({type:"closeDialog"}),B())}},300)};P.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[k,te,B,z]);var K=P.useRef([]),ee=function(q){I.current&&I.current.contains(q.target)||(q.preventDefault(),K.current=[])};P.useEffect(function(){return _&&(document.addEventListener("dragover",ZD,!1),document.addEventListener("drop",ee,!1)),function(){_&&(document.removeEventListener("dragover",ZD),document.removeEventListener("drop",ee))}},[I,_]);var ce=P.useCallback(function(L){L.preventDefault(),L.persist(),Ee(L),K.current=[].concat(Ioe(K.current),[L.target]),Q0(L)&&Promise.resolve(i(L)).then(function(q){Sv(L)&&!T||($({draggedFiles:q,isDragActive:!0,type:"setDraggedFiles"}),u&&u(L))})},[i,u,T]),ge=P.useCallback(function(L){L.preventDefault(),L.persist(),Ee(L);var q=Q0(L);if(q&&L.dataTransfer)try{L.dataTransfer.dropEffect="copy"}catch{}return q&&f&&f(L),!1},[f,T]),Re=P.useCallback(function(L){L.preventDefault(),L.persist(),Ee(L);var q=K.current.filter(function(xe){return I.current&&I.current.contains(xe)}),ve=q.indexOf(L.target);ve!==-1&&q.splice(ve,1),K.current=q,!(q.length>0)&&($({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Q0(L)&&c&&c(L))},[I,c,T]),se=P.useCallback(function(L,q){var ve=[],xe=[];L.forEach(function(Ce){var qe=Dz(Ce,t),Te=Fw(qe,2),pe=Te[0],We=Te[1],Ze=Iz(Ce,o,s),Ue=Fw(Ze,2),Ye=Ue[0],je=Ue[1],vt=R?R(Ce):null;if(pe&&Ye&&!vt)ve.push(Ce);else{var Ut=[We,je];vt&&(Ut=Ut.concat(vt)),xe.push({file:Ce,errors:Ut.filter(function(bn){return bn})})}}),(!a&&ve.length>1||a&&l>=1&&ve.length>l)&&(ve.forEach(function(Ce){xe.push({file:Ce,errors:[_oe]})}),ve.splice(0)),$({acceptedFiles:ve,fileRejections:xe,type:"setFiles"}),h&&h(ve,xe,q),xe.length>0&&g&&g(xe,q),ve.length>0&&m&&m(ve,q)},[$,a,t,o,s,l,h,m,g,R]),He=P.useCallback(function(L){L.preventDefault(),L.persist(),Ee(L),K.current=[],Q0(L)&&Promise.resolve(i(L)).then(function(q){Sv(L)&&!T||se(q,L)}),$({type:"reset"})},[i,se,T]),Ge=P.useCallback(function(){if(z.current){$({type:"openDialog"}),b();var L={multiple:a,types:Coe(t)};window.showOpenFilePicker(L).then(function(q){return i(q)}).then(function(q){se(q,null),$({type:"closeDialog"})}).catch(function(q){Eoe(q)?(B(q),$({type:"closeDialog"})):Toe(q)&&(z.current=!1,k.current&&(k.current.value=null,k.current.click()))});return}k.current&&($({type:"openDialog"}),b(),k.current.value=null,k.current.click())},[$,b,B,x,se,t,a]),Ke=P.useCallback(function(L){!I.current||!I.current.isEqualNode(L.target)||(L.key===" "||L.key==="Enter"||L.keyCode===32||L.keyCode===13)&&(L.preventDefault(),Ge())},[I,Ge]),be=P.useCallback(function(){$({type:"focus"})},[]),Ve=P.useCallback(function(){$({type:"blur"})},[]),he=P.useCallback(function(){S||(Moe()?setTimeout(Ge,0):Ge())},[S,Ge]),ae=function(q){return r?null:q},Ae=function(q){return M?null:ae(q)},Fe=function(q){return C?null:ae(q)},Ee=function(q){T&&q.stopPropagation()},at=P.useMemo(function(){return function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=L.refKey,ve=q===void 0?"ref":q,xe=L.role,Ce=L.onKeyDown,qe=L.onFocus,Te=L.onBlur,pe=L.onClick,We=L.onDragEnter,Ze=L.onDragOver,Ue=L.onDragLeave,Ye=L.onDrop,je=Av(L,Boe);return hn(hn(_M({onKeyDown:Ae(oo(Ce,Ke)),onFocus:Ae(oo(qe,be)),onBlur:Ae(oo(Te,Ve)),onClick:ae(oo(pe,he)),onDragEnter:Fe(oo(We,ce)),onDragOver:Fe(oo(Ze,ge)),onDragLeave:Fe(oo(Ue,Re)),onDrop:Fe(oo(Ye,He)),role:typeof xe=="string"&&xe!==""?xe:"button"},ve,I),!r&&!M?{tabIndex:0}:{}),je)}},[I,Ke,be,Ve,he,ce,ge,Re,He,M,C,r]),rt=P.useCallback(function(L){L.stopPropagation()},[]),Qe=P.useMemo(function(){return function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=L.refKey,ve=q===void 0?"ref":q,xe=L.onChange,Ce=L.onClick,qe=Av(L,Doe),Te=_M({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:ae(oo(xe,He)),onClick:ae(oo(Ce,rt)),tabIndex:-1},ve,k);return hn(hn({},Te),qe)}},[k,t,a,He,r]),Tt=O.length,Lt=Tt>0&&woe({files:O,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),W=Tt>0&&!Lt;return hn(hn({},N),{},{isDragAccept:Lt,isDragReject:W,isFocused:X&&!r,getRootProps:at,getInputProps:Qe,rootRef:I,inputRef:k,open:ae(Ge)})}function Goe(n,e){switch(e.type){case"focus":return hn(hn({},n),{},{isFocused:!0});case"blur":return hn(hn({},n),{},{isFocused:!1});case"openDialog":return hn(hn({},wM),{},{isFileDialogActive:!0});case"closeDialog":return hn(hn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return hn(hn({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return hn(hn({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return hn({},wM);default:return n}}function tI(){}function Hoe(n){let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),t.forEach(m=>m(e,h))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function m(){const g=c(e);if(!f(h,g)){const y=h;u(h=g,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Voe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nI=Voe?P.useEffect:P.useLayoutEffect;function Woe(n){const e=typeof n=="function"?Hoe(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=P.useReducer(v=>v+1,0),o=e.getState(),a=P.useRef(o),l=P.useRef(r),u=P.useRef(i),c=P.useRef(!1),f=P.useRef();f.current===void 0&&(f.current=r(o));let h,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),m=!i(f.current,h)),nI(()=>{m&&(f.current=h),a.current=o,l.current=r,u.current=i,c.current=!1});const g=P.useRef(o);nI(()=>{const v=()=>{try{const _=e.getState(),S=l.current(_);u.current(f.current,S)||(a.current=_,f.current=S,s())}catch{c.current=!0,s()}},x=e.subscribe(v);return e.getState()!==g.current&&v(),x},[]);const y=m?h:f.current;return P.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const joe=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let u=o;if(a){const c=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());u=h=>{const m=o(h);if(!c(f,m)){const g=f;a(f=m,g)}},l!=null&&l.fireImmediately&&a(f,f)}return i(u)},n(e,t,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var $oe=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Joe=$oe;function rI(n){return Joe(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var Oz=function(e){var t,r;return!(rI(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,rI(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Xoe=Oz,aE=function(e){return Xoe(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Koe=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},Yoe=aE,Qoe=Koe;function Nz(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];SM(i)&&Qoe(i,qoe,n)}return n}function qoe(n,e){if(Zoe(e)){var t=this[e];SM(n)&&SM(t)?Nz(t,n):this[e]=n}}function SM(n){return Yoe(n)&&!Array.isArray(n)}function Zoe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var eae=Nz;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var tae=function(n,e,t,r,i){if(!nae(n)||!e)return n;if(e=q0(e),t&&(e+="."+q0(t)),r&&(e+="."+q0(r)),i&&(e+="."+q0(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function nae(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function q0(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var rae=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var u=a[l];t.call(o,u)&&(r[u]=o[u])}return r},iae=aE,sae=rae,oae=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");iI(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];lae(t)&&(t=uae(t)),iI(t)&&(aae(n,t),sae(n,t))}return n};function aae(n,e){for(var t in e)cae(e,t)&&(n[t]=e[t])}function lae(n){return n&&typeof n=="string"}function uae(n){var e={};for(var t in n)e[t]=n[t];return e}function iI(n){return n&&typeof n=="object"||iae(n)}function cae(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var fae=oae,dae=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=fae({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],u=r.sep,c=n.length,f=-1,h;function m(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<c;){var g=n[f],y=n[f+1],v={val:g,idx:f,arr:l,str:n};if(o.push(v),g==="\\"){v.val=pae(r,n,f)===!0?g+y:y,v.escaped=!0,typeof t=="function"&&t(v),l[l.length-1]+=v.val,f++;continue}if(s&&s[g]){a.push(g);var x=m(),_=f+1;if(n.indexOf(x,_+1)!==-1)for(;a.length&&_<c;){var S=n[++_];if(S==="\\"){S++;continue}if(i.indexOf(S)!==-1){_=AM(n,S,_+1);continue}if(x=m(),a.length&&n.indexOf(x,_+1)===-1)break;if(s[S]){a.push(S);continue}x===S&&a.pop()}if(h=_,h===-1){l[l.length-1]+=g;continue}g=n.slice(f,h+1),v.val=g,v.idx=f=h}if(i.indexOf(g)!==-1){if(h=AM(n,g,f+1),h===-1){l[l.length-1]+=g;continue}hae(g,r)===!0?g=n.slice(f,h+1):g=n.slice(f+1,h),v.val=g,v.idx=f=h}if(typeof t=="function"&&(t(v,o),g=v.val,f=v.idx),v.val===u&&v.split!==!1){l.push("");continue}l[l.length-1]+=v.val}return l};function AM(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?AM(n,e,i+1):i}function hae(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function pae(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var mae=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},sI=mae,gae=function(e){sI(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];sI(i)&&yae(e,i)}return e};function yae(n,e){for(var t in e)vae(e,t)&&(n[t]=e[t])}function vae(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var xae=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var _ae=dae,wae=gae,oI=Oz,aI=xae,Sae=function(n,e,t){if(!aI(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=_ae(e,{sep:".",brackets:!0}).filter(Aae),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){aI(o[a])||(o[a]={}),o=o[a];continue}oI(o[a])&&oI(t)?o[a]=wae({},o[a],t):o[a]=t}return n};function Aae(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var Ow=aE,lI=eae,Mae=tae,uI=Sae,bae=function(e,t,r){if(!Ow(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return lI.apply(null,arguments);if(typeof r=="string")return uI(e,t,r),e;var i=Mae(e,t);return Ow(r)&&Ow(i)&&(r=lI({},i,r)),uI(e,t,r),e};const Cae=sc(bae),lE=(...n)=>n.filter(Boolean).join(".");function Eae(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function Tae(n,e){return Object.entries(tie(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function Pae(n,e){const t=P.useRef();return(e?Wp:Im)(n,t.current)||(t.current=n),t.current}function zz(n,e){return P.useMemo(n,Pae(e,!0))}function Rae(n){const e=P.useRef(null),t=P.useRef(null),r=P.useRef(!0);return P.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),P.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const Bae=n=>{const[e,t]=P.useState(n.getVisiblePaths());return P.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:Im});return()=>r()},[n]),e};function Dae(n,e,t){return n.useStore(i=>{const s=st(st({},t),i.data);return Tae(s,e)},Im)}function Uz(n=3){const e=P.useRef(null),t=P.useRef(null),[r,i]=P.useState(!1),s=P.useCallback(()=>i(!0),[]),o=P.useCallback(()=>i(!1),[]);return P.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:u}=e.current.getBoundingClientRect(),{height:c}=t.current.getBoundingClientRect(),f=a+c>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=u+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}Nse([zse]);const Iae={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};li.extend({color:()=>n=>Vr(n).isValid()});const Lae=n=>li().color().test(n);function Gz(n,{format:e,hasAlpha:t,isString:r}){const i=Iae[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?nie(s,["a"]):s}const Hz=(n,e)=>{const t=Vr(n);if(!t.isValid())throw Error("Invalid color");return Gz(t,e)},kae=(n,e)=>Gz(Vr(n),st(st({},e),{},{isString:!0,format:"hex"})),Fae=({value:n})=>{const e=Ose(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:Hz(n,i),settings:i}};var Oae=Object.freeze({__proto__:null,schema:Lae,sanitize:Hz,format:kae,normalize:Fae});const Nae=nt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),zae=nt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Uae=nt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function cI(n,e){return e!=="rgb"?Vr(n).toRgb():n}function Gae({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=kr(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:u,shown:c,show:f,hide:h}=Uz(),m=P.useRef(0),[g,y]=P.useState(()=>cI(n,o)),v=a?$se:Xse,x=()=>{y(cI(n,o)),f(),i()},_=()=>{h(),s(),window.clearTimeout(m.current)},S=()=>{m.current=window.setTimeout(_,500)};return P.useEffect(()=>()=>window.clearTimeout(m.current),[]),J.createElement(J.Fragment,null,J.createElement(Nae,{ref:l,active:c,onClick:()=>x(),style:{color:e}}),c&&J.createElement(ZC,null,J.createElement(uz,{onPointerUp:_}),J.createElement(Uae,{ref:u,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:M=>M.buttons===0&&S()},J.createElement(v,{color:g,onChange:r}))))}function Hae(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=kr();return J.createElement(Ms,{input:!0},J.createElement(Ks,null,t),J.createElement(zae,null,J.createElement(Gae,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),J.createElement(qC,{value:e,onChange:r,onUpdate:i})))}var Vae=st({component:Hae},Oae);function Wae(){const{label:n,displayValue:e,onUpdate:t,settings:r}=kr();return J.createElement(Ms,{input:!0},J.createElement(Ks,null,n),J.createElement(tE,{value:e,settings:r,onUpdate:t}))}var jae=st({component:Wae},yz(["x","y","z"]));const $ae=nt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Jae=nt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Xae({value:n,settings:e,onUpdate:t}){const r=P.useRef(),i=P.useRef(0),s=P.useRef(0),o=P.useRef(1),[a,l]=P.useState(!1),[u,c]=P.useState(!1),[f,h]=fz(),m=P.useRef(null),g=P.useRef(null);P.useLayoutEffect(()=>{if(a){const{top:j,left:G,width:N,height:$}=m.current.getBoundingClientRect();g.current.style.left=G+N/2+"px",g.current.style.top=j+$/2+"px"}},[a]);const{keys:[y,v],joystick:x}=e,_=x==="invertY"?1:-1,{[y]:{step:S},[v]:{step:M}}=e,C=sa("sizes","joystickWidth"),T=sa("sizes","joystickHeight"),R=parseFloat(C)*.8/2,b=parseFloat(T)*.8/2,B=P.useCallback(()=>{r.current||(c(!0),i.current&&h({x:i.current*R}),s.current&&h({y:s.current*-b}),r.current=window.setInterval(()=>{t(j=>{const G=S*i.current*o.current,N=_*M*s.current*o.current;return Array.isArray(j)?{[y]:j[0]+G,[v]:j[1]+N}:{[y]:j[y]+G,[v]:j[v]+N}})},16))},[R,b,t,h,S,M,y,v,_]),I=P.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,c(!1)},[]);P.useEffect(()=>{function j(G){o.current=K5(G)}return window.addEventListener("keydown",j),window.addEventListener("keyup",j),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",j),window.removeEventListener("keyup",j)}},[]);const k=km(({first:j,active:G,delta:[N,$],movement:[X,te]})=>{j&&l(!0);const O=Cl(X,-R,R),z=Cl(te,-b,b);i.current=Math.abs(X)>Math.abs(O)?Math.sign(X-O):0,s.current=Math.abs(te)>Math.abs(z)?Math.sign(z-te):0;let H=n[y],K=n[v];G?(i.current||(H+=N*S*o.current,h({x:O})),s.current||(K-=_*$*M*o.current,h({y:z})),i.current||s.current?B():I(),t({[y]:H,[v]:K})):(l(!1),i.current=0,s.current=0,h({x:0,y:0}),I())});return J.createElement($ae,Dn({ref:m},k()),a&&J.createElement(ZC,null,J.createElement(Jae,{ref:g,isOutOfBounds:u},J.createElement("div",null),J.createElement("span",{ref:f}))))}const Kae=nt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Yae(){const{label:n,displayValue:e,onUpdate:t,settings:r}=kr();return J.createElement(Ms,{input:!0},J.createElement(Ks,null,n),J.createElement(Kae,{withJoystick:!!r.joystick},r.joystick&&J.createElement(Xae,{value:e,settings:r,onUpdate:t}),J.createElement(tE,{value:e,settings:r,onUpdate:t})))}const Qae=["joystick"],Vz=yz(["x","y"]),qae=n=>{let{joystick:e=!0}=n,t=jt(n,Qae);const{value:r,settings:i}=Vz.normalize(t);return{value:r,settings:st(st({},i),{},{joystick:e})}};var Zae=st(st({component:Yae},Vz),{},{normalize:qae});const ele=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob | File].")}},tle=(n,e)=>typeof e=="object"&&"image"in e,nle=({image:n})=>({value:n});var rle=Object.freeze({__proto__:null,sanitize:ele,schema:tle,normalize:nle});const ile=nt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),sle=nt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),ole=nt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),ale=nt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),lle=nt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),ule=nt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function cle(){const{label:n,value:e,onUpdate:t,disabled:r}=kr(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=Uz(),u=P.useCallback(g=>{g.length&&t(g[0])},[t]),c=P.useCallback(g=>{g.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:h,isDragAccept:m}=Fz({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return J.createElement(Ms,{input:!0},J.createElement(Ks,null,n),J.createElement(ile,null,J.createElement(ole,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&J.createElement(ZC,null,J.createElement(uz,{onPointerUp:l,style:{cursor:"pointer"}}),J.createElement(ale,{ref:s,style:{backgroundImage:`url(${e})`}})),J.createElement(sle,f({isDragAccept:m}),J.createElement("input",h()),J.createElement(lle,null,m?"drop image":"click or drop")),J.createElement(ule,{onClick:c,disabled:!e})))}var fle=st({component:cle},rle);const fI=li().number(),dle=(n,e)=>li().array().length(2).every.number().test(n)&&li().schema({min:fI,max:fI}).test(e),Mv=n=>({min:n[0],max:n[1]}),Wz=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?Mv(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=st(st({},s),i);return[Cl(Number(o),e,Math.max(e,a)),Cl(Number(a),Math.min(t,o),t)]},hle=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=gz(Mv(n),{min:r,max:r}),s=[e,t],o=st(st({},i),{},{bounds:s});return{value:Wz(Mv(n),o,n),settings:o}};var ple=Object.freeze({__proto__:null,schema:dle,format:Mv,sanitize:Wz,normalize:hle});const mle=["value","bounds","onDrag"],gle=["bounds"],yle=nt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function vle(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=jt(n,mle);const o=P.useRef(null),a=P.useRef(null),l=P.useRef(null),u=P.useRef(0),c=sa("sizes","scrubberWidth"),f=km(({event:g,first:y,xy:[v],movement:[x],memo:_={}})=>{if(y){const{width:M,left:C}=o.current.getBoundingClientRect();u.current=M-parseFloat(c);const T=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;_.pos=xv((v-C)/M,t,r);const R=Math.abs(_.pos-e.min)-Math.abs(_.pos-e.max);_.key=R<0||R===0&&_.pos<=e.min?"min":"max",T&&(_.pos=e[_.key])}const S=_.pos+xv(x/u.current,0,r-t);return i({[_.key]:Wie(S,s[_.key])}),_}),h=`calc(${vv(e.min,t,r)} * (100% - ${c} - 8px) + 4px)`,m=`calc(${1-vv(e.max,t,r)} * (100% - ${c} - 8px) + 4px)`;return J.createElement(hz,Dn({ref:o},f()),J.createElement(dz,null,J.createElement(pz,{style:{left:h,right:m}})),J.createElement(fM,{position:"left",ref:a,style:{left:h}}),J.createElement(fM,{position:"right",ref:l,style:{right:m}}))}function xle(){const{label:n,displayValue:e,onUpdate:t,settings:r}=kr(),i=jt(r,gle);return J.createElement(J.Fragment,null,J.createElement(Ms,{input:!0},J.createElement(Ks,null,n),J.createElement(yle,null,J.createElement(vle,Dn({value:e},r,{onDrag:t})),J.createElement(tE,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var _le=st({component:xle},ple);const wle=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},Sle=["type","value"],Ale=["onChange","transient","onEditStart","onEditEnd"],Mle=function(){const e=Woe(joe(()=>({data:{}}))),t=wle();this.storeId=eie(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([c,f])=>{f.render&&a.some(h=>h.indexOf(c)===0)&&!f.render(this.get)&&l.push(c+".")});const u=[];return i.forEach(c=>{c in o&&o[c].__refCount>0&&l.every(f=>c.indexOf(f)===-1)&&(!o[c].render||o[c].render(this.get))&&u.push(c)}),u},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(u=>{if(u in l){const c=l[u];c.__refCount--,c.__refCount===0&&c.type in Vs&&delete l[u]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,f])=>{let h=u[c];if(h){const{type:m,value:g}=f,y=jt(f,Sle);m!==h.type?Ko(mn.INPUT_TYPE_OVERRIDE,m):((h.__refCount===0||a)&&Object.assign(h,y),h.__refCount++)}else u[c]=st(st({},f),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(o,a,l)=>{e.setState(u=>{const c=u.data;return LD(c[o],a,o,this,l),{data:c}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].settings=st(st({},u[o].settings),a),{data:u}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].disabled=a,{data:u}})},this.set=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,f])=>{try{LD(u[c],f,void 0,void 0,a)}catch{}}),{data:u}})},this.getInput=o=>{try{return this.getData()[o]}catch{Ko(mn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,st(st({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,st(st({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const u={};return Object.entries(o).forEach(([c,f])=>{if(c==="")return Ko(mn.EMPTY_KEY);let h=lE(a,c);if(f.type===Vs.FOLDER){const m=s(f.schema,h,l);Object.assign(u,m),h in r||(r[h]=f.settings)}else if(c in l)Ko(mn.DUPLICATE_KEYS,c,h,l[c].path);else{const m=lie(f,c,h,u);if(m){const{type:g,options:y,input:v}=m,{onChange:x,transient:_,onEditStart:S,onEditEnd:M}=y,C=jt(y,Ale);u[h]=st(st(st({type:g},C),v),{},{fromPanel:!0}),l[c]={path:h,onChange:x,transient:_,onEditStart:S,onEditEnd:M}}else Ko(mn.UNKNOWN_INPUT,h,f)}}),u};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},jz=new Mle,ble={collapsed:!1};function Cle(n,e){return{type:Vs.FOLDER,schema:n,settings:st(st({},ble),e)}}const dI=n=>"__levaInput"in n,Ele=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=Eae(i);(!r||s.toLowerCase().indexOf(r)>-1)&&Cae(t,o,{[s]:{__levaInput:!0,path:i}})}),t},Tle=["type","label","path","valueKey","value","settings","setValue","disabled"];function Ple(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,u=jt(n,Tle);const{displayValue:c,onChange:f,onUpdate:h}=cz({type:e,value:s,settings:o,setValue:a}),m=rc[e].component;return m?J.createElement(ez.Provider,{value:st({key:i,path:r,id:""+r,label:t,displayValue:c,value:s,onChange:f,onUpdate:h,settings:o,setValue:a,disabled:l},u)},J.createElement(Tie,{disabled:l},J.createElement(m,null))):(Ko(mn.NO_COMPONENT_FOR_TYPE,e,r),null)}const Rle=nt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Ble({onClick:n,settings:e,label:t}){const r=Lm();return J.createElement(Ms,null,J.createElement(Rle,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const Dle=nt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Ile=nt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Lle=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function kle(n){const{label:e,opts:t}=Lle(n),r=Lm();return J.createElement(Ms,{input:!!e},e&&J.createElement(Ks,null,e),J.createElement(Dle,null,Object.entries(t).map(([i,s])=>J.createElement(Ile,{key:i,onClick:()=>s(r.get)},i))))}const Fle=nt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),$z=100;function Ole(n,e){n.push(e),n.length>$z&&n.shift()}const Nle=P.forwardRef(function({initialValue:n},e){const t=sa("colors","highlight3"),r=sa("colors","elevation2"),i=sa("colors","highlight1"),[s,o]=P.useMemo(()=>[Vr(i).alpha(.4).toRgbString(),Vr(i).alpha(.1).toRgbString()],[i]),a=P.useRef([n]),l=P.useRef(n),u=P.useRef(n),c=P.useRef(),f=P.useCallback((g,y)=>{if(!g)return;const{width:v,height:x}=g,_=new Path2D,S=v/$z,M=x*.05;for(let R=0;R<a.current.length;R++){const b=vv(a.current[R],l.current,u.current),B=S*R,I=x-b*(x-M*2)-M;_.lineTo(B,I)}y.clearRect(0,0,v,x);const C=new Path2D(_);C.lineTo(S*(a.current.length+1),x),C.lineTo(0,x),C.lineTo(0,0);const T=y.createLinearGradient(0,0,0,x);T.addColorStop(0,s),T.addColorStop(1,o),y.fillStyle=T,y.fill(C),y.strokeStyle=r,y.lineJoin="round",y.lineWidth=14,y.stroke(_),y.strokeStyle=t,y.lineWidth=2,y.stroke(_)},[t,r,s,o]),[h,m]=Oie(f);return P.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(u.current===void 0||g>u.current)&&(u.current=g),Ole(a.current,g),c.current=requestAnimationFrame(()=>f(h.current,m.current))}}),[h,m,f]),P.useEffect(()=>()=>cancelAnimationFrame(c.current),[]),J.createElement(Fle,{ref:h})}),hI=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),zle=P.forwardRef(function({initialValue:n},e){const[t,r]=P.useState(hI(n));return P.useImperativeHandle(e,()=>({frame:i=>r(hI(i))}),[]),J.createElement("div",null,t)});function pI(n){return typeof n=="function"?n():n.current}function Ule({label:n,objectOrFn:e,settings:t}){const r=P.useRef(),i=P.useRef(pI(e));return P.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(pI(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),J.createElement(Ms,{input:!0},J.createElement(Ks,{align:"top"},n),t.graph?J.createElement(Nle,{ref:r,initialValue:i.current}):J.createElement(zle,{ref:r,initialValue:i.current}))}const Gle=["type","label","key"],Hle={[Vs.BUTTON]:Ble,[Vs.BUTTON_GROUP]:kle,[Vs.MONITOR]:Ule},Vle=J.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=zie(n);if(!e)return null;const{type:l,label:u,key:c}=e,f=jt(e,Gle);if(l in Vs){const h=Hle[l];return J.createElement(h,Dn({label:u,path:n},f))}return l in rc?J.createElement(Ple,Dn({key:s+n,type:l,label:u,storeId:s,path:n,valueKey:c,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):($re(mn.UNSUPPORTED_INPUT,l,n),null)});function Wle({toggle:n,toggled:e,name:t}){return J.createElement(bie,{onClick:()=>n()},J.createElement(eE,{toggled:e}),J.createElement("div",null,t))}const jle=({name:n,path:e,tree:t})=>{const r=Lm(),i=lE(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=P.useState(!s),u=P.useRef(null),c=sa("colors","folderWidgetColor"),f=sa("colors","folderTextColor");return P.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",o||c),u.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,c,f]),J.createElement(_v,{ref:u},J.createElement(Wle,{name:n,toggled:a,toggle:()=>l(h=>!h)}),J.createElement(Jz,{parent:i,tree:t,toggled:a}))},Jz=J.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Rae(s),l=Lm(),u=([f,h])=>{var m;return(dI(h)?(m=l.getInput(h.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(lE(r,f)).order)||0},c=Object.entries(i).sort((f,h)=>u(f)-u(h));return J.createElement(uM,{ref:o,isRoot:n,fill:e,flat:t},J.createElement(oz,{ref:a,isRoot:n,toggled:s},c.map(([f,h])=>dI(h)?J.createElement(Vle,{key:h.path,valueKey:h.valueKey,path:h.path}):J.createElement(jle,{key:f,name:f,path:r,tree:h}))))}),$le=nt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${lz}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),Xz=40,bv=nt("i",{$flexCenter:"",width:Xz,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Jle=nt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Xle=nt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${bv}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Kle=nt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Yle=nt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:Xz}}}}),Qle=J.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=P.useState(""),s=P.useMemo(()=>X5(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const u=l.currentTarget.value;e(!0),i(u)};return P.useEffect(()=>{s(r)},[r,s]),J.createElement(J.Fragment,null,J.createElement(Kle,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),J.createElement(bv,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function qle({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:u}){const[c,f]=P.useState(!1),h=P.useRef(null);P.useEffect(()=>{var g,y;c?(g=h.current)===null||g===void 0||g.focus():(y=h.current)===null||y===void 0||y.blur()},[c]);const m=km(({offset:[g,y],first:v,last:x})=>{e({x:g,y}),v&&t({x:g,y}),x&&r({x:g,y})},{filterTaps:!0,from:({offset:[g,y]})=>[(u==null?void 0:u.x)||g,(u==null?void 0:u.y)||y]});return P.useEffect(()=>{const g=y=>{y.key==="L"&&y.shiftKey&&y.metaKey&&f(v=>!v)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),J.createElement(J.Fragment,null,J.createElement(Jle,{mode:a?"drag":void 0},J.createElement(bv,{active:!s,onClick:()=>i()},J.createElement(eE,{toggled:s,width:12,height:8})),J.createElement(Yle,Dn({},a?m():{},{drag:a,filterEnabled:l}),o===void 0&&a?J.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},J.createElement("circle",{cx:"2",cy:"2",r:"2"}),J.createElement("circle",{cx:"14",cy:"2",r:"2"}),J.createElement("circle",{cx:"26",cy:"2",r:"2"}),J.createElement("circle",{cx:"2",cy:"12",r:"2"}),J.createElement("circle",{cx:"14",cy:"12",r:"2"}),J.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&J.createElement(bv,{active:c,onClick:()=>f(g=>!g)},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},J.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),J.createElement(Xle,{toggled:c},J.createElement(Qle,{ref:h,setFilter:n,toggle:i})))}const Zle=["store","hidden","theme","collapsed"];function eue(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=jt(n,Zle);const o=zz(()=>xie(r),[r]),[a,l]=P.useState(!i),u=typeof i=="object"?!i.collapsed:a,c=P.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:l,[i]);return!e||t?null:J.createElement(QC.Provider,{value:o},J.createElement(tue,Dn({store:e},s,{toggled:u,setToggle:c,rootClass:o.className})))}const tue=J.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:u})=>{var c,f;const h=Bae(n),[m,g]=P.useState(""),y=P.useMemo(()=>Ele(h,m),[h,m]),[v,x]=fz(),_=i||h.length>0,S=typeof o=="object"&&o.title||void 0,M=typeof o=="object"&&(c=o.drag)!==null&&c!==void 0?c:!0,C=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,T=typeof o=="object"&&o.position||void 0,R=typeof o=="object"&&o.onDrag||void 0,b=typeof o=="object"&&o.onDragStart||void 0,B=typeof o=="object"&&o.onDragEnd||void 0;return J.useEffect(()=>{x({x:T==null?void 0:T.x,y:T==null?void 0:T.y})},[T,x]),vie(),J.createElement(nz.Provider,{value:{hideCopyButton:a}},J.createElement($le,{ref:v,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:_?"block":"none"}},o&&J.createElement(qle,{onDrag:I=>{x(I),R==null||R(I)},onDragStart:I=>b==null?void 0:b(I),onDragEnd:I=>B==null?void 0:B(I),setFilter:g,toggle:I=>u(k=>I??!k),toggled:l,title:S,drag:M,filterEnabled:C,from:T}),_&&J.createElement(tz.Provider,{value:n},J.createElement(Jz,{isRoot:!0,fill:t,flat:r,tree:y,toggled:l}))))}),nue=["isRoot"];let Cv=!1,Tu=null;function Kz(n){let{isRoot:e=!1}=n,t=jt(n,nue);return P.useEffect(()=>(Cv=!0,!e&&Tu&&(Tu.remove(),Tu=null),()=>{e||(Cv=!1)}),[e]),J.createElement(eue,Dn({store:jz},t))}function rue(n){P.useEffect(()=>{n&&!Cv&&(Tu||(Tu=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Tu),cie(J.createElement(Kz,{isRoot:!0}),Tu))),Cv=!0)},[n])}function iue(n,e,t,r,i){let s,o,a,l,u;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?u=t:t&&("store"in t?(l=t,u=r):(a=t,Array.isArray(r)?u=r:(l=r,u=i)))):(s=n,Array.isArray(e)?u=e:(l=e,u=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:u||[]}}function sue(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:u}=iue(n,e,t,r,i),c=typeof o=="function",f=P.useRef(!1),h=P.useRef(!0),m=zz(()=>{f.current=!0;const k=typeof o=="function"?o():o;return s?{[s]:Cle(k,a)}:k},u),g=!(l!=null&&l.store);rue(g);const[y]=P.useState(()=>(l==null?void 0:l.store)||jz),[v,x]=P.useMemo(()=>y.getDataFromSchema(m),[y,m]),[_,S,M,C,T]=P.useMemo(()=>{const k=[],j=[],G={},N={},$={};return Object.values(x).forEach(({path:X,onChange:te,onEditStart:O,onEditEnd:z,transient:H})=>{k.push(X),te?(G[X]=te,H||j.push(X)):j.push(X),O&&(N[X]=O),z&&($[X]=z)}),[k,j,G,N,$]},[x]),R=P.useMemo(()=>y.orderPaths(_),[_,y]),b=Dae(y,S,v),B=P.useCallback(k=>{const j=Object.entries(k).reduce((G,[N,$])=>Object.assign(G,{[x[N].path]:$}),{});y.set(j,!1)},[y,x]),I=P.useCallback(k=>y.get(x[k].path),[y,x]);return P.useEffect(()=>{const k=!h.current&&f.current;return y.addData(v,k),h.current=!1,f.current=!1,()=>y.disposePaths(R)},[y,R,v]),P.useEffect(()=>{const k=[];return Object.entries(M).forEach(([j,G])=>{G(y.get(j),j,st({initial:!0,get:y.get},y.getInput(j)));const N=y.useStore.subscribe($=>{const X=$.data[j];return[X.disabled?void 0:X.value,X]},([$,X])=>G($,j,st({initial:!1,get:y.get},X)),{equalityFn:Im});k.push(N)}),()=>k.forEach(j=>j())},[y,M]),P.useEffect(()=>{const k=[];return Object.entries(C).forEach(([j,G])=>k.push(y.subscribeToEditStart(j,G))),Object.entries(T).forEach(([j,G])=>k.push(y.subscribeToEditEnd(j,G))),()=>k.forEach(j=>j())},[C,T,y]),c?[b,B,I]:b}wa($s.SELECT,nse);wa($s.IMAGE,fle);wa($s.NUMBER,$ie);wa($s.COLOR,Vae);wa($s.STRING,fse);wa($s.BOOLEAN,vse);wa($s.INTERVAL,_le);wa($s.VECTOR3D,jae);wa($s.VECTOR2D,Zae);const mI=n=>{let e;const t=new Set,r=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const f=e;e=u??typeof c!="object"?c:Object.assign({},e,c),t.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>{t.clear()}};return e=n(r,i,a),a},oue=n=>n?mI(n):mI;var Yz={exports:{}},Qz={},qz={exports:{}},Zz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=P;function aue(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var lue=typeof Object.is=="function"?Object.is:aue,uue=ud.useState,cue=ud.useEffect,fue=ud.useLayoutEffect,due=ud.useDebugValue;function hue(n,e){var t=e(),r=uue({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return fue(function(){i.value=t,i.getSnapshot=e,Nw(i)&&s({inst:i})},[n,t,e]),cue(function(){return Nw(i)&&s({inst:i}),n(function(){Nw(i)&&s({inst:i})})},[n]),due(t),t}function Nw(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!lue(n,t)}catch{return!0}}function pue(n,e){return e()}var mue=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pue:hue;Zz.useSyncExternalStore=ud.useSyncExternalStore!==void 0?ud.useSyncExternalStore:mue;qz.exports=Zz;var gue=qz.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=P,yue=gue;function vue(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var xue=typeof Object.is=="function"?Object.is:vue,_ue=yue.useSyncExternalStore,wue=k1.useRef,Sue=k1.useEffect,Aue=k1.useMemo,Mue=k1.useDebugValue;Qz.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=wue(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Aue(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return f=g}return f=m}if(g=f,xue(c,m))return g;var y=r(m);return i!==void 0&&i(g,y)?g:(c=m,f=y)}var u=!1,c,f,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,r,i]);var a=_ue(n,s[0],s[1]);return Sue(function(){o.hasValue=!0,o.value=a},[a]),Mue(a),a};Yz.exports=Qz;var bue=Yz.exports;const Cue=sc(bue),{useSyncExternalStoreWithSelector:Eue}=Cue;function Tue(n,e=n.getState,t){const r=Eue(n.subscribe,n.getState,n.getServerState||n.getState,e,t);return P.useDebugValue(r),r}const gI=n=>{const e=typeof n=="function"?oue(n):n,t=(r,i)=>Tue(e,r,i);return Object.assign(t,e),t},Pue=n=>n?gI(n):gI;function e6(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,e==null?void 0:e.reviver),a=(s=t.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:i=>t.removeItem(i)}}const $p=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return $p(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return $p(r)(t)}}}},Rue=(n,e)=>(t,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,x)=>({...x,...v}),...e},o=!1;const a=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return n((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...v)},r,i);const c=$p(s.serialize),f=()=>{const v=s.partialize({...r()});let x;const _=c({state:v,version:s.version}).then(S=>u.setItem(s.name,S)).catch(S=>{x=S});if(x)throw x;return _},h=i.setState;i.setState=(v,x)=>{h(v,x),f()};const m=n((...v)=>{t(...v),f()},r,i);let g;const y=()=>{var v;if(!u)return;o=!1,a.forEach(_=>_(r()));const x=((v=s.onRehydrateStorage)==null?void 0:v.call(s,r()))||void 0;return $p(u.getItem.bind(u))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var S;return g=s.merge(_,(S=r())!=null?S:m),t(g,!0),f()}).then(()=>{x==null||x(g,void 0),o=!0,l.forEach(_=>_(g))}).catch(_=>{x==null||x(void 0,_)})};return i.persist={setOptions:v=>{s={...s,...v},v.getStorage&&(u=v.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},y(),g||m},Bue=(n,e)=>(t,r,i)=>{let s={storage:e6(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return n((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...y)},r,i);const c=()=>{const y=s.partialize({...r()});return u.setItem(s.name,{state:y,version:s.version})},f=i.setState;i.setState=(y,v)=>{f(y,v),c()};const h=n((...y)=>{t(...y),c()},r,i);let m;const g=()=>{var y,v;if(!u)return;o=!1,a.forEach(_=>{var S;return _((S=r())!=null?S:h)});const x=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(y=r())!=null?y:h))||void 0;return $p(u.getItem.bind(u))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var S;return m=s.merge(_,(S=r())!=null?S:h),t(m,!0),c()}).then(()=>{x==null||x(m,void 0),m=r(),o=!0,l.forEach(_=>_(m))}).catch(_=>{x==null||x(void 0,_)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},s.skipHydration||g(),m||h},Due=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?Rue(n,e):Bue(n,e),Iue=Due,Ul=Pue(Iue(n=>({color:"#B922E2",page:"HOME",skillDisplayed:"Threejs / React Three Fiber",contentCard:"about",visibility:!0,setVisibility:e=>n({visibility:e}),setContentCard:e=>n({contentCard:e}),setSkillDisplayed:e=>n({skillDisplayed:e}),setColor:e=>n({color:e}),setPage:e=>n({page:e})}),{name:"app-storage",storage:e6(()=>localStorage)})),yI=.08;let vI=0,xI=0,Z0=0,ey=0;const Lue=()=>{const{color:n}=Ul(),e=P.useRef(null),[t,r]=P.useState(!1),i=()=>{let s=vI-Z0,o=xI-ey;Z0=Z0+s*yI,ey=ey+o*yI,e.current.style.left=`${Z0}px`,e.current.style.top=`${ey}px`,requestAnimationFrame(i)};return P.useEffect(()=>{const s=document.addEventListener("mousemove",function(a){vI=a.pageX,xI=a.pageY}),o=requestAnimationFrame(i);return()=>{document.removeEventListener("mousemove",s),cancelAnimationFrame(o)}},[]),P.useEffect(()=>{const s=document.addEventListener("mouseover",function(o){o.target.tagName.toLowerCase()==="button"||o.target.parentElement.tagName.toLowerCase()==="button"||o.target.tagName.toLowerCase()==="input"||o.target.tagName.toLowerCase()==="textarea"?r(!0):r(!1)});return()=>{document.removeEventListener("mouseover",s)}},[]),P.useEffect(()=>{e.current&&(e.current.style.backgroundColor=n)},[n]),oe(Fv,{children:oe("div",{className:`z-50 fixed -translate-x-1/2 -translate-y-1/2 rounded-full pointer-events-none transition-transform
        ${t?"bg-transparent border-2 border-indigo-900 w-5 h-5":"bg-indigo-500 w-3 h-3"}`,ref:e})})};function kue(n,{whileHover:e,onHoverStart:t,onHoverEnd:r,onPointerOver:i,onPointerOut:s},o){return n||!o||!(e||t||r)?{}:{onPointerOver:l=>{var u;(u=o.animationState)===null||u===void 0||u.setActive("whileHover",!0),i&&i(l)},onPointerOut:l=>{var u;(u=o.animationState)===null||u===void 0||u.setActive("whileHover",!1),s&&s(l)}}}function Fue(n,{whileTap:e,onTapStart:t,onTap:r,onTapCancel:i,onPointerDown:s},o){const a=r||t||i||e,l=P.useRef(!1),u=P.useRef(null);if(n||!o||!a)return{};function c(){var g;(g=u.current)===null||g===void 0||g.call(u),u.current=null}function f(){var g;return c(),l.current=!1,(g=o.animationState)===null||g===void 0||g.setActive("whileTap",!1),!OC()}function h(g,y){f()&&(r==null||r(g,y))}function m(g,y){f()&&(i==null||i(g,y))}return{onPointerDown:pN((g,y)=>{var v;if(c(),l.current)return;l.current=!0;const x={passive:!(t||r||i||s)};u.current=ra(Hs(window,"pointerup",h,x),Hs(window,"pointercancel",m,x)),(v=o.animationState)===null||v===void 0||v.setActive("whileTap",!0),s==null||s(g),t==null||t(g,y)})}}const Oue=(n,e,t,r,i,s)=>{const o=Nue(e);return P.createElement(n,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ref:t},aN(e,!1,!1)),o),{onUpdate:e.onInstanceUpdate}),kue(i,e,s)),Fue(i,e,s)))};function Nue(n){return P.useMemo(()=>{const e={};for(const t in n){const r=n[t];Rn(r)?e[t]=r.get():Array.isArray(r)&&r.includes(Rn)&&(e[t]=r.map(ep))}return e},[])}const t6=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new F(e)),r[n].setComponent(t,i)},zue=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new Ti(e));const s=r[n];s[t]=i},_I=n=>(e,t)=>{e[n]===void 0&&(e[n]=new Me(t)),e[n].set(t)},zw=t6("scale",1),Uw=t6("position",0),Gw=zue("rotation",0),wI={x:Uw(0),y:Uw(1),z:Uw(2),scale:(n,e)=>{n.scale===void 0&&(n.scale=new F(1)),n.scale.set(e,e,e)},scaleX:zw(0),scaleY:zw(1),scaleZ:zw(2),rotateX:Gw("x"),rotateY:Gw("y"),rotateZ:Gw("z"),color:_I("color"),specular:_I("specular")};function Uue(n,e,t){wI[e]?wI[e](n,t[e]):(e==="opacity"&&!n.transparent&&(n.transparent=!0),n[e]=t[e])}const uE=(n,e)=>t=>r=>{const i=r[n];return i?i[t]:e},Hw=uE("position",0),ty=uE("scale",1),Vw=uE("rotation",0),SI={x:Hw("x"),y:Hw("y"),z:Hw("z"),scale:ty("x"),scaleX:ty("x"),scaleY:ty("y"),scaleZ:ty("z"),rotateX:Vw("x"),rotateY:Vw("y"),rotateZ:Vw("z")};function Gue(n){if(n!==void 0)return n instanceof Me?n.getStyle():n}function Hue(n,e){return SI[e]?SI[e](n):Gue(n[e])||0}const Vue=["x","y","z"],AI={"position-x":"x","position-y":"y","position-z":"z","rotation-x":"rotateX","rotation-y":"rotateY","rotation-z":"rotateZ","scale-x":"scaleX","scale-y":"scaleY","scale-z":"scaleZ"},n6=(n,e)=>{const t={};for(const r in n){const i=n[r];if(Rn(i)||Rn(e[r]))t[AI[r]||r]=i;else if(Array.isArray(i))for(let s=0;s<i.length;s++){const o=i[s];if(Rn(o)||Array.isArray(e[r])&&Rn(e[r][s])){const a=AI[r+"-"+Vue[s]];t[a]=o}}}return t},Wue=()=>({});class jue extends v5{constructor(){super(...arguments),this.type="three"}readValueFromInstance(e,t){return Hue(e,t)}getBaseTargetFromProps(){}sortInstanceNodePosition(e,t){return e.id-t.id}makeTargetAnimatableFromInstance(e){var{transition:t,transitionEnd:r}=e,i=Kse(e,["transition","transitionEnd"]);return ZN(this,i,{}),Object.assign(Object.assign({},i),{transition:t,transitionEnd:r})}removeValueFromRenderState(){}measureInstanceViewportBox(){return Fn()}scrapeMotionValuesFromProps(e,t){return n6(e,t)}build(e,t){for(const r in t)e[r]=t[r]}renderInstance(e,t){for(const r in t)Uue(e,r,t)}}const $ue=(n,e)=>new jue(e,{}),Jue=FC({scrapeMotionValuesFromProps:n6,createRenderState:Wue}),Xue=Object.assign({},e5);function MI(n){return q4({Component:n,preloadedFeatures:Xue,useRender:Oue,useVisualState:Jue,createVisualElement:$ue})}const Ww=new Map,bI=new Proxy(MI,{get:(n,e)=>(!Ww.has(e)&&Ww.set(e,MI(e)),Ww.get(e))}),MM={type:"spring",mass:5,stiffness:500,damping:50,restDelta:1e-4};function Kue(n){const{animation:e}=n,{headFollow:t,cursorFollow:r,wireframe:i}=sue({headFollow:!1,cursorFollow:!1,wireframe:!1}),s=P.useRef(),{nodes:o,materials:a}=x1("models/Avatar.glb"),{animations:l}=vu("animations/Typing.fbx"),{animations:u}=vu("animations/Boxe.fbx"),{animations:c}=vu("animations/Standing Greeting.fbx"),{animations:f}=vu("animations/Standing Idle.fbx"),{animations:h}=vu("animations/Falling Idle.fbx");u[0].name="Boxe",c[0].name="Wave",l[0].name="Typing",f[0].name="Standing",h[0].name="Falling";const{actions:m}=VQ([c[0],f[0],h[0],l[0],u[0]],s);return Ol(g=>{if(t&&s.current.getObjectByName("Head").lookAt(g.camera.position),r){const y=new F(g.mouse.x,g.mouse.y,1);s.current.getObjectByName("Spine2").lookAt(y)}}),P.useEffect(()=>{var g;return(g=m[e])==null||g.reset().fadeIn(.5).play(),()=>{var y;(y=m[e])==null||y.reset().fadeOut(.5)}},[e]),P.useEffect(()=>{Object.values(a).forEach(g=>{g.wireframe=i})},[i]),oe("group",{...n,ref:s,dispose:null,scale:2.5,children:ut("group",{children:[oe("primitive",{object:o.Hips}),oe("skinnedMesh",{geometry:o.Wolf3D_Body.geometry,material:a.Wolf3D_Body,skeleton:o.Wolf3D_Body.skeleton}),oe("skinnedMesh",{geometry:o.Wolf3D_Outfit_Bottom.geometry,material:a.Wolf3D_Outfit_Bottom,skeleton:o.Wolf3D_Outfit_Bottom.skeleton}),oe("skinnedMesh",{geometry:o.Wolf3D_Outfit_Footwear.geometry,material:a.Wolf3D_Outfit_Footwear,skeleton:o.Wolf3D_Outfit_Footwear.skeleton}),oe("skinnedMesh",{geometry:o.Wolf3D_Outfit_Top.geometry,material:a.Wolf3D_Outfit_Top,skeleton:o.Wolf3D_Outfit_Top.skeleton}),oe("skinnedMesh",{geometry:o.Wolf3D_Hair.geometry,material:a.Wolf3D_Hair,skeleton:o.Wolf3D_Hair.skeleton}),oe("skinnedMesh",{name:"EyeLeft",geometry:o.EyeLeft.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeLeft.skeleton,morphTargetDictionary:o.EyeLeft.morphTargetDictionary,morphTargetInfluences:o.EyeLeft.morphTargetInfluences}),oe("skinnedMesh",{name:"EyeRight",geometry:o.EyeRight.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeRight.skeleton,morphTargetDictionary:o.EyeRight.morphTargetDictionary,morphTargetInfluences:o.EyeRight.morphTargetInfluences}),oe("skinnedMesh",{name:"Wolf3D_Head",geometry:o.Wolf3D_Head.geometry,material:a.Wolf3D_Skin,skeleton:o.Wolf3D_Head.skeleton,morphTargetDictionary:o.Wolf3D_Head.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Head.morphTargetInfluences}),oe("skinnedMesh",{name:"Wolf3D_Teeth",geometry:o.Wolf3D_Teeth.geometry,material:a.Wolf3D_Teeth,skeleton:o.Wolf3D_Teeth.skeleton,morphTargetDictionary:o.Wolf3D_Teeth.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Teeth.morphTargetInfluences})]})})}x1.preload("models/Avatar.glb");const Yue=n=>{const{visibility:e}=Ul(),{section:t,menuOpened:r}=n,{viewport:i}=sd(),s=qB(),o=qB();return P.useEffect(()=>{nD(s,r?-5:0,{...MM}),nD(o,r?5:0,{...MM})},[r]),Ol(a=>{a.camera.position.x=s.get(),a.camera.lookAt(o.get(),0,0)}),oe(Fv,{children:ut(bI.group,{animate:{y:t===1?-i.height*1.3:-2.5},children:[oe("ambientLight",{intensity:.5}),oe(WQ,{opacity:1,scale:20,blur:1,far:10,resolution:256,color:"#000000"}),oe(bI.group,{"rotation-y":6.35,children:e===!0?oe(Kue,{animation:t===0?"Wave":"Boxe"}):null})]})})},CI=[{title:"Threejs / React Three Fiber",level:75,desc:"Tenho conhecimento suficiente para criar aplicações parcial ou completamente baseada em modelos 3D, além de compor cenários com diferentes modelos, criar a interação do usuário com os modelos 3D e habilitar customizações."},{title:"React",level:80,desc:"Tenho conhecimento dos fundamentos do React e estou familiarizado com o funcionamente desse framework incrível! tenho experiência em manejar os diversos hooks que a ferramenta disponibiliza e com isso eu consigo criar projetos incríveis."},{title:"Typescript",level:60,desc:"O Typescript é uma ferramenta poderosa, com os tipos é possível criar um software robusto e garantir a qualidade e escalabilidade do código, apesar de ainda estar aprimorando meu conhecimento nessa ferramenta, já me sinto seguro em utilizá-la."},{title:"Nodejs",level:30,desc:"O NodeJS é uma ferramenta indispensável de se ter domínio, estou trabalhando para aprimorar minhas habilidades com essa tecnologia, porém já tenho conhecimento suficiente para criar APIS simples no back-end usando NodeJS."}],EI=[{title:"Português",level:95},{title:"Inglês",level:35},{title:"Mineirês",level:100}],Que=[{url:"images/projeto1.png",desc:"Este projeto se trata de um jogo criado com o ecosistema ThreeJS, o objetivo é coletar as moedas e acumular pontos enquanto se desvia dos obstáculos que te jogam pra fora da plataforma!",linkGithub:"https://github.com/Ryanzitto/THREE-IDK",linkDeploy:"https://ryanzitto.github.io/THREE-IDK/",techs:"THREEJS - R3F - REACT - TAILWIND - ZUSTAND - TYPESCRIPT - JEST",id:1,name:"IDK GAME"},{url:"images/projeto2.png",desc:"Este projeto se trata um site feito para fãs de rick and morty para revisitar conteúdos relacionados a série, podendo-se obter informações relacionada a personagens, locais, e epsódios.",linkGithub:"https://github.com/Ryanzitto/Rickandmorty",linkDeploy:"https://rickandmorty-7gm6b9xrx-ryanzitto.vercel.app/",techs:"REACT - NEXTJS - TAILWIND - REDUX - TYPESCRIPT - JEST",id:2,name:"R-AND-M"}],F1=n=>{const{children:e}=n;return oe(Gt.section,{className:"h-screen w-screen max-w-screen-2xl mx-auto flex flex-col items-center justify-center",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0,transition:{duration:1,delay:.6}},children:e})},que=()=>{const{color:n}=Ul(),e=P.useRef(null),t=["REACT","NEXTJS","TYPESCRIPT","R3F","REDUX","ZUSTAND","AXIOS","TAILWIND","STYLED-COMPONENTS","JEST","RTL"],r=t.map(()=>P.useRef(null));return P.useEffect(()=>{e.current&&(e.current.style.backgroundImage=`linear-gradient(120deg, ${n}, #1b1b1b)`,e.current.style.webkitBackgroundClip="text",e.current.style.color="transparent"),r.forEach(i=>{i.current&&(i.current.style.color=n)})},[n,r]),oe(F1,{children:oe("div",{className:"flex flex-col w-screen h-screen justify-center items-center",children:ut("div",{className:"flex lg:flex-row flex-col w-full h-full justify-center items-center",children:[oe("div",{className:"lg:w-1/2 w-full lg:h-full h-1/2 flex justify-center items-center lg:pl-10 text-zinc-800",children:ut(Gt.div,{"data-testid":"div",whileInView:"visible",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:0}}},className:"w-full h-full flex justify-center items-center lg:items-start flex-col gap-2",children:[oe(Gt.header,{initial:{x:-100},whileInView:{x:0},transition:{duration:1,delay:0},className:"",children:ut("div",{className:"flex flex-col justify-center text-sm font-black md:text-xl font-sofia ",children:[oe("span",{children:"👋 OLÁ, EU SOU"}),oe("span",{children:"RYAN HENRIQUE"})]})}),ut("div",{className:"w-full flex flex-col justify-center items-center lg:items-start text-center",children:[ut(Gt.div,{initial:{x:-100},whileInView:{x:0},transition:{duration:1,delay:0},className:"w-full flex flex-col justify-center items-center lg:items-start text-4xl md:text-5xl font-black lg:mt-4 min-[1350px]:text-6xl",children:[oe("div",{className:"italic",children:oe("h1",{className:"",children:"DESENVOLVEDOR"})}),ut("div",{className:"flex gap-2 md:gap-3 2xl:gap-6",children:[oe("div",{className:"italic",children:oe("h1",{className:"",children:"WEB"})}),oe("div",{children:oe("h1",{ref:e,className:"",children:"FRONT-END"})})]})]}),ut(Gt.div,{"data-testid":"about1",initial:{x:-100},whileInView:{x:0},transition:{duration:1,delay:0},className:"backdrop-blur-none flex font-sofia flex-col lg:gap-4 overflow-auto w-[80%] min-[1350px]:w-[90%] text-md min-[400px]:text-md min-[450px]:mt-4 md:text-lg lg:text-left font-bold min-[1350px]:text-lg",children:[ut("p",{children:["Sou um jovem desenvolvedor muito criativo, interessado em criar experiências de usuario incríveis, agradáveis, escaláveis ",oe("br",{}),"e performáticas. Busco o crescimento profissional e pessoal."]}),ut("p",{children:["Possuo habilidade de adaptabilidade, comunicação clara,",oe("br",{})," e uma intensa vontade de aprender."]}),oe("p",{className:"lg:text-left",children:"Que tal trabalharmos juntos? 😄"})]})]})]})}),oe("div",{className:"lg:w-1/2 w-full lg:h-full h-1/2 flex justify-center items-center lg:pr-14",children:oe(Gt.div,{whileInView:"visible",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:0}}},className:"w-full h-full flex flex-col items-center justify-start lg:justify-center",children:ut(Gt.div,{initial:{opacity:0,x:100},whileInView:{opacity:1,x:0},transition:{duration:1,delay:0},className:"text-zinc-800 font-bold text-center md:text-center text-md flex flex-col items-center gap-6 lg:gap-0 lg:items-end",children:[oe("p",{"data-testid":"about2",className:"w-[80%] font-sofia min-[1350px]:w-[90%] text-md min-[400px]:text-md  md:text-lg lg:text-right min-[1350px]:text-lg",children:"Há cerca de 10 meses eu venho me dedicando aos estudos de programação 🧑‍💻, sempre aplicando em projetos pessoais os conceitos aprendidos. possuo habilidades no Frontend e conhecimentos básicos de Backend."}),oe("p",{className:"font-sofia mt-4 w-[80%] min-[1350px]:w-[90%] text-md min-[400px]:text-md  md:text-lg lg:text-right min-[1350px]:text-lg",children:"Minha Stack é baseada no React então uso tecnologias como:"}),oe("div",{className:"max-w-[500px] flex justify-center lg:justify-end items-center gap-2 flex-wrap break-words font-sofia mt-4 w-[80%] min-[1350px]:w-[90%] text-md min-[400px]:text-md  md:text-lg lg:text-right min-[1350px]:text-lg",children:t.map((i,s)=>oe("span",{className:"font-black hover:opacity-60",ref:r[s],children:i},s))})]})})})]})})})},Zue=()=>{const{color:n,skillDisplayed:e,setSkillDisplayed:t}=Ul(),r=CI.map(()=>P.useRef(null)),i=EI.map(()=>P.useRef(null)),s=o=>{t(e===o?"":o)};return P.useEffect(()=>{r.forEach(o=>{o.current&&(o.current.style.backgroundColor=n)}),i.forEach(o=>{o.current&&(o.current.style.backgroundColor=n)})},[n,r,i]),oe(F1,{children:oe("div",{className:"h-full flex w-full gap-20 lg:gap-0 flex-col justify-center items-center text-zinc-800",children:oe("div",{className:"flex w-full h-full flex-col justify-center items-center",children:ut("div",{className:"flex flex-col lg:flex-row w-full h-full justify-center items-center gap-10 lg:gap-0",children:[ut(Gt.div,{whileInView:"visible",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:0}}},className:"w-1/2 flex flex-col justify-start items-center",onMouseLeave:()=>t(""),children:[oe("h2",{"data-testid":"HABILIDADES",className:"font-black text-2xl md:text-4xl",children:"HABILIDADES"}),oe("div",{className:"mt-8 space-y-4",children:CI.map((o,a)=>ut("div",{className:"w-64",children:[oe(Gt.h3,{onClick:()=>s(o.title),className:"text-xl font-sofia font-bold cursor-pointer transition-colors hover:text-zinc-800/60",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:.2}}},children:o.title}),oe("div",{className:"h-2 w-full bg-gray-300 rounded-full mt-2 flex justify-start",children:oe(Gt.div,{className:"h-full rounded-full",ref:r[a],style:{width:`${o.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:.2}}}})}),oe(co,{children:e===o.title&&oe(Gt.div,{initial:{opacity:0,y:50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,delay:0},className:"p-4 w-full bg-zinc-700 backdrop-blur-sm mt-4 rounded-md border border-slate-600",children:oe("p",{className:"text-xs font-bold font-sofia text-white/90",children:o.desc})})})]},a))})]}),ut(Gt.div,{whileInView:"visible",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:0}}},className:"w-1/2 flex flex-col justify-center items-center",children:[oe("h2",{className:"text-2xl font-black md:text-4xl",children:"LÍNGUAS"}),oe("div",{className:" mt-8 space-y-4 font-sofia",children:EI.map((o,a)=>ut("div",{className:"w-64",children:[oe(Gt.h3,{className:"text-xl font-bold",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:.2}}},children:o.title}),oe("div",{className:"h-2 w-full bg-gray-300 rounded-full mt-2",children:oe(Gt.div,{ref:i[a],className:"h-full rounded-full ",style:{width:`${o.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:.2}}}})})]},a))})]})]})})})})},ece=()=>oe(F1,{children:ut(Gt.div,{whileInView:"visible",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:0}}},className:"flex flex-col w-full h-full justify-center items-center",children:[oe("div",{className:"w-full h-16 flex justify-center items-center text-zinc-800 text-2xl font-black font-sofia",children:oe("span",{"data-testid":"projetos",children:"PROJETOS"})}),oe("div",{className:"h-full w-[80%] flex justify-center items-center flex p-8 gap-6 flex-wrap overflow-y-auto lg:overflow-hidden",children:Que.map(n=>oe(nce,{linkGithub:n.linkGithub,linkDeploy:n.linkDeploy,url:n.url,desc:n.desc,name:n.name},n.id))})]})}),tce=()=>{const{color:n}=Ul(),e=P.useRef(null),t=P.useRef(null),r=P.useRef(null),i=P.useRef(null),[s,o]=P.useState(!1),[a,l]=P.useState(!1),u=()=>{l(!a)};P.useEffect(()=>{e.current&&(e.current.style.color=n),t.current&&(t.current.style.color=n),r.current&&(r.current.style.color=n),i.current&&(i.current.style.color=n)},[n,s]);const c=window.innerWidth;return oe(F1,{children:ut("div",{className:"flex flex-col-reverse lg:flex-row w-full h-screen",children:[ut("div",{className:"w-full h-1/2 lg:w-1/2 lg:h-full flex justify-center items-end relative",children:[oe(Gt.img,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0,transition:{duration:1,delay:.6}},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),src:"images/foto.png",className:"grayscale w-[400px] lg:w-[600px] absolute z-10"}),ut("div",{className:"absolute w-full h-full flex flex-col justify-center items-center pt-10 xl:pt-0",children:[oe(co,{children:s===!0&&oe(Gt.svg,{initial:{x:0,opacity:0},animate:{x:c>1024?160:120,opacity:1,rotate:370},exit:{x:0,opacity:0,rotate:0},transition:{duration:1,delay:.2},height:"1499",viewBox:".15 .13 799.7 479.69",width:"2500",xmlns:"http://www.w3.org/2000/svg",className:"w-16 h-16",children:oe("path",{d:"m400 .13c-106.63 0-173.27 53.3-199.93 159.89 39.99-53.3 86.64-73.28 139.95-59.96 30.42 7.6 52.16 29.67 76.23 54.09 39.2 39.78 84.57 85.82 183.68 85.82 106.62 0 173.27-53.3 199.92-159.9-39.98 53.3-86.63 73.29-139.95 59.97-30.41-7.6-52.15-29.67-76.22-54.09-39.2-39.78-84.58-85.82-183.68-85.82zm-199.93 239.84c-106.62 0-173.27 53.3-199.92 159.9 39.98-53.3 86.63-73.29 139.95-59.96 30.41 7.61 52.15 29.67 76.22 54.08 39.2 39.78 84.58 85.83 183.68 85.83 106.63 0 173.27-53.3 199.93-159.9-39.99 53.3-86.64 73.29-139.95 59.96-30.42-7.59-52.16-29.67-76.23-54.08-39.2-39.78-84.57-85.83-183.68-85.83z",fill:n})})}),oe(co,{children:s===!0&&oe(Gt.svg,{initial:{x:0,opacity:0},animate:{x:c>1024?-90:-80,opacity:1,rotate:360},exit:{x:0,opacity:0,rotate:0},transition:{duration:1,delay:.4},height:"2500",viewBox:"175.7 78 490.6 436.9",width:"2194",xmlns:"http://www.w3.org/2000/svg",className:"w-16 h-16",children:ut("g",{fill:n,children:[oe("path",{d:"m666.3 296.5c0-32.5-40.7-63.3-103.1-82.4 14.4-63.6 8-114.2-20.2-130.4-6.5-3.8-14.1-5.6-22.4-5.6v22.3c4.6 0 8.3.9 11.4 2.6 13.6 7.8 19.5 37.5 14.9 75.7-1.1 9.4-2.9 19.3-5.1 29.4-19.6-4.8-41-8.5-63.5-10.9-13.5-18.5-27.5-35.3-41.6-50 32.6-30.3 63.2-46.9 84-46.9v-22.3c-27.5 0-63.5 19.6-99.9 53.6-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7 0 51.4 16.5 84 46.6-14 14.7-28 31.4-41.3 49.9-22.6 2.4-44 6.1-63.6 11-2.3-10-4-19.7-5.2-29-4.7-38.2 1.1-67.9 14.6-75.8 3-1.8 6.9-2.6 11.5-2.6v-22.3c-8.4 0-16 1.8-22.6 5.6-28.1 16.2-34.4 66.7-19.9 130.1-62.2 19.2-102.7 49.9-102.7 82.3 0 32.5 40.7 63.3 103.1 82.4-14.4 63.6-8 114.2 20.2 130.4 6.5 3.8 14.1 5.6 22.5 5.6 27.5 0 63.5-19.6 99.9-53.6 36.4 33.8 72.4 53.2 99.9 53.2 8.4 0 16-1.8 22.6-5.6 28.1-16.2 34.4-66.7 19.9-130.1 62-19.1 102.5-49.9 102.5-82.3zm-130.2-66.7c-3.7 12.9-8.3 26.2-13.5 39.5-4.1-8-8.4-16-13.1-24-4.6-8-9.5-15.8-14.4-23.4 14.2 2.1 27.9 4.7 41 7.9zm-45.8 106.5c-7.8 13.5-15.8 26.3-24.1 38.2-14.9 1.3-30 2-45.2 2-15.1 0-30.2-.7-45-1.9-8.3-11.9-16.4-24.6-24.2-38-7.6-13.1-14.5-26.4-20.8-39.8 6.2-13.4 13.2-26.8 20.7-39.9 7.8-13.5 15.8-26.3 24.1-38.2 14.9-1.3 30-2 45.2-2 15.1 0 30.2.7 45 1.9 8.3 11.9 16.4 24.6 24.2 38 7.6 13.1 14.5 26.4 20.8 39.8-6.3 13.4-13.2 26.8-20.7 39.9zm32.3-13c5.4 13.4 10 26.8 13.8 39.8-13.1 3.2-26.9 5.9-41.2 8 4.9-7.7 9.8-15.6 14.4-23.7 4.6-8 8.9-16.1 13-24.1zm-101.4 106.7c-9.3-9.6-18.6-20.3-27.8-32 9 .4 18.2.7 27.5.7 9.4 0 18.7-.2 27.8-.7-9 11.7-18.3 22.4-27.5 32zm-74.4-58.9c-14.2-2.1-27.9-4.7-41-7.9 3.7-12.9 8.3-26.2 13.5-39.5 4.1 8 8.4 16 13.1 24s9.5 15.8 14.4 23.4zm73.9-208.1c9.3 9.6 18.6 20.3 27.8 32-9-.4-18.2-.7-27.5-.7-9.4 0-18.7.2-27.8.7 9-11.7 18.3-22.4 27.5-32zm-74 58.9c-4.9 7.7-9.8 15.6-14.4 23.7-4.6 8-8.9 16-13 24-5.4-13.4-10-26.8-13.8-39.8 13.1-3.1 26.9-5.8 41.2-7.9zm-90.5 125.2c-35.4-15.1-58.3-34.9-58.3-50.6s22.9-35.6 58.3-50.6c8.6-3.7 18-7 27.7-10.1 5.7 19.6 13.2 40 22.5 60.9-9.2 20.8-16.6 41.1-22.2 60.6-9.9-3.1-19.3-6.5-28-10.2zm53.8 142.9c-13.6-7.8-19.5-37.5-14.9-75.7 1.1-9.4 2.9-19.3 5.1-29.4 19.6 4.8 41 8.5 63.5 10.9 13.5 18.5 27.5 35.3 41.6 50-32.6 30.3-63.2 46.9-84 46.9-4.5-.1-8.3-1-11.3-2.7zm237.2-76.2c4.7 38.2-1.1 67.9-14.6 75.8-3 1.8-6.9 2.6-11.5 2.6-20.7 0-51.4-16.5-84-46.6 14-14.7 28-31.4 41.3-49.9 22.6-2.4 44-6.1 63.6-11 2.3 10.1 4.1 19.8 5.2 29.1zm38.5-66.7c-8.6 3.7-18 7-27.7 10.1-5.7-19.6-13.2-40-22.5-60.9 9.2-20.8 16.6-41.1 22.2-60.6 9.9 3.1 19.3 6.5 28.1 10.2 35.4 15.1 58.3 34.9 58.3 50.6-.1 15.7-23 35.6-58.4 50.6z"}),oe("circle",{cx:"420.9",cy:"296.5",r:"45.7"})]})})}),oe(co,{children:s===!0&&ut(Gt.svg,{animate:{x:c>1024?230:180,opacity:1,rotate:370},exit:{x:0,opacity:0,rotate:0},transition:{duration:1,delay:.6},xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 1052 1052",className:"w-16 h-16",children:[oe("path",{fill:n,d:"M0 0h1052v1052H0z"}),oe("path",{d:"M965.9 801.1c-7.7-48-39-88.3-131.7-125.9-32.2-14.8-68.1-25.399-78.8-49.8-3.8-14.2-4.3-22.2-1.9-30.8 6.9-27.9 40.2-36.6 66.6-28.6 17 5.7 33.1 18.801 42.8 39.7 45.4-29.399 45.3-29.2 77-49.399-11.6-18-17.8-26.301-25.4-34-27.3-30.5-64.5-46.2-124-45-10.3 1.3-20.699 2.699-31 4-29.699 7.5-58 23.1-74.6 44-49.8 56.5-35.6 155.399 25 196.1 59.7 44.8 147.4 55 158.6 96.9 10.9 51.3-37.699 67.899-86 62-35.6-7.4-55.399-25.5-76.8-58.4-39.399 22.8-39.399 22.8-79.899 46.1 9.6 21 19.699 30.5 35.8 48.7 76.2 77.3 266.899 73.5 301.1-43.5 1.399-4.001 10.6-30.801 3.199-72.101zm-394-317.6h-98.4c0 85-.399 169.4-.399 254.4 0 54.1 2.8 103.7-6 118.9-14.4 29.899-51.7 26.2-68.7 20.399-17.3-8.5-26.1-20.6-36.3-37.699-2.8-4.9-4.9-8.7-5.601-9-26.699 16.3-53.3 32.699-80 49 13.301 27.3 32.9 51 58 66.399 37.5 22.5 87.9 29.4 140.601 17.3 34.3-10 63.899-30.699 79.399-62.199 22.4-41.3 17.6-91.3 17.4-146.6.5-90.2 0-180.4 0-270.9z",fill:"#fff"})]})}),oe(co,{children:s===!0&&oe(Gt.svg,{animate:{x:c>1024?-120:-100,opacity:1,rotate:360},exit:{x:0,opacity:0,rotate:0},transition:{duration:1,delay:.8},fill:"none",height:"2500",width:"2500",xmlns:"http://www.w3.org/2000/svg",viewBox:"27 26 173.23 174.94",className:"w-16 h-16",children:ut("g",{"fill-rule":"evenodd","clip-rule":"evenodd",stroke:n,"stroke-width":"4","stroke-miterlimit":"10","stroke-linejoin":"round",children:[oe("path",{d:"M70.213 200.94L27 26l173.23 49.874z"}),oe("path",{d:"M113.583 50.942l21.591 87.496-86.567-24.945z"}),oe("path",{d:"M92.103 125.36L81.379 81.895l43.008 12.346zM70.651 38.483l10.724 43.465-43.008-12.346zM156.663 63.26l10.724 43.465-43.008-12.346zM92.108 125.39l10.724 43.465-43.008-12.346z"})]})})}),oe(co,{children:s===!0&&ut(Gt.svg,{animate:{x:c>1024?250:180,opacity:1,rotate:350},exit:{x:0,opacity:0,rotate:0},transition:{duration:1,delay:1},height:"2500",viewBox:"0 0 640 640",width:"2500",xmlns:"http://www.w3.org/2000/svg",className:"w-16 h-16",children:[oe("path",{d:"m0 0h640v640h-640z",fill:n}),oe("path",{d:"m307.3 237h30.7v53h-83v235.8l-2.2.6c-3 .8-42.5.8-51-.1l-6.8-.6v-235.7h-83v-53l26.3-.3c14.4-.2 51.4-.2 82.2 0s69.8.3 86.8.3zm234.3 263.8c-12.2 12.9-25.3 20.1-47.1 26-9.5 2.6-11.1 2.7-32.5 2.6s-23.1-.1-33.5-2.8c-26.9-6.9-48.6-20.4-63.4-39.5-4.2-5.4-11.1-16.6-11.1-18 0-.4 1-1.3 2.3-1.9s4-2.3 6.2-3.6 6.2-3.7 8.9-5.1 10.5-6 17.3-10.1 13-7.4 13.7-7.4 2 1.4 3 3.1c6 10.1 20 23 29.9 27.4 6.1 2.6 19.6 5.5 26.1 5.5 6 0 17-2.6 22.9-5.3 6.3-2.9 9.5-5.8 13.3-11.6 2.6-4.1 2.9-5.2 2.8-13 0-7.2-.4-9.2-2.4-12.5-5.6-9.2-13.2-14-44-27.6-31.8-14.1-46.1-22.5-57.7-33.8-8.6-8.4-10.3-10.7-15.7-21.2-7-13.5-7.9-17.9-8-38-.1-14.1.2-18.7 1.7-23.5 2.1-7.2 8.9-21.1 12-24.6 6.4-7.5 8.7-9.8 13.2-13.5 13.6-11.2 34.8-18.6 55.1-19.3 2.3 0 9.9.4 17 .9 20.4 1.7 34.3 6.7 47.7 17.4 10.1 8 25.4 26.8 23.9 29.3-1 1.5-40.9 28.1-43.5 28.9-1.6.5-2.7-.1-4.9-2.7-13.6-16.3-19.1-19.8-32.3-20.6-9.4-.6-14.4.5-20.7 4.7-6.6 4.4-9.8 11.1-9.8 20.4.1 13.6 5.3 20 24.5 29.5 12.4 6.1 23 11.1 23.8 11.1 1.2 0 26.9 12.8 33.6 16.8 31.2 18.3 43.9 37.1 47.2 69.5 2.4 24.4-4.5 46.7-19.5 62.5z",fill:"#fff"})]})})]}),ut("div",{className:"absolute w-full h-full flex flex-col justify-center items-center pt-10 xl:pt-0",children:[oe(co,{children:s===!0&&oe(Gt.svg,{className:"w-8 h-8",initial:{x:0,opacity:0},animate:{x:(c>1024,150),y:-50,opacity:1,rotate:360},exit:{x:0,opacity:0,rotate:0},transition:{duration:1,delay:.4},width:"2500",height:"2383",viewBox:"0 0 256 244",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",children:oe("path",{d:"M177.381 169.733c9.447-.978 16.614-9.122 16.288-18.896-.325-9.773-8.47-17.592-18.243-17.592h-.651c-10.1.326-17.918 8.796-17.592 18.895.326 4.887 2.28 9.122 5.212 12.054-11.076 21.828-28.016 37.791-53.426 51.148-17.266 9.122-35.183 12.38-53.1 10.1-14.66-1.955-26.062-8.47-33.23-19.222-10.424-15.963-11.401-33.23-2.605-50.496 6.19-12.38 15.962-21.502 22.152-26.063-1.303-4.235-3.258-11.402-4.235-16.614-47.237 34.207-42.35 80.468-28.016 102.295 10.75 16.29 32.577 26.389 56.684 26.389 6.515 0 13.03-.652 19.546-2.28 41.699-8.145 73.299-32.905 91.216-69.718zm57.336-40.397c-24.759-28.995-61.245-44.958-102.944-44.958h-5.212c-2.932-5.864-9.122-9.774-15.963-9.774h-.652C99.848 74.93 92.03 83.4 92.355 93.5c.326 9.773 8.47 17.592 18.243 17.592h.651c7.167-.326 13.357-4.887 15.963-11.077h5.864c24.759 0 48.214 7.167 69.39 21.176 16.288 10.751 28.016 24.76 34.531 41.7 5.538 13.683 5.212 27.04-.652 38.443-9.121 17.266-24.432 26.714-44.63 26.714-13.031 0-25.41-3.91-31.926-6.842-3.583 3.258-10.099 8.47-14.66 11.729 14.009 6.515 28.343 10.099 42.025 10.099 31.274 0 54.404-17.267 63.2-34.533 9.447-18.896 8.795-51.474-15.637-79.165zM69.225 175.27c.326 9.774 8.47 17.592 18.243 17.592h.652c10.099-.325 17.917-8.796 17.591-18.895-.325-9.774-8.47-17.592-18.243-17.592h-.651c-.652 0-1.63 0-2.28.325-13.357-22.153-18.895-46.26-16.94-72.323 1.302-19.547 7.818-36.488 19.22-50.497 9.447-12.054 27.69-17.918 40.07-18.243 34.531-.652 49.19 42.351 50.168 59.618 4.235.977 11.402 3.258 16.289 4.887C189.434 27.366 156.857 0 125.584 0c-29.32 0-56.359 21.176-67.11 52.451-14.985 41.7-5.212 81.771 13.031 113.372-1.628 2.28-2.606 5.864-2.28 9.448z",fill:n})})}),oe(co,{children:s===!0&&ut(Gt.svg,{className:"w-8 h-8",initial:{x:0,opacity:0},animate:{x:(c>1024,-100),y:-20,opacity:1,rotate:360},exit:{x:0,opacity:0,rotate:0},transition:{duration:1,delay:.4},height:"1024pt",viewBox:".5 -.2 1023 1024.1",width:"1024pt",xmlns:"http://www.w3.org/2000/svg",children:[oe("path",{fill:n,d:"m478.5.6c-2.2.2-9.2.9-15.5 1.4-145.3 13.1-281.4 91.5-367.6 212-48 67-78.7 143-90.3 223.5-4.1 28.1-4.6 36.4-4.6 74.5s.5 46.4 4.6 74.5c27.8 192.1 164.5 353.5 349.9 413.3 33.2 10.7 68.2 18 108 22.4 15.5 1.7 82.5 1.7 98 0 68.7-7.6 126.9-24.6 184.3-53.9 8.8-4.5 10.5-5.7 9.3-6.7-.8-.6-38.3-50.9-83.3-111.7l-81.8-110.5-102.5-151.7c-56.4-83.4-102.8-151.6-103.2-151.6-.4-.1-.8 67.3-1 149.6-.3 144.1-.4 149.9-2.2 153.3-2.6 4.9-4.6 6.9-8.8 9.1-3.2 1.6-6 1.9-21.1 1.9h-17.3l-4.6-2.9c-3-1.9-5.2-4.4-6.7-7.3l-2.1-4.5.2-200.5.3-200.6 3.1-3.9c1.6-2.1 5-4.8 7.4-6.1 4.1-2 5.7-2.2 23-2.2 20.4 0 23.8.8 29.1 6.6 1.5 1.6 57 85.2 123.4 185.9s157.2 238.2 201.8 305.7l81 122.7 4.1-2.7c36.3-23.6 74.7-57.2 105.1-92.2 64.7-74.3 106.4-164.9 120.4-261.5 4.1-28.1 4.6-36.4 4.6-74.5s-.5-46.4-4.6-74.5c-27.8-192.1-164.5-353.5-349.9-413.3-32.7-10.6-67.5-17.9-106.5-22.3-9.6-1-75.7-2.1-84-1.3zm209.4 309.4c4.8 2.4 8.7 7 10.1 11.8.8 2.6 1 58.2.8 183.5l-.3 179.8-31.7-48.6-31.8-48.6v-130.7c0-84.5.4-132 1-134.3 1.6-5.6 5.1-10 9.9-12.6 4.1-2.1 5.6-2.3 21.3-2.3 14.8 0 17.4.2 20.7 2z"}),oe("path",{d:"m784.3 945.1c-3.5 2.2-4.6 3.7-1.5 2 2.2-1.3 5.8-4 5.2-4.1-.3 0-2 1-3.7 2.1zm-6.9 4.5c-1.8 1.4-1.8 1.5.4.4 1.2-.6 2.2-1.3 2.2-1.5 0-.8-.5-.6-2.6 1.1zm-5 3c-1.8 1.4-1.8 1.5.4.4 1.2-.6 2.2-1.3 2.2-1.5 0-.8-.5-.6-2.6 1.1zm-5 3c-1.8 1.4-1.8 1.5.4.4 1.2-.6 2.2-1.3 2.2-1.5 0-.8-.5-.6-2.6 1.1zm-7.6 4c-3.8 2-3.6 2.8.2.9 1.7-.9 3-1.8 3-2 0-.7-.1-.6-3.2 1.1z"})]})})]})]}),ut("div",{className:"w-full h-1/2 lg:w-1/2 lg:h-full flex flex-col p-8 flex justify-center items-center gap-3",children:[oe("p",{className:"font-sofia font-bold text-zinc-800 text-xl mt-10",children:"Deseja em entrar em contato comigo?"}),ut("div",{className:"flex gap-4",children:[oe(ny,{text:"ryanhardflip@gmail.com",url:"images/o-email.png"}),oe(TI,{value:"ryanhardflip@gmail.com"})]}),ut("div",{className:"flex gap-4",children:[oe(ny,{text:"(31) 9 8109-8735",url:"images/whatsapp.png"}),oe(TI,{value:"(31) 9 8109-8735"})]}),oe("p",{className:"font-sofia font-bold text-zinc-800 text-xl mt-10",children:"Quer ver mais?"}),oe(ny,{text:"VER MEU LINKEDIN",url:"images/linkedin.png",link:"https://www.linkedin.com/in/ryan-henrique-1b4075233/"}),oe(ny,{text:"VER MEU GITHUB",url:"images/github.png",link:"https://github.com/Ryanzitto"}),ut("div",{className:"mt-10 flex gap-2 justify-center items-center",children:[oe("p",{className:"font-sofia font-bold text-zinc-800 text-xl ",children:"829 LIKES"}),oe("img",{onClick:u,className:"w-6 h-6 cursor-pointer",src:a?"images/coracao.png":"images/coracao-cheio.png"})]}),oe("div",{className:"mt-10 flex gap-2 justify-center items-center",children:oe("span",{className:"font-sofia text-zinc-300 transition-colors hover:text-zinc-500",children:"Ryan Henrique © 2023"})})]})]})})},ny=n=>{const{color:e}=Ul(),t=P.useRef(null),[r,i]=P.useState(!1);P.useEffect(()=>{t.current&&r===!0&&(t.current.style.backgroundColor=e),t.current&&r===!1&&(t.current.style.backgroundColor="#27272A")},[r]);const{text:s,url:o,link:a}=n;return ut(Gt.button,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),ref:t,initial:{y:0},whileHover:{y:-5},className:"transition-colors bg-zinc-800 font-bold p-2 rounded-md text-white flex gap-2 justify-center items-center",value:s,children:[oe("img",{className:"w-5",src:o}),oe("a",{href:a,target:"_blank",children:s})]})},TI=n=>{const{color:e}=Ul(),t=P.useRef(null),[r,i]=P.useState(!1),[s,o]=P.useState(!1),a=u=>{navigator.clipboard.writeText(u),o(!0);const c=setTimeout(()=>{o(!1)},3e3);return()=>clearTimeout(c)};P.useEffect(()=>{t.current&&r===!0&&(t.current.style.backgroundColor=e),t.current&&r===!1&&(t.current.style.backgroundColor="#27272A")},[r]);const{value:l}=n;return ut(Gt.button,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),ref:t,initial:{y:0},whileHover:{y:-5},className:"relative transition-colors bg-zinc-800 font-bold p-2 rounded-md text-white flex gap-2 justify-center items-center",onClick:()=>a(l),children:[oe("img",{src:"images/interface.png",className:"w-6 h-6"}),oe(co,{children:s===!0&&oe(Gt.div,{initial:{opacity:0,y:50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,delay:0},className:"absolute w-full flex justify-center items-center ml-40",children:oe("div",{className:"border border-zinc-300 bg-white p-2 rounded-sm w-fit text-zinc-800",children:oe("span",{className:"font-light",children:"Copiado!"})})})})]})},nce=n=>{const{linkGithub:e,linkDeploy:t,desc:r,url:i,name:s}=n,[o,a]=P.useState(!1);return ut("div",{onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),className:"w-fit h-fit flex justify-center items-center relative rounded-md","data-testid":s,children:[oe("img",{src:i,className:`w-[300px] lg:w-[400px] ${o?"opacity-80":null} rounded-md`}),oe(co,{children:o===!0&&ut(Gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-white/60 backdrop-blur-sm absolute w-full h-full flex flex-col justify-center rounded-md items-center",children:[ut("div",{className:"w-full h-fit flex flex justify-center mt-8 gap-2",children:[oe(Gt.button,{whileHover:{y:-5,transition:{duration:.1}},className:"bg-zinc-800 font-bold p-2 text-white rounded-md flex justify-center items-center text-xs tracking-wider",children:oe("a",{href:e,target:"_blank",children:"GITHUB"})}),oe(Gt.button,{whileHover:{y:-5,transition:{duration:.1}},className:"bg-zinc-800 font-bold p-2 text-white rounded-md flex justify-center items-center text-xs tracking-wider",children:oe("a",{href:t,target:"_blank",children:"VER SITE"})})]}),oe(Gt.div,{initial:{y:100},animate:{y:0},className:"w-full h-full p-4 flex flex-col justify-center items-center",children:oe("p",{className:"text-center p-4 text-xs font-sofia",children:r})}),oe(Gt.div,{className:"flex w-full justify-center items-center pb-4",children:oe("span",{className:"font-sofia font-black tracking-wider text-md text-zinc-800 transition-colors hover:text-zinc-800/80",children:s})})]})})]})},rce=()=>ut("div",{className:"flex flex-col items-center w-screen",children:[oe(que,{}),oe(Zue,{}),oe(ece,{}),oe(tce,{})]}),ice=n=>{const e=P.useRef(null),t=P.useRef(null),{color:r,setColor:i,visibility:s,setVisibility:o}=Ul(),{onSectionChange:a,menuOpened:l,setMenuOpened:u}=n;return P.useEffect(()=>{e.current&&(e.current.style.backgroundColor=r),t.current&&(t.current.style.backgroundColor=r)},[r]),ut(Fv,{children:[ut("button",{ref:e,onClick:()=>u(!l),className:"z-20 fixed top-12 right-6 lg:right-12 p-3 w-11 h-11 rounded-md",children:[oe("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${l?"rotate-45  translate-y-0.5":""}`}),oe("div",{className:`bg-white h-0.5 rounded-md w-full my-1 ${l?"hidden":""}`}),oe("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${l?"-rotate-45":""}`})]}),ut("button",{ref:t,onClick:()=>o(!s),className:"flex lg:hidden z-20 fixed top-12 flex flex-col justify-center items-center right-6 lg:right-12 p-3 w-11 h-11 text-xs rounded-md mt-20 text-white font-black",children:[oe("span",{children:"3D"}),oe("span",{children:s===!0?"ON":"OFF"})]}),oe("div",{className:`z-10 fixed top-0 right-0 bottom-0 bg-white transition-all overflow-hidden flex flex-col
      ${l?"w-80":"w-0"}`,children:ut("div",{className:"flex-1 flex items-start justify-center flex-col gap-6 p-8",children:[oe(ry,{label:"HOME",onClick:()=>a(0)}),oe(ry,{label:"HABILIDADES",onClick:()=>a(1)}),oe(ry,{label:"PROJETOS",onClick:()=>a(2)}),oe(ry,{label:"CONTATO",onClick:()=>a(3)}),ut("div",{className:"flex flex-col w-full justify-start items-center",children:[oe("span",{className:"text-sm font-bold text-zinc-800/80 hover:opacity-60",children:"COR PRIMÁRIA:"}),oe("input",{"data-testid":"input-color",className:"w-6 h-6 border-0 bg-transparent cursor-pointer w-full",type:"color",value:r,onChange:c=>i(c.target.value)})]})]})})]})},ry=n=>{const{label:e,onClick:t}=n;return oe("button",{onClick:t,className:"text-2xl font-bold text-zinc-800 cursor-pointer hover:opacity-80 transition-colors",children:e})};function Wo(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function r6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.0
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Li={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},cd={duration:.5,overwrite:!1,delay:0},cE,Br,Pn,ms=1e8,Yt=1/ms,bM=Math.PI*2,sce=bM/4,oce=0,i6=Math.sqrt,ace=Math.cos,lce=Math.sin,pr=function(e){return typeof e=="string"},Bn=function(e){return typeof e=="function"},pa=function(e){return typeof e=="number"},fE=function(e){return typeof e>"u"},bo=function(e){return typeof e=="object"},di=function(e){return e!==!1},dE=function(){return typeof window<"u"},iy=function(e){return Bn(e)||pr(e)},s6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Dr=Array.isArray,CM=/(?:-?\.?\d|\.)+/gi,o6=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Pf=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,jw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,a6=/[+-]=-?[.\d]+/,l6=/[^,'"\[\]\s]+/gi,uce=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,yn,ss,EM,hE,Oi={},Ev={},u6,c6=function(e){return(Ev=ic(e,Oi))&&yi},pE=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Tv=function(e,t){return!t&&console.warn(e)},f6=function(e,t){return e&&(Oi[e]=t)&&Ev&&(Ev[e]=t)||Oi},Jp=function(){return 0},cce={suppressEvents:!0,isStart:!0,kill:!1},Ey={suppressEvents:!0,kill:!1},fce={suppressEvents:!0},mE={},ml=[],TM={},d6,bi={},$w={},PI=30,Ty=[],gE="",yE=function(e){var t=e[0],r,i;if(bo(t)||Bn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Ty.length;i--&&!Ty[i].targetTest(t););r=Ty[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new F6(e[i],r)))||e.splice(i,1);return e},Uu=function(e){return e._gsap||yE(gs(e))[0]._gsap},h6=function(e,t,r){return(r=e[t])&&Bn(r)?e[t]():fE(r)&&e.getAttribute&&e.getAttribute(t)||r},hi=function(e,t){return(e=e.split(",")).forEach(t)||e},Nn=function(e){return Math.round(e*1e5)/1e5||0},yr=function(e){return Math.round(e*1e7)/1e7||0},Hf=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},dce=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},Pv=function(){var e=ml.length,t=ml.slice(0),r,i;for(TM={},ml.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},p6=function(e,t,r,i){ml.length&&!Br&&Pv(),e.render(t,r,i||Br&&t<0&&(e._initted||e._startAt)),ml.length&&!Br&&Pv()},m6=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(l6).length<2?t:pr(e)?e.trim():e},g6=function(e){return e},Ss=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},hce=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},ic=function(e,t){for(var r in t)e[r]=t[r];return e},RI=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=bo(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},Rv=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},op=function(e){var t=e.parent||yn,r=e.keyframes?hce(Dr(e.keyframes)):Ss;if(di(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},pce=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},y6=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},O1=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},El=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Gu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},mce=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},PM=function(e,t,r,i){return e._startAt&&(Br?e._startAt.revert(Ey):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},gce=function n(e){return!e||e._ts&&n(e.parent)},BI=function(e){return e._repeat?fd(e._tTime,e=e.duration()+e._rDelay)*e:0},fd=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},Bv=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},N1=function(e){return e._end=yr(e._start+(e._tDur/Math.abs(e._ts||e._rts||Yt)||0))},z1=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=yr(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),N1(e),r._dirty||Gu(r,e)),e},v6=function(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=Bv(e.rawTime(),t),(!t._dur||Nm(0,t.totalDuration(),r)-t._tTime>Yt)&&t.render(r,!0)),Gu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Yt}},ho=function(e,t,r,i){return t.parent&&El(t),t._start=yr((pa(r)?r:r||e!==yn?rs(e,r,t):e._time)+t._delay),t._end=yr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),y6(e,t,"_first","_last",e._sort?"_start":0),RM(t)||(e._recent=t),i||v6(e,t),e._ts<0&&z1(e,e._tTime),e},x6=function(e,t){return(Oi.ScrollTrigger||pE("scrollTrigger",t))&&Oi.ScrollTrigger.create(t,e)},_6=function(e,t,r,i,s){if(xE(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!Br&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&d6!==Ci.frame)return ml.push(e),e._lazy=[s,i],1},yce=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},RM=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},vce=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&yce(e)&&!(!e._initted&&RM(e))||(e._ts<0||e._dp._ts<0)&&!RM(e))?0:1,a=e._rDelay,l=0,u,c,f;if(a&&e._repeat&&(l=Nm(0,e._tDur,t),c=fd(l,a),e._yoyo&&c&1&&(o=1-o),c!==fd(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Br||i||e._zTime===Yt||!t&&e._zTime){if(!e._initted&&_6(e,t,i,r,l))return;for(f=e._zTime,e._zTime=t||(r?Yt:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;t<0&&PM(e,t,r,!0),e._onUpdate&&!r&&ys(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&ys(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&El(e,1),!r&&!Br&&(ys(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},xce=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},dd=function(e,t,r,i){var s=e._repeat,o=yr(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:yr(o*(s+1)+e._rDelay*s):o,a>0&&!i&&z1(e,e._tTime=e._tDur*a),e.parent&&N1(e),r||Gu(e.parent,e),e},DI=function(e){return e instanceof Wr?Gu(e):dd(e,e._dur)},_ce={_start:0,endTime:Jp,totalDuration:Jp},rs=function n(e,t,r){var i=e.labels,s=e._recent||_ce,o=e.duration()>=ms?s.endTime(!1):e._dur,a,l,u;return pr(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),u=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),u&&r&&(l=l/100*(Dr(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},ap=function(e,t,r){var i=pa(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=di(l.vars.inherit)&&l.parent;o.immediateRender=di(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new jn(t[0],o,t[s+1])},Gl=function(e,t){return e||e===0?t(e):t},Nm=function(e,t,r){return r<e?e:r>t?t:r},Pr=function(e,t){return!pr(e)||!(t=uce.exec(e))?"":t[1]},wce=function(e,t,r){return Gl(r,function(i){return Nm(e,t,i)})},BM=[].slice,w6=function(e,t){return e&&bo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&bo(e[0]))&&!e.nodeType&&e!==ss},Sce=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return pr(i)&&!t||w6(i,1)?(s=r).push.apply(s,gs(i)):r.push(i)})||r},gs=function(e,t,r){return Pn&&!t&&Pn.selector?Pn.selector(e):pr(e)&&!r&&(EM||!hd())?BM.call((t||hE).querySelectorAll(e),0):Dr(e)?Sce(e,r):w6(e)?BM.call(e,0):e?[e]:[]},DM=function(e){return e=gs(e)[0]||Tv("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return gs(t,r.querySelectorAll?r:r===e?Tv("Invalid scope")||hE.createElement("div"):e)}},S6=function(e){return e.sort(function(){return .5-Math.random()})},A6=function(e){if(Bn(e))return e;var t=bo(e)?e:{each:e},r=Hu(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=t.axis,c=i,f=i;return pr(i)?c=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(c=i[0],f=i[1]),function(h,m,g){var y=(g||t).length,v=o[y],x,_,S,M,C,T,R,b,B;if(!v){if(B=t.grid==="auto"?0:(t.grid||[1,ms])[1],!B){for(R=-ms;R<(R=g[B++].getBoundingClientRect().left)&&B<y;);B--}for(v=o[y]=[],x=l?Math.min(B,y)*c-.5:i%B,_=B===ms?0:l?y*f/B-.5:i/B|0,R=0,b=ms,T=0;T<y;T++)S=T%B-x,M=_-(T/B|0),v[T]=C=u?Math.abs(u==="y"?M:S):i6(S*S+M*M),C>R&&(R=C),C<b&&(b=C);i==="random"&&S6(v),v.max=R-b,v.min=b,v.v=y=(parseFloat(t.amount)||parseFloat(t.each)*(B>y?y-1:u?u==="y"?y/B:B:Math.max(B,y/B))||0)*(i==="edges"?-1:1),v.b=y<0?s-y:s,v.u=Pr(t.amount||t.each)||0,r=r&&y<0?I6(r):r}return y=(v[h]-v.min)/v.max||0,yr(v.b+(r?r(y):y)*v.v)+v.u}},IM=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=yr(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(pa(r)?0:Pr(r))}},M6=function(e,t){var r=Dr(e),i,s;return!r&&bo(e)&&(i=r=e.radius||ms,e.values?(e=gs(e.values),(s=!pa(e[0]))&&(i*=i)):e=IM(e.increment)),Gl(t,r?Bn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=ms,c=0,f=e.length,h,m;f--;)s?(h=e[f].x-a,m=e[f].y-l,h=h*h+m*m):h=Math.abs(e[f]-a),h<u&&(u=h,c=f);return c=!i||u<=i?e[c]:o,s||c===o||pa(o)?c:c+Pr(o)}:IM(e))},b6=function(e,t,r,i){return Gl(Dr(e)?!t:r===!0?!!(r=0):!i,function(){return Dr(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},Ace=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},Mce=function(e,t){return function(r){return e(parseFloat(r))+(t||Pr(r))}},bce=function(e,t,r){return E6(e,t,0,1,r)},C6=function(e,t,r){return Gl(r,function(i){return e[~~t(i)]})},Cce=function n(e,t,r){var i=t-e;return Dr(e)?C6(e,n(0,e.length),t):Gl(r,function(s){return(i+(s-e)%i)%i+e})},Ece=function n(e,t,r){var i=t-e,s=i*2;return Dr(e)?C6(e,n(0,e.length-1),t):Gl(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Xp=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?l6:CM),r+=e.substr(t,i-t)+b6(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},E6=function(e,t,r,i,s){var o=t-e,a=i-r;return Gl(s,function(l){return r+((l-e)/o*a||0)})},Tce=function n(e,t,r,i){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=pr(e),a={},l,u,c,f,h;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(Dr(e)&&!Dr(t)){for(c=[],f=e.length,h=f-2,u=1;u<f;u++)c.push(n(e[u-1],e[u]));f--,s=function(g){g*=f;var y=Math.min(h,~~g);return c[y](g-y)},r=t}else i||(e=ic(Dr(e)?[]:{},e));if(!c){for(l in t)vE.call(a,e,l,"get",t[l]);s=function(g){return SE(g,a)||(o?e.p:e)}}}return Gl(r,s)},II=function(e,t,r){var i=e.labels,s=ms,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},ys=function(e,t,r){var i=e.vars,s=i[t],o=Pn,a=e._ctx,l,u,c;if(s)return l=i[t+"Params"],u=i.callbackScope||e,r&&ml.length&&Pv(),a&&(Pn=a),c=l?s.apply(u,l):s.call(u),Pn=o,c},Lh=function(e){return El(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Br),e.progress()<1&&ys(e,"onInterrupt"),e},Rf,T6=[],P6=function(e){if(dE()&&e){e=!e.name&&e.default||e;var t=e.name,r=Bn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:Jp,render:SE,add:vE,kill:Wce,modifier:Vce,rawVars:0},o={targetTest:0,get:0,getSetter:wE,aliases:{},register:0};if(hd(),e!==i){if(bi[t])return;Ss(i,Ss(Rv(e,s),o)),ic(i.prototype,ic(s,Rv(e,o))),bi[i.prop=t]=i,e.targetTest&&(Ty.push(i),mE[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}f6(t,i),e.register&&e.register(yi,i,pi)}else e&&T6.push(e)},Xt=255,kh={aqua:[0,Xt,Xt],lime:[0,Xt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Xt],navy:[0,0,128],white:[Xt,Xt,Xt],olive:[128,128,0],yellow:[Xt,Xt,0],orange:[Xt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Xt,0,0],pink:[Xt,192,203],cyan:[0,Xt,Xt],transparent:[Xt,Xt,Xt,0]},Jw=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Xt+.5|0},R6=function(e,t,r){var i=e?pa(e)?[e>>16,e>>8&Xt,e&Xt]:0:kh.black,s,o,a,l,u,c,f,h,m,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),kh[e])i=kh[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Xt,i&Xt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Xt,e&Xt]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(CM),!t)l=+i[0]%360/360,u=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(u+1):c+u-c*u,s=c*2-o,i.length>3&&(i[3]*=1),i[0]=Jw(l+1/3,s,o),i[1]=Jw(l,s,o),i[2]=Jw(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(o6),r&&i.length<4&&(i[3]=1),i}else i=e.match(CM)||kh.transparent;i=i.map(Number)}return t&&!g&&(s=i[0]/Xt,o=i[1]/Xt,a=i[2]/Xt,f=Math.max(s,o,a),h=Math.min(s,o,a),c=(f+h)/2,f===h?l=u=0:(m=f-h,u=c>.5?m/(2-f-h):m/(f+h),l=f===s?(o-a)/m+(o<a?6:0):f===o?(a-s)/m+2:(s-o)/m+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(c*100+.5)),r&&i.length<4&&(i[3]=1),i},B6=function(e){var t=[],r=[],i=-1;return e.split(gl).forEach(function(s){var o=s.match(Pf)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},LI=function(e,t,r){var i="",s=(e+i).match(gl),o=t?"hsla(":"rgba(",a=0,l,u,c,f;if(!s)return e;if(s=s.map(function(h){return(h=R6(h,t,1))&&o+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(c=B6(e),l=r.c,l.join(i)!==c.c.join(i)))for(u=e.replace(gl,"1").split(Pf),f=u.length-1;a<f;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:r).shift());if(!u)for(u=e.split(gl),f=u.length-1;a<f;a++)i+=u[a]+s[a];return i+u[f]},gl=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in kh)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),Pce=/hsl[a]?\(/,D6=function(e){var t=e.join(" "),r;if(gl.lastIndex=0,gl.test(t))return r=Pce.test(t),e[1]=LI(e[1],r),e[0]=LI(e[0],r,B6(e[1])),!0},Kp,Ci=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,u,c,f,h,m,g=function y(v){var x=n()-i,_=v===!0,S,M,C,T;if(x>e&&(r+=x-t),i+=x,C=i-r,S=C-o,(S>0||_)&&(T=++f.frame,h=C-f.time*1e3,f.time=C=C/1e3,o+=S+(S>=s?4:s-S),M=1),_||(l=u(y)),M)for(m=0;m<a.length;m++)a[m](C,h,T,v)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(v){return h/(1e3/(v||60))},wake:function(){u6&&(!EM&&dE()&&(ss=EM=window,hE=ss.document||{},Oi.gsap=yi,(ss.gsapVersions||(ss.gsapVersions=[])).push(yi.version),c6(Ev||ss.GreenSockGlobals||!ss.gsap&&ss||{}),c=ss.requestAnimationFrame,T6.forEach(P6)),l&&f.sleep(),u=c||function(v){return setTimeout(v,o-f.time*1e3+1|0)},Kp=1,g(2))},sleep:function(){(c?ss.cancelAnimationFrame:clearTimeout)(l),Kp=0,u=Jp},lagSmoothing:function(v,x){e=v||1/0,t=Math.min(x||33,e)},fps:function(v){s=1e3/(v||240),o=f.time*1e3+s},add:function(v,x,_){var S=x?function(M,C,T,R){v(M,C,T,R),f.remove(S)}:v;return f.remove(v),a[_?"unshift":"push"](S),hd(),S},remove:function(v,x){~(x=a.indexOf(v))&&a.splice(x,1)&&m>=x&&m--},_listeners:a},f}(),hd=function(){return!Kp&&Ci.wake()},Et={},Rce=/^[\d.\-M][\d.\-,\s]/,Bce=/["']/g,Dce=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,u;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),t[i]=isNaN(u)?u.replace(Bce,"").trim():+u,i=l.substr(a+1).trim();return t},Ice=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},Lce=function(e){var t=(e+"").split("("),r=Et[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Dce(t[1])]:Ice(e).split(",").map(m6)):Et._CE&&Rce.test(e)?Et._CE("",e):r},I6=function(e){return function(t){return 1-e(1-t)}},L6=function n(e,t){for(var r=e._first,i;r;)r instanceof Wr?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},Hu=function(e,t){return e&&(Bn(e)?e:Et[e]||Lce(e))||t},gc=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return hi(e,function(a){Et[a]=Oi[a]=s,Et[o=a.toLowerCase()]=r;for(var l in s)Et[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Et[a+"."+l]=s[l]}),s},k6=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Xw=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/bM*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*lce((c-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:k6(a);return s=bM/s,l.config=function(u,c){return n(e,u,c)},l},Kw=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:k6(r);return i.config=function(s){return n(e,s)},i};hi("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;gc(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Et.Linear.easeNone=Et.none=Et.Linear.easeIn;gc("Elastic",Xw("in"),Xw("out"),Xw());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};gc("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);gc("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});gc("Circ",function(n){return-(i6(1-n*n)-1)});gc("Sine",function(n){return n===1?1:-ace(n*sce)+1});gc("Back",Kw("in"),Kw("out"),Kw());Et.SteppedEase=Et.steps=Oi.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-Yt;return function(a){return((i*Nm(0,o,a)|0)+s)*r}}};cd.ease=Et["quad.out"];hi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return gE+=n+","+n+"Params,"});var F6=function(e,t){this.id=oce++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:h6,this.set=t?t.getSetter:wE},Yp=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,dd(this,+t.duration,1,1),this.data=t.data,Pn&&(this._ctx=Pn,Pn.data.push(this)),Kp||Ci.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,dd(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(hd(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(z1(this,r),!s._dp||s.parent||v6(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&ho(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Yt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),p6(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+BI(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+BI(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?fd(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-Yt?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?Bv(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Yt?0:this._rts,this.totalTime(Nm(-Math.abs(this._delay),this._tDur,i),!0),N1(this),mce(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(hd(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Yt&&(this._tTime-=Yt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&ho(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(di(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Bv(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=fce);var i=Br;return Br=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Br=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,DI(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,DI(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(rs(this,r),di(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,di(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Yt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Yt,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Yt)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Bn(r)?r:g6,a=function(){var u=i.then;i.then=null,Bn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Lh(this)},n}();Ss(Yp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Yt,_prom:0,_ps:!1,_rts:1});var Wr=function(n){r6(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=di(r.sortChildren),yn&&ho(r.parent||yn,Wo(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&x6(Wo(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return ap(0,arguments,this),this},t.from=function(i,s,o){return ap(1,arguments,this),this},t.fromTo=function(i,s,o,a){return ap(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,op(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new jn(i,s,rs(this,o),1),this},t.call=function(i,s,o){return ho(this,jn.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,u,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new jn(i,o,rs(this,l)),this},t.staggerFrom=function(i,s,o,a,l,u,c){return o.runBackwards=1,op(o).immediateRender=di(o.immediateRender),this.staggerTo(i,s,o,a,l,u,c)},t.staggerFromTo=function(i,s,o,a,l,u,c,f){return a.startAt=o,op(a).immediateRender=di(a.immediateRender),this.staggerTo(i,s,a,l,u,c,f)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:yr(i),f=this._zTime<0!=i<0&&(this._initted||!u),h,m,g,y,v,x,_,S,M,C,T,R;if(this!==yn&&c>l&&i>=0&&(c=l),c!==this._tTime||o||f){if(a!==this._time&&u&&(c+=this._time-a,i+=this._time-a),h=c,M=this._start,S=this._ts,x=!S,f&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(T=this._yoyo,v=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,s,o);if(h=yr(c%v),c===l?(y=this._repeat,h=u):(y=~~(c/v),y&&y===c/v&&(h=u,y--),h>u&&(h=u)),C=fd(this._tTime,v),!a&&this._tTime&&C!==y&&this._tTime-C*v-this._dur<=0&&(C=y),T&&y&1&&(h=u-h,R=1),y!==C&&!this._lock){var b=T&&C&1,B=b===(T&&y&1);if(y<C&&(b=!b),a=b?0:u,this._lock=1,this.render(a||(R?0:yr(y*v)),s,!u)._lock=0,this._tTime=c,!s&&this.parent&&ys(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,B&&(this._lock=2,a=b?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;L6(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=xce(this,yr(a),yr(h)),_&&(c-=h-(h=_._start))),this._tTime=c,this._time=h,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!y&&(ys(this,"onStart"),this._tTime!==c))return this;if(h>=a&&i>=0)for(m=this._first;m;){if(g=m._next,(m._act||h>=m._start)&&m._ts&&_!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(h-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(h-m._start)*m._ts,s,o),h!==this._time||!this._ts&&!x){_=0,g&&(c+=this._zTime=-Yt);break}}m=g}else{m=this._last;for(var I=i<0?i:h;m;){if(g=m._prev,(m._act||I<=m._end)&&m._ts&&_!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(I-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(I-m._start)*m._ts,s,o||Br&&(m._initted||m._startAt)),h!==this._time||!this._ts&&!x){_=0,g&&(c+=this._zTime=I?-Yt:Yt);break}}m=g}}if(_&&!s&&(this.pause(),_.render(h>=a?0:-Yt)._zTime=h>=a?1:-1,this._ts))return this._start=M,N1(this),this.render(i,s,o);this._onUpdate&&!s&&ys(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(M===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&El(this,1),!s&&!(i<0&&!a)&&(c||a||!l)&&(ys(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(pa(s)||(s=rs(this,s,i)),!(i instanceof Yp)){if(Dr(i))return i.forEach(function(a){return o.add(a,s)}),this;if(pr(i))return this.addLabel(i,s);if(Bn(i))i=jn.delayedCall(0,i);else return this}return this!==i?ho(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-ms);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof jn?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return pr(i)?this.removeLabel(i):Bn(i)?this.killTweensOf(i):(O1(this,i),i===this._recent&&(this._recent=this._last),Gu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=yr(Ci.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=rs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=jn.delayedCall(0,s||Jp,o);return a.data="isPause",this._hasPause=1,ho(this,a,rs(this,i))},t.removePause=function(i){var s=this._first;for(i=rs(this,i);s;)s._start===i&&s.data==="isPause"&&El(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)rl!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=gs(i),l=this._first,u=pa(s),c;l;)l instanceof jn?dce(l._targets,a)&&(u?(!rl||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(c=l.getTweensOf(a,s)).length&&o.push.apply(o,c),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=rs(o,i),l=s,u=l.startAt,c=l.onStart,f=l.onStartParams,h=l.immediateRender,m,g=jn.to(o,Ss({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||Yt,onStart:function(){if(o.pause(),!m){var v=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());g._dur!==v&&dd(g,v,0,1).render(g._time,!0,!0),m=1}c&&c.apply(g,f||[])}},s));return h?g.render(0):g},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Ss({startAt:{time:rs(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),II(this,rs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),II(this,rs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Yt)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return Gu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Gu(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=ms,u,c,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,ho(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(s-=c,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;dd(o,o===yn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(yn._ts&&(p6(yn,Bv(i,yn)),d6=Ci.frame),Ci.frame>=PI){PI+=Li.autoSleep||120;var s=yn._first;if((!s||!s._ts)&&Li.autoSleep&&Ci._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Ci.sleep()}}},e}(Yp);Ss(Wr.prototype,{_lock:0,_hasPause:0,_forcing:0});var kce=function(e,t,r,i,s,o,a){var l=new pi(this._pt,e,t,0,1,H6,null,s),u=0,c=0,f,h,m,g,y,v,x,_;for(l.b=r,l.e=i,r+="",i+="",(x=~i.indexOf("random("))&&(i=Xp(i)),o&&(_=[r,i],o(_,e,t),r=_[0],i=_[1]),h=r.match(jw)||[];f=jw.exec(i);)g=f[0],y=i.substring(u,f.index),m?m=(m+1)%5:y.substr(-5)==="rgba("&&(m=1),g!==h[c++]&&(v=parseFloat(h[c-1])||0,l._pt={_next:l._pt,p:y||c===1?y:",",s:v,c:g.charAt(1)==="="?Hf(v,g)-v:parseFloat(g)-v,m:m&&m<4?Math.round:0},u=jw.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(a6.test(i)||x)&&(l.e=0),this._pt=l,l},vE=function(e,t,r,i,s,o,a,l,u,c){Bn(i)&&(i=i(s||0,e,o));var f=e[t],h=r!=="get"?r:Bn(f)?u?e[t.indexOf("set")||!Bn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():f,m=Bn(f)?u?Uce:U6:_E,g;if(pr(i)&&(~i.indexOf("random(")&&(i=Xp(i)),i.charAt(1)==="="&&(g=Hf(h,i)+(Pr(h)||0),(g||g===0)&&(i=g))),!c||h!==i||LM)return!isNaN(h*i)&&i!==""?(g=new pi(this._pt,e,t,+h||0,i-(h||0),typeof f=="boolean"?Hce:G6,0,m),u&&(g.fp=u),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(t in e)&&pE(t,i),kce.call(this,e,t,h,i,m,l||Li.stringFilter,u))},Fce=function(e,t,r,i,s){if(Bn(e)&&(e=lp(e,s,t,r,i)),!bo(e)||e.style&&e.nodeType||Dr(e)||s6(e))return pr(e)?lp(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=lp(e[a],s,t,r,i);return o},O6=function(e,t,r,i,s,o){var a,l,u,c;if(bi[e]&&(a=new bi[e]).init(s,a.rawVars?t[e]:Fce(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new pi(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Rf))for(u=r._ptLookup[r._targets.indexOf(s)],c=a._props.length;c--;)u[a._props[c]]=l;return a},rl,LM,xE=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,c=i.onUpdateParams,f=i.callbackScope,h=i.runBackwards,m=i.yoyoEase,g=i.keyframes,y=i.autoRevert,v=e._dur,x=e._startAt,_=e._targets,S=e.parent,M=S&&S.data==="nested"?S.vars.targets:_,C=e._overwrite==="auto"&&!cE,T=e.timeline,R,b,B,I,k,j,G,N,$,X,te,O,z;if(T&&(!g||!s)&&(s="none"),e._ease=Hu(s,cd.ease),e._yEase=m?I6(Hu(m===!0?s:m,cd.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!T&&!!i.runBackwards,!T||g&&!i.stagger){if(N=_[0]?Uu(_[0]).harness:0,O=N&&i[N.prop],R=Rv(i,mE),x&&(x._zTime<0&&x.progress(1),t<0&&h&&a&&!y?x.render(-1,!0):x.revert(h&&v?Ey:cce),x._lazy=0),o){if(El(e._startAt=jn.set(_,Ss({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!x&&di(l),startAt:null,delay:0,onUpdate:u,onUpdateParams:c,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Br||!a&&!y)&&e._startAt.revert(Ey),a&&v&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(h&&v&&!x){if(t&&(a=!1),B=Ss({overwrite:!1,data:"isFromStart",lazy:a&&!x&&di(l),immediateRender:a,stagger:0,parent:S},R),O&&(B[N.prop]=O),El(e._startAt=jn.set(_,B)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Br?e._startAt.revert(Ey):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,Yt,Yt);else if(!t)return}for(e._pt=e._ptCache=0,l=v&&di(l)||l&&!v,b=0;b<_.length;b++){if(k=_[b],G=k._gsap||yE(_)[b]._gsap,e._ptLookup[b]=X={},TM[G.id]&&ml.length&&Pv(),te=M===_?b:M.indexOf(k),N&&($=new N).init(k,O||R,e,te,M)!==!1&&(e._pt=I=new pi(e._pt,k,$.name,0,1,$.render,$,0,$.priority),$._props.forEach(function(H){X[H]=I}),$.priority&&(j=1)),!N||O)for(B in R)bi[B]&&($=O6(B,R,e,te,k,M))?$.priority&&(j=1):X[B]=I=vE.call(e,k,B,"get",R[B],te,M,0,i.stringFilter);e._op&&e._op[b]&&e.kill(k,e._op[b]),C&&e._pt&&(rl=e,yn.killTweensOf(k,X,e.globalTime(t)),z=!e.parent,rl=0),e._pt&&l&&(TM[G.id]=1)}j&&V6(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!z,g&&t<=0&&T.render(ms,!0,!0)},Oce=function(e,t,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,c,f,h;if(!l)for(l=e._ptCache[t]=[],f=e._ptLookup,h=e._targets.length;h--;){if(u=f[h][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return LM=1,e.vars[t]="+=0",xE(e,a),LM=0,1;l.push(u)}for(h=l.length;h--;)c=l[h],u=c._pt||c,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,c.e&&(c.e=Nn(r)+Pr(c.e)),c.b&&(c.b=u.s+Pr(c.b))},Nce=function(e,t){var r=e[0]?Uu(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=ic({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},zce=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(Dr(t))a=r[e]||(r[e]=[]),t.forEach(function(l,u){return a.push({t:u/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},lp=function(e,t,r,i,s){return Bn(e)?e.call(t,r,i,s):pr(e)&&~e.indexOf("random(")?Xp(e):e},N6=gE+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",z6={};hi(N6+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return z6[n]=1});var jn=function(n){r6(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:op(i))||this;var l=a.vars,u=l.duration,c=l.delay,f=l.immediateRender,h=l.stagger,m=l.overwrite,g=l.keyframes,y=l.defaults,v=l.scrollTrigger,x=l.yoyoEase,_=i.parent||yn,S=(Dr(r)||s6(r)?pa(r[0]):"length"in i)?[r]:gs(r),M,C,T,R,b,B,I,k;if(a._targets=S.length?yE(S):Tv("GSAP target "+r+" not found. https://greensock.com",!Li.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,g||h||iy(u)||iy(c)){if(i=a.vars,M=a.timeline=new Wr({data:"nested",defaults:y||{},targets:_&&_.data==="nested"?_.vars.targets:S}),M.kill(),M.parent=M._dp=Wo(a),M._start=0,h||iy(u)||iy(c)){if(R=S.length,I=h&&A6(h),bo(h))for(b in h)~N6.indexOf(b)&&(k||(k={}),k[b]=h[b]);for(C=0;C<R;C++)T=Rv(i,z6),T.stagger=0,x&&(T.yoyoEase=x),k&&ic(T,k),B=S[C],T.duration=+lp(u,Wo(a),C,B,S),T.delay=(+lp(c,Wo(a),C,B,S)||0)-a._delay,!h&&R===1&&T.delay&&(a._delay=c=T.delay,a._start+=c,T.delay=0),M.to(B,T,I?I(C,B,S):0),M._ease=Et.none;M.duration()?u=c=0:a.timeline=0}else if(g){op(Ss(M.vars.defaults,{ease:"none"})),M._ease=Hu(g.ease||i.ease||"none");var j=0,G,N,$;if(Dr(g))g.forEach(function(X){return M.to(S,X,">")}),M.duration();else{T={};for(b in g)b==="ease"||b==="easeEach"||zce(b,g[b],T,g.easeEach);for(b in T)for(G=T[b].sort(function(X,te){return X.t-te.t}),j=0,C=0;C<G.length;C++)N=G[C],$={ease:N.e,duration:(N.t-(C?G[C-1].t:0))/100*u},$[b]=N.v,M.to(S,$,j),j+=$.duration;M.duration()<u&&M.to({},{duration:u-M.duration()})}}u||a.duration(u=M.duration())}else a.timeline=0;return m===!0&&!cE&&(rl=Wo(a),yn.killTweensOf(S),rl=0),ho(_,Wo(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!u&&!g&&a._start===yr(_._time)&&di(f)&&gce(Wo(a))&&_.data!=="nested")&&(a._tTime=-Yt,a.render(Math.max(0,-c)||0)),v&&x6(Wo(a),v),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,c=i<0,f=i>l-Yt&&!c?l:i<Yt?0:i,h,m,g,y,v,x,_,S,M;if(!u)vce(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(h=f,S=this.timeline,this._repeat){if(y=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(y*100+i,s,o);if(h=yr(f%y),f===l?(g=this._repeat,h=u):(g=~~(f/y),g&&g===f/y&&(h=u,g--),h>u&&(h=u)),x=this._yoyo&&g&1,x&&(M=this._yEase,h=u-h),v=fd(this._tTime,y),h===a&&!o&&this._initted)return this._tTime=f,this;g!==v&&(S&&this._yEase&&L6(S,x),this.vars.repeatRefresh&&!x&&!this._lock&&(this._lock=o=1,this.render(yr(y*g),!0).invalidate()._lock=0))}if(!this._initted){if(_6(this,c?i:h,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(M||this._ease)(h/u),this._from&&(this.ratio=_=1-_),h&&!a&&!s&&!g&&(ys(this,"onStart"),this._tTime!==f))return this;for(m=this._pt;m;)m.r(_,m.d),m=m._next;S&&S.render(i<0?i:!h&&x?-Yt:S._dur*S._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(c&&PM(this,i,s,o),ys(this,"onUpdate")),this._repeat&&g!==v&&this.vars.onRepeat&&!s&&this.parent&&ys(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&PM(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&El(this,1),!s&&!(c&&!a)&&(f||a||x)&&(ys(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a){Kp||Ci.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||xE(this,l),u=this._ease(l/this._dur),Oce(this,i,s,o,a,u,l)?this.resetTo(i,s,o,a):(z1(this,0),this.parent||y6(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Lh(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,rl&&rl.vars.overwrite!==!0)._first||Lh(this),this.parent&&o!==this.timeline.totalDuration()&&dd(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?gs(i):a,u=this._ptLookup,c=this._pt,f,h,m,g,y,v,x;if((!s||s==="all")&&pce(a,l))return s==="all"&&(this._pt=0),Lh(this);for(f=this._op=this._op||[],s!=="all"&&(pr(s)&&(y={},hi(s,function(_){return y[_]=1}),s=y),s=Nce(a,s)),x=a.length;x--;)if(~l.indexOf(a[x])){h=u[x],s==="all"?(f[x]=s,g=h,m={}):(m=f[x]=f[x]||{},g=s);for(y in g)v=h&&h[y],v&&((!("kill"in v.d)||v.d.kill(y)===!0)&&O1(this,v,"_pt"),delete h[y]),m!=="all"&&(m[y]=1)}return this._initted&&!this._pt&&c&&Lh(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return ap(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return ap(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return yn.killTweensOf(i,s,o)},e}(Yp);Ss(jn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});hi("staggerTo,staggerFrom,staggerFromTo",function(n){jn[n]=function(){var e=new Wr,t=BM.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var _E=function(e,t,r){return e[t]=r},U6=function(e,t,r){return e[t](r)},Uce=function(e,t,r,i){return e[t](i.fp,r)},Gce=function(e,t,r){return e.setAttribute(t,r)},wE=function(e,t){return Bn(e[t])?U6:fE(e[t])&&e.setAttribute?Gce:_E},G6=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Hce=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},H6=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},SE=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Vce=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},Wce=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?O1(this,t,"_pt"):t.dep||(r=1),t=i;return!r},jce=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},V6=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},pi=function(){function n(t,r,i,s,o,a,l,u,c){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||G6,this.d=l||this,this.set=u||_E,this.pr=c||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=jce,this.m=r,this.mt=s,this.tween=i},n}();hi(gE+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return mE[n]=1});Oi.TweenMax=Oi.TweenLite=jn;Oi.TimelineLite=Oi.TimelineMax=Wr;yn=new Wr({sortChildren:!1,defaults:cd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Li.stringFilter=D6;var Vu=[],Py={},$ce=[],kI=0,Jce=0,Yw=function(e){return(Py[e]||$ce).map(function(t){return t()})},kM=function(){var e=Date.now(),t=[];e-kI>2&&(Yw("matchMediaInit"),Vu.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,u;for(a in i)o=ss.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(r.revert(),l&&t.push(r))}),Yw("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r)}),kI=e,Yw("matchMedia"))},W6=function(){function n(t,r){this.selector=r&&DM(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Jce++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Bn(r)&&(s=i,i=r,r=Bn);var o=this,a=function(){var u=Pn,c=o.selector,f;return u&&u!==o&&u.data.push(o),s&&(o.selector=DM(s)),Pn=o,f=i.apply(o,arguments),Bn(f)&&o._r.push(f),Pn=u,o.selector=c,o.isReverted=!1,f};return o.last=a,r===Bn?a(o):r?o[r]=a:a},e.ignore=function(r){var i=Pn;Pn=null,r(this),Pn=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof jn&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return o.splice(o.indexOf(u),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,u){return u.g-l.g||-1}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return l instanceof Wr?l.data!=="nested"&&l.kill():!(l instanceof jn)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i)for(var a=Vu.length;a--;)Vu[a].id===this.id&&Vu.splice(a,1)},e.revert=function(r){this.kill(r||{})},n}(),Xce=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){bo(r)||(r={matches:r});var o=new W6(0,s||this.scope),a=o.conditions={},l,u,c;Pn&&!o.selector&&(o.selector=Pn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(u in r)u==="all"?c=1:(l=ss.matchMedia(r[u]),l&&(Vu.indexOf(o)<0&&Vu.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(kM):l.addEventListener("change",kM)));return c&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),Dv={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return P6(i)})},timeline:function(e){return new Wr(e)},getTweensOf:function(e,t){return yn.getTweensOf(e,t)},getProperty:function(e,t,r,i){pr(e)&&(e=gs(e)[0]);var s=Uu(e||{}).get,o=r?g6:m6;return r==="native"&&(r=""),e&&(t?o((bi[t]&&bi[t].get||s)(e,t,r,i)):function(a,l,u){return o((bi[a]&&bi[a].get||s)(e,a,l,u))})},quickSetter:function(e,t,r){if(e=gs(e),e.length>1){var i=e.map(function(c){return yi.quickSetter(c,t,r)}),s=i.length;return function(c){for(var f=s;f--;)i[f](c)}}e=e[0]||{};var o=bi[t],a=Uu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,u=o?function(c){var f=new o;Rf._pt=0,f.init(e,r?c+r:c,Rf,0,[e]),f.render(1,f),Rf._pt&&SE(1,Rf)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,t,r){var i,s=yi.to(e,ic((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,u,c){return s.resetTo(t,l,u,c)};return o.tween=s,o},isTweening:function(e){return yn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Hu(e.ease,cd.ease)),RI(cd,e||{})},config:function(e){return RI(Li,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!bi[a]&&!Oi[a]&&Tv(t+" effect requires "+a+" plugin.")}),$w[t]=function(a,l,u){return r(gs(a),Ss(l||{},s),u)},o&&(Wr.prototype[t]=function(a,l,u){return this.add($w[t](a,bo(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){Et[e]=Hu(t)},parseEase:function(e,t){return arguments.length?Hu(e,t):Et},getById:function(e){return yn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Wr(e),i,s;for(r.smoothChildTiming=di(e.smoothChildTiming),yn.remove(r),r._dp=0,r._time=r._tTime=yn._time,i=yn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof jn&&i.vars.onComplete===i._targets[0]))&&ho(r,i,i._start-i._delay),i=s;return ho(yn,r,0),r},context:function(e,t){return e?new W6(e,t):Pn},matchMedia:function(e){return new Xce(e)},matchMediaRefresh:function(){return Vu.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||kM()},addEventListener:function(e,t){var r=Py[e]||(Py[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Py[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:Cce,wrapYoyo:Ece,distribute:A6,random:b6,snap:M6,normalize:bce,getUnit:Pr,clamp:wce,splitColor:R6,toArray:gs,selector:DM,mapRange:E6,pipe:Ace,unitize:Mce,interpolate:Tce,shuffle:S6},install:c6,effects:$w,ticker:Ci,updateRoot:Wr.updateRoot,plugins:bi,globalTimeline:yn,core:{PropTween:pi,globals:f6,Tween:jn,Timeline:Wr,Animation:Yp,getCache:Uu,_removeLinkedListItem:O1,reverting:function(){return Br},context:function(e){return e&&Pn&&(Pn.data.push(e),e._ctx=Pn),Pn},suppressOverwrites:function(e){return cE=e}}};hi("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return Dv[n]=jn[n]});Ci.add(Wr.updateRoot);Rf=Dv.to({},{duration:0});var Kce=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Yce=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Kce(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},Qw=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(pr(s)&&(l={},hi(s,function(c){return l[c]=1}),s=l),t){l={};for(u in s)l[u]=t(s[u]);s=l}Yce(a,s)}}}},yi=Dv.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Br?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},Qw("roundProps",IM),Qw("modifiers"),Qw("snap",M6))||Dv;jn.version=Wr.version=yi.version="3.12.0";u6=1;dE()&&hd();Et.Power0;Et.Power1;Et.Power2;Et.Power3;Et.Power4;Et.Linear;Et.Quad;Et.Cubic;Et.Quart;Et.Quint;Et.Strong;Et.Elastic;Et.Back;Et.SteppedEase;Et.Bounce;Et.Sine;Et.Expo;Et.Circ;/*!
 * CSSPlugin 3.12.0
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var FI,il,Vf,AE,Pu,OI,ME,Qce=function(){return typeof window<"u"},ma={},mu=180/Math.PI,Wf=Math.PI/180,rf=Math.atan2,NI=1e8,bE=/([A-Z])/g,qce=/(left|right|width|margin|padding|x)/i,Zce=/[\s,\(]\S/,mo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},FM=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},efe=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},tfe=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},nfe=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},j6=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},$6=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},rfe=function(e,t,r){return e.style[t]=r},ife=function(e,t,r){return e.style.setProperty(t,r)},sfe=function(e,t,r){return e._gsap[t]=r},ofe=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},afe=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},lfe=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},_n="transform",Ws=_n+"Origin",ufe=function n(e,t){var r=this,i=this.target,s=i.style;if(e in ma&&s){if(this.tfm=this.tfm||{},e!=="transform")e=mo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=$o(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:$o(i,e);else return mo.transform.split(",").forEach(function(o){return n.call(r,o,t)});if(this.props.indexOf(_n)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ws,t,"")),e=_n}(s||t)&&this.props.push(e,t,s[e])},J6=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},cfe=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(bE,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=ME(),(!s||!s.isStart)&&!r[_n]&&(J6(r),i.uncache=1)}},X6=function(e,t){var r={target:e,props:[],revert:cfe,save:ufe};return e._gsap||yi.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},K6,OM=function(e,t){var r=il.createElementNS?il.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):il.createElement(e);return r.style?r:il.createElement(e)},wo=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(bE,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,pd(t)||t,1)||""},zI="O,Moz,ms,Ms,Webkit".split(","),pd=function(e,t,r){var i=t||Pu,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(zI[o]+e in s););return o<0?null:(o===3?"ms":o>=0?zI[o]:"")+e},NM=function(){Qce()&&window.document&&(FI=window,il=FI.document,Vf=il.documentElement,Pu=OM("div")||{style:{}},OM("div"),_n=pd(_n),Ws=_n+"Origin",Pu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",K6=!!pd("perspective"),ME=yi.core.reverting,AE=1)},qw=function n(e){var t=OM("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Vf.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Vf.removeChild(t),this.style.cssText=s,o},UI=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},Y6=function(e){var t;try{t=e.getBBox()}catch{t=qw.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===qw||(t=qw.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+UI(e,["x","cx","x1"])||0,y:+UI(e,["y","cy","y1"])||0,width:0,height:0}:t},Q6=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Y6(e))},Qp=function(e,t){if(t){var r=e.style;t in ma&&t!==Ws&&(t=_n),r.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(t.replace(bE,"-$1").toLowerCase())):r.removeAttribute(t)}},sl=function(e,t,r,i,s,o){var a=new pi(e._pt,t,r,0,1,o?$6:j6);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},GI={deg:1,rad:1,turn:1},ffe={grid:1,flex:1},Tl=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Pu.style,l=qce.test(t),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,h=i==="px",m=i==="%",g,y,v,x;return i===o||!s||GI[i]||GI[o]?s:(o!=="px"&&!h&&(s=n(e,t,r,"px")),x=e.getCTM&&Q6(e),(m||o==="%")&&(ma[t]||~t.indexOf("adius"))?(g=x?e.getBBox()[l?"width":"height"]:e[c],Nn(m?s/g*f:s/100*g)):(a[l?"width":"height"]=f+(h?o:i),y=~t.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,x&&(y=(e.ownerSVGElement||{}).parentNode),(!y||y===il||!y.appendChild)&&(y=il.body),v=y._gsap,v&&m&&v.width&&l&&v.time===Ci.time&&!v.uncache?Nn(s/v.width*f):((m||o==="%")&&!ffe[wo(y,"display")]&&(a.position=wo(e,"position")),y===e&&(a.position="static"),y.appendChild(Pu),g=Pu[c],y.removeChild(Pu),a.position="absolute",l&&m&&(v=Uu(y),v.time=Ci.time,v.width=y[c]),Nn(h?g*s/f:g&&s?f/g*s:0))))},$o=function(e,t,r,i){var s;return AE||NM(),t in mo&&t!=="transform"&&(t=mo[t],~t.indexOf(",")&&(t=t.split(",")[0])),ma[t]&&t!=="transform"?(s=Zp(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Lv(wo(e,Ws))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Iv[t]&&Iv[t](e,t,r)||wo(e,t)||h6(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Tl(e,t,s,r)+r:s},dfe=function(e,t,r,i){if(!r||r==="none"){var s=pd(t,e,1),o=s&&wo(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=wo(e,"borderTopColor"))}var a=new pi(this._pt,e.style,t,0,1,H6),l=0,u=0,c,f,h,m,g,y,v,x,_,S,M,C;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[t]=i,i=wo(e,t)||i,e.style[t]=r),c=[r,i],D6(c),r=c[0],i=c[1],h=r.match(Pf)||[],C=i.match(Pf)||[],C.length){for(;f=Pf.exec(i);)v=f[0],_=i.substring(l,f.index),g?g=(g+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(g=1),v!==(y=h[u++]||"")&&(m=parseFloat(y)||0,M=y.substr((m+"").length),v.charAt(1)==="="&&(v=Hf(m,v)+M),x=parseFloat(v),S=v.substr((x+"").length),l=Pf.lastIndex-S.length,S||(S=S||Li.units[t]||M,l===i.length&&(i+=S,a.e+=S)),M!==S&&(m=Tl(e,t,y,S)||0),a._pt={_next:a._pt,p:_||u===1?_:",",s:m,c:x-m,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?$6:j6;return a6.test(i)&&(a.e=0),this._pt=a,a},HI={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},hfe=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=HI[r]||r,t[1]=HI[i]||i,t.join(" ")},pfe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],ma[a]&&(l=1,a=a==="transformOrigin"?Ws:_n),Qp(r,a);l&&(Qp(r,_n),o&&(o.svg&&r.removeAttribute("transform"),Zp(r,1),o.uncache=1,J6(i)))}},Iv={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new pi(e._pt,t,r,0,0,pfe);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},qp=[1,0,0,1,0,0],q6={},Z6=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},VI=function(e){var t=wo(e,_n);return Z6(t)?qp:t.substr(7).match(o6).map(Nn)},CE=function(e,t){var r=e._gsap||Uu(e),i=e.style,s=VI(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?qp:s):(s===qp&&!e.offsetParent&&e!==Vf&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,Vf.appendChild(e)),s=VI(e),l?i.display=l:Qp(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Vf.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},zM=function(e,t,r,i,s,o){var a=e._gsap,l=s||CE(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,m=l[0],g=l[1],y=l[2],v=l[3],x=l[4],_=l[5],S=t.split(" "),M=parseFloat(S[0])||0,C=parseFloat(S[1])||0,T,R,b,B;r?l!==qp&&(R=m*v-g*y)&&(b=M*(v/R)+C*(-y/R)+(y*_-v*x)/R,B=M*(-g/R)+C*(m/R)-(m*_-g*x)/R,M=b,C=B):(T=Y6(e),M=T.x+(~S[0].indexOf("%")?M/100*T.width:M),C=T.y+(~(S[1]||S[0]).indexOf("%")?C/100*T.height:C)),i||i!==!1&&a.smooth?(x=M-u,_=C-c,a.xOffset=f+(x*m+_*y)-x,a.yOffset=h+(x*g+_*v)-_):a.xOffset=a.yOffset=0,a.xOrigin=M,a.yOrigin=C,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[Ws]="0px 0px",o&&(sl(o,a,"xOrigin",u,M),sl(o,a,"yOrigin",c,C),sl(o,a,"xOffset",f,a.xOffset),sl(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",M+" "+C)},Zp=function(e,t){var r=e._gsap||new F6(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=wo(e,Ws)||"0",c,f,h,m,g,y,v,x,_,S,M,C,T,R,b,B,I,k,j,G,N,$,X,te,O,z,H,K,ee,ce,ge,Re;return c=f=h=y=v=x=_=S=M=0,m=g=1,r.svg=!!(e.getCTM&&Q6(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[_n]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[_n]!=="none"?l[_n]:"")),i.scale=i.rotate=i.translate="none"),R=CE(e,r.svg),r.svg&&(r.uncache?(O=e.getBBox(),u=r.xOrigin-O.x+"px "+(r.yOrigin-O.y)+"px",te=""):te=!t&&e.getAttribute("data-svg-origin"),zM(e,te||u,!!te||r.originIsAbsolute,r.smooth!==!1,R)),C=r.xOrigin||0,T=r.yOrigin||0,R!==qp&&(k=R[0],j=R[1],G=R[2],N=R[3],c=$=R[4],f=X=R[5],R.length===6?(m=Math.sqrt(k*k+j*j),g=Math.sqrt(N*N+G*G),y=k||j?rf(j,k)*mu:0,_=G||N?rf(G,N)*mu+y:0,_&&(g*=Math.abs(Math.cos(_*Wf))),r.svg&&(c-=C-(C*k+T*G),f-=T-(C*j+T*N))):(Re=R[6],ce=R[7],H=R[8],K=R[9],ee=R[10],ge=R[11],c=R[12],f=R[13],h=R[14],b=rf(Re,ee),v=b*mu,b&&(B=Math.cos(-b),I=Math.sin(-b),te=$*B+H*I,O=X*B+K*I,z=Re*B+ee*I,H=$*-I+H*B,K=X*-I+K*B,ee=Re*-I+ee*B,ge=ce*-I+ge*B,$=te,X=O,Re=z),b=rf(-G,ee),x=b*mu,b&&(B=Math.cos(-b),I=Math.sin(-b),te=k*B-H*I,O=j*B-K*I,z=G*B-ee*I,ge=N*I+ge*B,k=te,j=O,G=z),b=rf(j,k),y=b*mu,b&&(B=Math.cos(b),I=Math.sin(b),te=k*B+j*I,O=$*B+X*I,j=j*B-k*I,X=X*B-$*I,k=te,$=O),v&&Math.abs(v)+Math.abs(y)>359.9&&(v=y=0,x=180-x),m=Nn(Math.sqrt(k*k+j*j+G*G)),g=Nn(Math.sqrt(X*X+Re*Re)),b=rf($,X),_=Math.abs(b)>2e-4?b*mu:0,M=ge?1/(ge<0?-ge:ge):0),r.svg&&(te=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Z6(wo(e,_n)),te&&e.setAttribute("transform",te))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(m*=-1,_+=y<=0?180:-180,y+=y<=0?180:-180):(g*=-1,_+=_<=0?180:-180)),t=t||r.uncache,r.x=c-((r.xPercent=c&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=h+o,r.scaleX=Nn(m),r.scaleY=Nn(g),r.rotation=Nn(y)+a,r.rotationX=Nn(v)+a,r.rotationY=Nn(x)+a,r.skewX=_+a,r.skewY=S+a,r.transformPerspective=M+o,(r.zOrigin=parseFloat(u.split(" ")[2])||0)&&(i[Ws]=Lv(u)),r.xOffset=r.yOffset=0,r.force3D=Li.force3D,r.renderTransform=r.svg?gfe:K6?e9:mfe,r.uncache=0,r},Lv=function(e){return(e=e.split(" "))[0]+" "+e[1]},Zw=function(e,t,r){var i=Pr(t);return Nn(parseFloat(t)+parseFloat(Tl(e,"x",r+"px",i)))+i},mfe=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,e9(e,t)},au="0deg",Ch="0px",lu=") ",e9=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,f=r.rotationX,h=r.skewX,m=r.skewY,g=r.scaleX,y=r.scaleY,v=r.transformPerspective,x=r.force3D,_=r.target,S=r.zOrigin,M="",C=x==="auto"&&e&&e!==1||x===!0;if(S&&(f!==au||c!==au)){var T=parseFloat(c)*Wf,R=Math.sin(T),b=Math.cos(T),B;T=parseFloat(f)*Wf,B=Math.cos(T),o=Zw(_,o,R*B*-S),a=Zw(_,a,-Math.sin(T)*-S),l=Zw(_,l,b*B*-S+S)}v!==Ch&&(M+="perspective("+v+lu),(i||s)&&(M+="translate("+i+"%, "+s+"%) "),(C||o!==Ch||a!==Ch||l!==Ch)&&(M+=l!==Ch||C?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+lu),u!==au&&(M+="rotate("+u+lu),c!==au&&(M+="rotateY("+c+lu),f!==au&&(M+="rotateX("+f+lu),(h!==au||m!==au)&&(M+="skew("+h+", "+m+lu),(g!==1||y!==1)&&(M+="scale("+g+", "+y+lu),_.style[_n]=M||"translate(0, 0)"},gfe=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,f=r.scaleX,h=r.scaleY,m=r.target,g=r.xOrigin,y=r.yOrigin,v=r.xOffset,x=r.yOffset,_=r.forceCSS,S=parseFloat(o),M=parseFloat(a),C,T,R,b,B;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=Wf,u*=Wf,C=Math.cos(l)*f,T=Math.sin(l)*f,R=Math.sin(l-u)*-h,b=Math.cos(l-u)*h,u&&(c*=Wf,B=Math.tan(u-c),B=Math.sqrt(1+B*B),R*=B,b*=B,c&&(B=Math.tan(c),B=Math.sqrt(1+B*B),C*=B,T*=B)),C=Nn(C),T=Nn(T),R=Nn(R),b=Nn(b)):(C=f,b=h,T=R=0),(S&&!~(o+"").indexOf("px")||M&&!~(a+"").indexOf("px"))&&(S=Tl(m,"x",o,"px"),M=Tl(m,"y",a,"px")),(g||y||v||x)&&(S=Nn(S+g-(g*C+y*R)+v),M=Nn(M+y-(g*T+y*b)+x)),(i||s)&&(B=m.getBBox(),S=Nn(S+i/100*B.width),M=Nn(M+s/100*B.height)),B="matrix("+C+","+T+","+R+","+b+","+S+","+M+")",m.setAttribute("transform",B),_&&(m.style[_n]=B)},yfe=function(e,t,r,i,s){var o=360,a=pr(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?mu:1),u=l-i,c=i+u+"deg",f,h;return a&&(f=s.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*NI)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*NI)%o-~~(u/o)*o)),e._pt=h=new pi(e._pt,t,r,i,u,efe),h.e=c,h.u="deg",e._props.push(r),h},WI=function(e,t){for(var r in t)e[r]=t[r];return e},vfe=function(e,t,r){var i=WI({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,f,h,m,g;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[_n]=t,a=Zp(r,1),Qp(r,_n),r.setAttribute("transform",u)):(u=getComputedStyle(r)[_n],o[_n]=t,a=Zp(r,1),o[_n]=u);for(l in ma)u=i[l],c=a[l],u!==c&&s.indexOf(l)<0&&(m=Pr(u),g=Pr(c),f=m!==g?Tl(r,l,u,g):parseFloat(u),h=parseFloat(c),e._pt=new pi(e._pt,a,l,f,h-f,FM),e._pt.u=g||0,e._props.push(l));WI(a,i)};hi("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});Iv[e>1?"border"+n:n]=function(a,l,u,c,f){var h,m;if(arguments.length<4)return h=o.map(function(g){return $o(a,g,u)}),m=h.join(" "),m.split(h[0]).length===5?h[0]:m;h=(c+"").split(" "),m={},o.forEach(function(g,y){return m[g]=h[y]=h[y]||h[(y-1)/2|0]}),a.init(l,m,f)}});var t9={name:"css",register:NM,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,u,c,f,h,m,g,y,v,x,_,S,M,C,T,R,b;AE||NM(),this.styles=this.styles||X6(e),b=this.styles.props,this.tween=r;for(y in t)if(y!=="autoRound"&&(c=t[y],!(bi[y]&&O6(y,t,r,i,e,s)))){if(m=typeof c,g=Iv[y],m==="function"&&(c=c.call(r,i,e,s),m=typeof c),m==="string"&&~c.indexOf("random(")&&(c=Xp(c)),g)g(this,e,y,c,r)&&(R=1);else if(y.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(y)+"").trim(),c+="",gl.lastIndex=0,gl.test(u)||(v=Pr(u),x=Pr(c)),x?v!==x&&(u=Tl(e,y,u,x)+x):v&&(c+=v),this.add(a,"setProperty",u,c,i,s,0,0,y),o.push(y),b.push(y,0,a[y]);else if(m!=="undefined"){if(l&&y in l?(u=typeof l[y]=="function"?l[y].call(r,i,e,s):l[y],pr(u)&&~u.indexOf("random(")&&(u=Xp(u)),Pr(u+"")||(u+=Li.units[y]||Pr($o(e,y))||""),(u+"").charAt(1)==="="&&(u=$o(e,y))):u=$o(e,y),h=parseFloat(u),_=m==="string"&&c.charAt(1)==="="&&c.substr(0,2),_&&(c=c.substr(2)),f=parseFloat(c),y in mo&&(y==="autoAlpha"&&(h===1&&$o(e,"visibility")==="hidden"&&f&&(h=0),b.push("visibility",0,a.visibility),sl(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),y!=="scale"&&y!=="transform"&&(y=mo[y],~y.indexOf(",")&&(y=y.split(",")[0]))),S=y in ma,S){if(this.styles.save(y),M||(C=e._gsap,C.renderTransform&&!t.parseTransform||Zp(e,t.parseTransform),T=t.smoothOrigin!==!1&&C.smooth,M=this._pt=new pi(this._pt,a,_n,0,1,C.renderTransform,C,0,-1),M.dep=1),y==="scale")this._pt=new pi(this._pt,C,"scaleY",C.scaleY,(_?Hf(C.scaleY,_+f):f)-C.scaleY||0,FM),this._pt.u=0,o.push("scaleY",y),y+="X";else if(y==="transformOrigin"){b.push(Ws,0,a[Ws]),c=hfe(c),C.svg?zM(e,c,0,T,0,this):(x=parseFloat(c.split(" ")[2])||0,x!==C.zOrigin&&sl(this,C,"zOrigin",C.zOrigin,x),sl(this,a,y,Lv(u),Lv(c)));continue}else if(y==="svgOrigin"){zM(e,c,1,T,0,this);continue}else if(y in q6){yfe(this,C,y,h,_?Hf(h,_+c):c);continue}else if(y==="smoothOrigin"){sl(this,C,"smooth",C.smooth,c);continue}else if(y==="force3D"){C[y]=c;continue}else if(y==="transform"){vfe(this,c,e);continue}}else y in a||(y=pd(y)||y);if(S||(f||f===0)&&(h||h===0)&&!Zce.test(c)&&y in a)v=(u+"").substr((h+"").length),f||(f=0),x=Pr(c)||(y in Li.units?Li.units[y]:v),v!==x&&(h=Tl(e,y,u,x)),this._pt=new pi(this._pt,S?C:a,y,h,(_?Hf(h,_+f):f)-h,!S&&(x==="px"||y==="zIndex")&&t.autoRound!==!1?nfe:FM),this._pt.u=x||0,v!==x&&x!=="%"&&(this._pt.b=u,this._pt.r=tfe);else if(y in a)dfe.call(this,e,y,u,_?_+c:c);else if(y in e)this.add(e,y,u||e[y],_?_+c:c,i,s);else if(y!=="parseTransform"){pE(y,c);continue}S||(y in a?b.push(y,0,a[y]):b.push(y,1,u||e[y])),o.push(y)}}R&&V6(this)},render:function(e,t){if(t.tween._time||!ME())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:$o,aliases:mo,getSetter:function(e,t,r){var i=mo[t];return i&&i.indexOf(",")<0&&(t=i),t in ma&&t!==Ws&&(e._gsap.x||$o(e,"x"))?r&&OI===r?t==="scale"?ofe:sfe:(OI=r||{})&&(t==="scale"?afe:lfe):e.style&&!fE(e.style[t])?rfe:~t.indexOf("-")?ife:wE(e,t)},core:{_removeProperty:Qp,_getMatrix:CE}};yi.utils.checkPrefix=pd;yi.core.getStyleSaver=X6;(function(n,e,t,r){var i=hi(n+","+e+","+t,function(s){ma[s]=1});hi(e,function(s){Li.units[s]="deg",q6[s]=1}),mo[i[13]]=n+","+e,hi(r,function(s){var o=s.split(":");mo[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");hi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Li.units[n]="px"});yi.registerPlugin(t9);var n9=yi.registerPlugin(t9)||yi;n9.core.Tween;const xfe=n=>{const{section:e,onSectionChange:t}=n,r=SC(),i=P.useRef(0),s=P.useRef(!1);return r.fill.classList.add("top-0"),r.fill.classList.add("absolute"),P.useEffect(()=>{n9.to(r.el,{duration:1,scrollTop:e*r.el.clientHeight,onStart:()=>{s.current=!0},onComplete:()=>{s.current=!1}})},[e]),Ol(()=>{if(s.current){i.current=r.scroll.current;return}const o=Math.floor(r.scroll.current*r.pages);r.scroll.current>i.current&&o===0&&t(1),r.scroll.current<i.current&&r.scroll.current<1/(r.pages-1)&&t(0),i.current=r.scroll.current}),null};function _fe(){const[n,e]=P.useState(0),[t,r]=P.useState(!1);return P.useEffect(()=>{r(!1)},[n]),ut(Fv,{children:[ut(Kte,{transition:{...MM},children:[oe("div",{className:"w-screen h-screen relative",children:oe("div",{className:"bg-slate-100 backdrop-blur-sm w-screen h-screen absolute",children:oe(pK,{shadows:!0,camera:{position:[0,3,10],fov:42},children:ut(LK,{pages:4,damping:.1,children:[oe(xfe,{section:n,onSectionChange:e}),oe(RR,{children:oe(Yue,{section:n,menuOpened:t})}),oe(RR,{html:!0,children:oe(rce,{})})]})})})}),oe(ice,{onSectionChange:e,menuOpened:t,setMenuOpened:r}),oe(Lue,{})]}),oe(Kz,{hidden:!0})]})}eS.createRoot(document.getElementById("root")).render(oe(J.StrictMode,{children:oe(_fe,{})}));
